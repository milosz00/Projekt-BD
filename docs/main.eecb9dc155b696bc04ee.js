(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return a});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),c=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:l});c.resolve(u)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,c=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),h=u.next();!h.done;h=u.next()){var d=Object(r.e)(h.value,2),p=d[1];c===this.normalizeInstanceIdentifier(d[0])&&p.resolve(l)}}catch(f){e={error:f}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return l},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("/6Yf"),o=n("qOnz"),s=n("mrSG"),a=n("q/0M"),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.B)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.v)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.h)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),u=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new l},h=u("localStorage"),d=u("sessionStorage"),p=new a.b("@firebase/database"),f=(e=1,function(){return e++}),g=function(t){var e=Object(o.A)(t),n=new o.c;n.update(e);var r=n.digest();return o.f.encodeByteArray(r)},m=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=m.apply(null,i):n+="object"==typeof i?Object(o.B)(i):i,n+=" "}return n},b=null,y=!0,_=function(t,e){Object(o.d)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(p.logLevel=a.a.VERBOSE,b=p.log.bind(p),e&&d.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,d.remove("logging_enabled"))},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===y&&(y=!1,null===b&&!0===d.get("logging_enabled")&&_(!0)),b){var n=m.apply(null,t);b(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];v.apply(void 0,Object(s.f)([t],Object(s.e)(e)))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(s.f)([],Object(s.e)(t)));p.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(s.f)([],Object(s.e)(t)));throw p.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+m.apply(void 0,Object(s.f)([],Object(s.e)(t)));p.warn(n)},x=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},E="[MIN_NAME]",k="[MAX_NAME]",T=function(t,e){if(t===e)return 0;if(t===E||e===k)return-1;if(e===E||t===k)return 1;var n=M(t),r=M(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},I=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.B)(e))},j=function(t){if("object"!=typeof t||null===t)return Object(o.B)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(o.B)(e[i]),r+=":",r+=j(t[e[i]]);return r+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function P(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var D=function(t){var e,n,r,i,s;Object(o.d)(!x(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),l="";for(s=0;s<64;s+=8){var u=parseInt(c.substr(s,8),2).toString(16);1===u.length&&(u="0"+u),l+=u}return l.toLowerCase()},N=new RegExp("^-?(0*)\\d{1,10}$"),M=function(t){if(N.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},V=function(t){try{t()}catch(e){setTimeout(function(){throw S("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},F=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},L=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(v("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';S(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),U=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,z="websocket",q="long_polling",Q=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function B(t,e,n){var r;if(Object(o.d)("string"==typeof e,"typeof type must == string"),Object(o.d)("object"==typeof n,"typeof params must == object"),e===z)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==q)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return P(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var W=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.h)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.j)(this.counters_)},t}(),$={},Y={};function G(t){var e=t.toString();return $[e]||($[e]=new W),$[e]}var K=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&V(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Z="start",J="close",X=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=G(e),this.urlFn=function(t){return B(e,q,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new K(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(o.s)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new tt(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(s.e)(t,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Z)n.id=o,n.password=a;else{if(i!==J)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(s.e)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.s)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.B)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.g)(e),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.s)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.B)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),tt=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.s)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=f(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){v("frame writing exception"),c.stack&&v(c.stack),v(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||v("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(o.s)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){v("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),et="";function nt(t){et=t}var rt=null;"undefined"!=typeof MozWebSocket?rt=MozWebSocket:"undefined"!=typeof WebSocket&&(rt=WebSocket);var it=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=G(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.s)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),B(t,z,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.s)()){var r={headers:{"User-Agent":"Firebase/5/"+et+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new rt(this.connURL,[],r)}else this.mySock=new rt(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(c){this.log_("Error instantiating WebSocket.");var a=c.message||c.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==rt&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.v)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.d)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.B)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ot=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[X,it]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=it&&it.isAvailable(),o=i&&!it.previouslyFailed();if(e.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[it];else{var a=this.transports_=[];try{for(var c=Object(s.g)(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var u=l.value;u&&u.isAvailable()&&a.push(u)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),st=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new ot(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=F(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),F(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):F(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),at=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ct=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.d)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(s.f)([],Object(s.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.d)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),lt=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.q)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(s.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.d)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ct),ut=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ht(){return new ut("")}function dt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pt(t){return t.pieces_.length-t.pieceNum_}function ft(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new ut(t.pieces_,e)}function gt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function mt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function bt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ut(e,0)}function yt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ut)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ut(n,0)}function _t(t){return t.pieceNum_>=t.pieces_.length}function vt(t,e){var n=dt(t),r=dt(e);if(null===n)return e;if(n===r)return vt(ft(t),ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wt(t,e){for(var n=mt(t,0),r=mt(e,0),i=0;i<n.length&&i<r.length;i++){var o=T(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ct(t,e){if(pt(t)!==pt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ot(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(pt(t)>pt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var St=function(){return function(t,e){this.errorPrefix_=e,this.parts_=mt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.z)(this.parts_[n]);xt(this)}}();function xt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Et(t))}function Et(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var kt,Tt,It=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(s.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.d)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ct),At=1e3,jt=function(t){function e(n,r,i,s,a,c,l){var u=t.call(this)||this;if(u.repoInfo_=n,u.applicationId_=r,u.onDataUpdate_=i,u.onConnectStatus_=s,u.onServerInfoUpdate_=a,u.authTokenProvider_=c,u.authOverride_=l,u.id=e.nextPersistentConnectionId_++,u.log_=w("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingGets_=[],u.outstandingPutCount_=0,u.outstandingGetCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=At,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!Object(o.s)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),It.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&lt.getInstance().on("online",u.onOnline_,u),u}return Object(s.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.B)(i)),Object(o.d)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){var i=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.d)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.d)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.h)(t,"w")){var n=Object(o.y)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.n)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.u)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.d)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.B)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+Object(o.B)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.d)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=At),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this,c=this.lastSessionId,l=!1,u=null,h=function(){u?u.close():(l=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.d)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then(function(t){l?v("getToken() completed but was canceled"):(v("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,u=new st(s,a.repoInfo_,a.applicationId_,n,r,i,function(t){S(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},c))}).then(null,function(e){a.log_("Failed to get token: "+e),l||(t.repoInfo_.nodeAdmin&&S(e),h())})}},e.prototype.interrupt=function(t){v("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){v("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.p)(this.interruptReasons_)&&(this.reconnectDelay_=At,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return j(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ut(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){v("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=Object(s.g)(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var c=(n=void 0,Object(s.g)(a.values())),l=c.next();!l.done;l=c.next())this.sendListen_(l.value)}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var u=0;u<this.outstandingPuts_.length;u++)this.outstandingPuts_[u]&&this.sendPut_(u);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.s)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+et.replace(/\./g,"-")]=1,Object(o.q)()?t["framework.cordova"]=1:Object(o.t)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=lt.getInstance().currentlyOnline();return Object(o.p)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(at),Rt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Pt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Rt(E,t),r=new Rt(E,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Rt.MIN},t}(),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return kt},set:function(t){kt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return T(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.e)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Rt.MIN},e.prototype.maxPost=function(){return new Rt(k,kt)},e.prototype.makePost=function(t,e){return Object(o.d)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Rt(t,kt)},e.prototype.toString=function(){return".key"},e}(Pt),Nt=new Dt,Mt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Vt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Lt.EMPTY_NODE,this.right=null!=o?o:Lt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Lt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Lt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ft=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Vt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Lt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Vt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Vt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Mt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Mt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ft,t}();function Ut(t,e){return T(t.name,e.name)}function Ht(t,e){return T(t,e)}var zt,qt,Qt,Bt,Wt,$t=function(t){return"number"==typeof t?"number:"+D(t):"string:"+t},Yt=function(t){if(t.isLeafNode()){var e=t.val();Object(o.d)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.h)(e,".sv"),"Priority must be a string or number.")}else Object(o.d)(t===Tt||t.isEmpty(),"priority of unexpected type.");Object(o.d)(t===Tt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Gt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.d)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Yt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return zt},set:function(t){zt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return _t(e)?this:".priority"===dt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=dt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.d)(".priority"!==r||1===pt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+$t(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?D(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.d)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.d)(i>=0,"Unknown leaf type: "+n),Object(o.d)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?T(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Rt.MIN},e.prototype.maxPost=function(){return new Rt(k,new Gt("[PRIORITY-POST]",Qt))},e.prototype.makePost=function(t,e){var n=qt(t);return new Rt(e,new Gt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Pt)),Zt=Math.log(2),Jt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Zt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Xt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Vt(s,o.node,Vt.BLACK,null,null);var c=parseInt(a/2,10)+e,l=i(e,c),u=i(c+1,r);return o=t[c],s=n?n(o):o,new Vt(s,o.node,Vt.BLACK,l,u)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var l=i(o+1,a),u=t[o],h=n?n(u):u;c(new Vt(h,u.node,r,null,l))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},l=0;l<e.count;++l){var u=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));u?a(h,Vt.BLACK):(a(h,Vt.BLACK),a(h,Vt.RED))}return o}(new Jt(t.length));return new Lt(r||e,o)},te={},ee=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.d)(te&&Kt,"ChildrenNode.ts has not been loaded"),Bt=Bt||new t({".priority":te},{".priority":Kt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.y)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lt?e:null},t.prototype.hasIndex=function(t){return Object(o.h)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.d)(e!==Nt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,c=n.getIterator(Rt.Wrap),l=c.getNext();l;)a=a||e.isDefinedOn(l.node),i.push(l),l=c.getNext();r=a?Xt(i,e.getCompare()):te;var u=e.toString(),h=Object(s.a)({},this.indexSet_);h[u]=e;var d=Object(s.a)({},this.indexes_);return d[u]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.w)(this.indexes_,function(t,i){var s=Object(o.y)(r.indexSet_,i);if(Object(o.d)(s,"Missing index implementation for "+i),t===te){if(s.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(Rt.Wrap),l=c.getNext();l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Xt(a,s.getCompare())}return te}var u=n.get(e.name),h=t;return u&&(h=h.remove(new Rt(e.name,u))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.w)(this.indexes_,function(t){if(t===te)return t;var r=n.get(e.name);return r?t.remove(new Rt(e.name,r)):t}),this.indexSet_)},t}(),ne=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Yt(this.priorityNode_),this.children_.isEmpty()&&Object(o.d)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Wt||(Wt=new t(new Lt(Ht),null,ee.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Wt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Wt:e},t.prototype.getChild=function(t){var e=dt(t);return null===e?this:this.getImmediateChild(e).getChild(ft(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.d)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Rt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Wt:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=dt(t);if(null===n)return e;Object(o.d)(".priority"!==dt(t)||1===pt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ft(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Kt,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+$t(this.getPriority().val())+":"),this.forEachChild(Kt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Rt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Rt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Rt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Rt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Rt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===re?-1:0},t.prototype.withIndex=function(e){if(e===Nt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Nt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Kt),r=e.getIterator(Kt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Nt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),re=new(function(t){function e(){return t.call(this,new Lt(Ht),ne.EMPTY_NODE,ee.Default)||this}return Object(s.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ne.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ne));function ie(t,e){if(void 0===e&&(e=null),null===t)return ne.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.d)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Gt(t,ie(e));if(t instanceof Array){var n=ne.EMPTY_NODE;return P(t,function(e,r){if(Object(o.h)(t,e)&&"."!==e.substring(0,1)){var i=ie(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(ie(e))}var r=[],i=!1;if(P(t,function(t,e){if("."!==t.substring(0,1)){var n=ie(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Rt(t,n)))}}),0===r.length)return ne.EMPTY_NODE;var s=Xt(r,Ut,function(t){return t.name},Ht);if(i){var a=Xt(r,Kt.getCompare());return new ne(s,ie(e),new ee({".priority":a},{".priority":Kt}))}return new ne(s,ie(e),ee.Default)}Object.defineProperties(Rt,{MIN:{value:new Rt(E,ne.EMPTY_NODE)},MAX:{value:new Rt(k,re)}}),Dt.__EMPTY_NODE=ne.EMPTY_NODE,Gt.__childrenNodeConstructor=ne,Tt=re,Qt=re,qt=ie;var oe,se,ae=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.d)(!_t(e)&&".priority"!==dt(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(s.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?T(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=ie(t),r=ne.EMPTY_NODE.updateChild(this.indexPath_,n);return new Rt(e,r)},e.prototype.maxPost=function(){var t=ne.EMPTY_NODE.updateChild(this.indexPath_,re);return new Rt(k,t)},e.prototype.toString=function(){return mt(this.indexPath_,0).join("/")},e}(Pt),ce=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?T(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Rt.MIN},e.prototype.maxPost=function(){return Rt.MAX},e.prototype.makePost=function(t,e){var n=ie(t);return new Rt(e,n)},e.prototype.toString=function(){return".value"},e}(Pt)),le="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ue=(oe=0,se=[],function(t){var e,n=t===oe;oe=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=le.charAt(t%64),t=Math.floor(t/64);Object(o.d)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===se[e];e--)se[e]=0;se[e]++}else for(e=0;e<12;e++)se[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=le.charAt(se[e]);return Object(o.d)(20===i.length,"nextPushId: Length should be 20."),i}),he=function(t){if("2147483647"===t)return"-";var e=M(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return k;var o=le.charAt(le.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},de=function(t){if("-2147483648"===t)return E;var e=M(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=le.charAt(le.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function pe(t){return{type:"value",snapshotNode:t}}function fe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ge(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function me(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var be=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){Object(o.d)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(ge(e,a)):Object(o.d)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(fe(e,n)):s.trackChildChange(me(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Kt,function(t,r){e.hasChild(t)||n.trackChildChange(ge(t,r))}),e.isLeafNode()||e.forEachChild(Kt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(me(e,r,i))}else n.trackChildChange(fe(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ne.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(e){this.indexedFilter_=new be(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Rt(e,n))||(n=ne.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ne.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ne.EMPTY_NODE);var i=this;return e.forEachChild(Kt,function(t,e){i.matches(new Rt(t,e))||(r=r.updateImmediateChild(t,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),_e=function(){function t(t){this.rangedFilter_=new ye(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Rt(e,n))||(n=ne.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ne.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ne.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(ne.EMPTY_NODE);var a=void 0,c=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(t,e){return u(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&l(a,s)<=0&&(h=!0),h&&o<this.limit_&&l(s,c)<=0?o++:r=r.updateImmediateChild(s.name,ne.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;Object(o.d)(c.numChildren()===this.limit_,"");var l=new Rt(e,n),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),p=r.getChildAfterChild(this.index_,u,this.reverse_);null!=p&&(p.name===e||c.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:s(p,l);if(h&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(me(e,n,d)),c.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ge(e,d));var g=c.updateImmediateChild(e,ne.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(fe(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:h&&s(u,l)>=0?(null!=i&&(i.trackChildChange(ge(u.name,u.node)),i.trackChildChange(fe(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(u.name,ne.EMPTY_NODE)):t},t}(),ve=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.d)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:E},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.d)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:k},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.d)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Kt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function we(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ce(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Oe(t,e){var n=t.copy();return n.index_=e,n}function Se(t){var e,n={};return t.isDefault()||(t.index_===Kt?e="$priority":t.index_===ce?e="$value":t.index_===Nt?e="$key":(Object(o.d)(t.index_ instanceof ae,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.B)(e),t.startSet_&&(n.startAt=Object(o.B)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.B)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.B)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.B)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function xe(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Kt&&(e.i=t.index_.toString()),e}var Ee=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(s.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.d)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var c=e.getListenId_(t,r),l={};this.listens_[c]=l;var u=Se(t._queryParams);this.restRequest_(a+".json",u,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(o.y)(s.listens_,c)===l&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Se(t._queryParams),r=t._path.toString(),i=new o.a;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var s=i&&i.accessToken;s&&(e.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.x)(e);r.log_("Sending REST request for "+a);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=Object(o.v)(c.responseText)}catch(e){S("Failed to parse JSON response for "+a+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&S("Got unsuccessful REST response for "+a+" Status: "+c.status),n(c.status);n=null}},c.open("GET",a,!0),c.send()})},e}(at),ke=function(){function t(){this.rootNode_=ne.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Te(){return{value:null,children:new Map}}function Ie(t,e,n){if(_t(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=dt(e);t.children.has(r)||t.children.set(r,Te()),Ie(t.children.get(r),e=ft(e),n)}}function Ae(t,e){if(_t(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Kt,function(e,n){Ie(t,new ut(e),n)}),Ae(t,e)}if(t.children.size>0){var r=dt(e);return e=ft(e),t.children.has(r)&&Ae(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function je(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){je(r,new ut(e.toString()+"/"+t),n)})}var Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(s.a)({},t);return this.last_&&P(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Pe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var n=1e4+2e4*Math.random();F(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;P(e,function(e,i){i>0&&Object(o.h)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),F(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),De=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Ne(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Me,Ve=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=De.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(_t(this.path)){if(null!=this.affectedTree.value)return Object(o.d)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ut(e));return new t(ht(),n,this.revert)}return Object(o.d)(dt(this.path)===e,"operationForChild called for unrelated child."),new t(ft(this.path),this.affectedTree,this.revert)},t}(),Fe=function(){function t(t,e){this.source=t,this.path=e,this.type=De.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return _t(this.path)?new t(this.source,ht()):new t(this.source,ft(this.path))},t}(),Le=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=De.OVERWRITE}return t.prototype.operationForChild=function(e){return _t(this.path)?new t(this.source,ht(),this.snap.getImmediateChild(e)):new t(this.source,ft(this.path),this.snap)},t}(),Ue=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=De.MERGE}return t.prototype.operationForChild=function(e){if(_t(this.path)){var n=this.children.subtree(new ut(e));return n.isEmpty()?null:n.value?new Le(this.source,ht(),n.value):new t(this.source,ht(),n)}return Object(o.d)(dt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ft(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),He=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(_t(t))return this.isFullyInitialized()&&!this.filtered_;var e=dt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ze=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function qe(t,e,n,r,i,s){var a=r.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.e)("Should only compare child_ events.");var r=new Rt(e.childName,e.snapshotNode),i=new Rt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),a.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function Qe(t,e){return{eventCache:t,serverCache:e}}function Be(t,e,n,r){return Qe(new He(e,n,r),t.serverCache)}function We(t,e,n,r){return Qe(t.eventCache,new He(e,n,r))}function $e(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ye(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ge=function(){function t(t,e){void 0===e&&(Me||(Me=new Lt(I)),e=Me),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return P(e,function(t,e){n=n.set(new ut(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ht(),value:this.value};if(_t(t))return null;var n=dt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ft(t),e);return null!=i?{path:yt(new ut(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(_t(e))return this;var n=dt(e),r=this.children.get(n);return null!==r?r.subtree(ft(e)):new t(null)},t.prototype.set=function(e,n){if(_t(e))return new t(n,this.children);var r=dt(e),i=(this.children.get(r)||new t(null)).set(ft(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(_t(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=dt(e),r=this.children.get(n);if(r){var i=r.remove(ft(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(_t(t))return this.value;var e=dt(t),n=this.children.get(e);return n?n.get(ft(t)):null},t.prototype.setTree=function(e,n){if(_t(e))return n;var r,i=dt(e),o=(this.children.get(i)||new t(null)).setTree(ft(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(ht(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(yt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ht(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(_t(t))return null;var i=dt(t),o=this.children.get(i);return o?o.findOnPath_(ft(t),yt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ht(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(_t(e))return this;this.value&&r(n,this.value);var i=dt(e),o=this.children.get(i);return o?o.foreachOnPath_(ft(e),yt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(ht(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(yt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Ke=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Ge(null))},t}();function Ze(t,e,n){if(_t(e))return new Ke(new Ge(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=vt(i,e);return o=o.updateChild(s,n),new Ke(t.writeTree_.set(i,o))}var a=new Ge(n),c=t.writeTree_.setTree(e,a);return new Ke(c)}function Je(t,e,n){var r=t;return P(n,function(t,n){r=Ze(r,yt(e,t),n)}),r}function Xe(t,e){if(_t(e))return Ke.empty();var n=t.writeTree_.setTree(e,new Ge(null));return new Ke(n)}function tn(t,e){return null!=en(t,e)}function en(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(vt(n.path,e)):null}function nn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Kt,function(t,n){e.push(new Rt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Rt(t,n.value))}),e}function rn(t,e){if(_t(e))return t;var n=en(t,e);return new Ke(null!=n?new Ge(n):t.writeTree_.subtree(e))}function on(t){return t.writeTree_.isEmpty()}function sn(t,e){return an(ht(),t.writeTree_,e)}function an(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?(Object(o.d)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=an(yt(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(yt(t,".priority"),r)),n}function cn(t,e){return _n(e,t)}function ln(t,e){if(t.snap)return Ot(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Ot(yt(t.path,n),e))return!0;return!1}function un(t){return t.visible}function hn(t,e,n){for(var r=Ke.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,c=void 0;if(s.snap)Ot(n,a)?r=Ze(r,c=vt(n,a),s.snap):Ot(a,n)&&(c=vt(a,n),r=Ze(r,ht(),s.snap.getChild(c)));else{if(!s.children)throw Object(o.e)("WriteRecord should have .snap or .children");if(Ot(n,a))r=Je(r,c=vt(n,a),s.children);else if(Ot(a,n))if(_t(c=vt(a,n)))r=Je(r,ht(),s.children);else{var l=Object(o.y)(s.children,dt(c));if(l){var u=l.getChild(ft(c));r=Ze(r,ht(),u)}}}}}return r}function dn(t,e,n,r,i){if(r||i){var o=rn(t.visibleWrites,e);return!i&&on(o)?n:i||null!=n||tn(o,ht())?sn(hn(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Ot(t.path,e)||Ot(e,t.path))},e),n||ne.EMPTY_NODE):null}var s=en(t.visibleWrites,e);if(null!=s)return s;var a=rn(t.visibleWrites,e);return on(a)?n:null!=n||tn(a,ht())?sn(a,n||ne.EMPTY_NODE):null}function pn(t,e,n,r){return dn(t.writeTree,t.treePath,e,n,r)}function fn(t,e){return function(t,e,n){var r=ne.EMPTY_NODE,i=en(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Kt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=rn(t.visibleWrites,e);return n.forEachChild(Kt,function(t,e){var n=sn(rn(o,new ut(t)),e);r=r.updateImmediateChild(t,n)}),nn(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return nn(rn(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function gn(t,e,n,r){return function(t,e,n,r,i){Object(o.d)(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=yt(e,n);if(tn(t.visibleWrites,s))return null;var a=rn(t.visibleWrites,s);return on(a)?i.getChild(n):sn(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function mn(t,e){return function(t,e){return en(t.visibleWrites,e)}(t.writeTree,yt(t.treePath,e))}function bn(t,e,n){return function(t,e,n,r){var i=yt(e,n),o=en(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?sn(rn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function yn(t,e){return _n(yt(t.treePath,e),t.writeTree)}function _n(t,e){return{treePath:t,writeTree:e}}var vn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.d)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.d)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,me(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,ge(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,fe(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o.e)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,me(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),wn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Cn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new He(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ye(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,c=rn(t.visibleWrites,e),l=en(c,ht());if(null!=l)a=l;else{if(null==n)return[];a=sn(c,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var u=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),p=d.getNext();p&&u.length<1;)0!==h(p,r)&&u.push(p),p=d.getNext();return u}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function On(t,e,n,r,i,s){var a=e.eventCache;if(null!=mn(r,n))return e;var c=void 0,l=void 0;if(_t(n))if(Object(o.d)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var u=Ye(e),h=fn(r,u instanceof ne?u:ne.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=pn(r,Ye(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var p=dt(n);if(".priority"===p){Object(o.d)(1===pt(n),"Can't have a priority with additional path components");var f=a.getNode(),g=gn(r,n,f,l=e.serverCache.getNode());c=null!=g?t.filter.updatePriority(f,g):a.getNode()}else{var m=ft(n),b=void 0;if(a.isCompleteForChild(p)){l=e.serverCache.getNode();var y=gn(r,n,a.getNode(),l);b=null!=y?a.getNode().getImmediateChild(p).updateChild(m,y):a.getNode().getImmediateChild(p)}else b=bn(r,p,e.serverCache);c=null!=b?t.filter.updateChild(a.getNode(),p,b,m,i,s):a.getNode()}}return Be(e,c,a.isFullyInitialized()||_t(n),t.filter.filtersNodes())}function Sn(t,e,n,r,i,o,s,a){var c,l=e.serverCache,u=s?t.filter:t.filter.getIndexedFilter();if(_t(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{var d=dt(n);if(!l.isCompleteForPath(n)&&pt(n)>1)return e;var p=ft(n),f=l.getNode().getImmediateChild(d).updateChild(p,r);c=".priority"===d?u.updatePriority(l.getNode(),f):u.updateChild(l.getNode(),d,f,p,wn,null)}var g=We(e,c,l.isFullyInitialized()||_t(n),u.filtersNodes());return On(t,g,n,i,new Cn(i,g,o),a)}function xn(t,e,n,r,i,o,s){var a,c,l=e.eventCache,u=new Cn(i,e,o);if(_t(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Be(e,c,!0,t.filter.filtersNodes());else{var h=dt(n);if(".priority"===h)c=t.filter.updatePriority(e.eventCache.getNode(),r),a=Be(e,c,l.isFullyInitialized(),l.isFiltered());else{var d=ft(n),p=l.getNode().getImmediateChild(h),f=void 0;if(_t(d))f=r;else{var g=u.getCompleteChild(h);f=null!=g?".priority"===gt(d)&&g.getChild(bt(d)).isEmpty()?g:g.updateChild(d,r):ne.EMPTY_NODE}a=p.equals(f)?e:Be(e,t.filter.updateChild(l.getNode(),h,f,d,u,s),l.isFullyInitialized(),t.filter.filtersNodes())}}return a}function En(t,e){return t.eventCache.isCompleteForChild(e)}function kn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function Tn(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,l=e;c=_t(n)?r:new Ge(null).setTree(n,r);var u=e.serverCache.getNode();return c.children.inorderTraversal(function(n,r){if(u.hasChild(n)){var c=kn(0,e.serverCache.getNode().getImmediateChild(n),r);l=Sn(t,l,new ut(n),c,i,o,s,a)}}),c.children.inorderTraversal(function(n,r){var c=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!c){var h=kn(0,e.serverCache.getNode().getImmediateChild(n),r);l=Sn(t,l,new ut(n),h,i,o,s,a)}}),l}var In,An=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new be(r.getIndex()),o=(n=r).loadsAllData()?new be(n.getIndex()):n.hasLimit()?new _e(n):new ye(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,c=i.updateFullNode(ne.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(ne.EMPTY_NODE,a.getNode(),null),u=new He(c,s.isFullyInitialized(),i.filtersNodes()),h=new He(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qe(h,u),this.eventGenerator_=new ze(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function jn(t,e){var n=Ye(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_t(e)&&!n.getImmediateChild(dt(e)).isEmpty())?n.getChild(e):null}function Rn(t){return 0===t.eventRegistrations_.length}function Pn(t,e,n){var r=[];if(n){Object(o.d)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(c)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Dn(t,e,n,r){e.type===De.MERGE&&null!==e.source.queryId&&(Object(o.d)(Ye(t.viewCache_),"We should always have a full cache before handling merges"),Object(o.d)($e(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,s,a=t.viewCache_,c=function(t,e,n,r,i){var s,a,c=new vn;if(n.type===De.OVERWRITE){var l=n;l.source.fromUser?s=xn(t,e,l.path,l.snap,r,i,c):(Object(o.d)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!_t(l.path),s=Sn(t,e,l.path,l.snap,r,i,a,c))}else if(n.type===De.MERGE){var u=n;u.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach(function(r,c){var l=yt(n,r);En(e,dt(l))&&(a=xn(t,a,l,c,i,o,s))}),r.foreach(function(r,c){var l=yt(n,r);En(e,dt(l))||(a=xn(t,a,l,c,i,o,s))}),a}(t,e,u.path,u.children,r,i,c):(Object(o.d)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=Tn(t,e,u.path,u.children,r,i,a,c))}else if(n.type===De.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,i,s){var a;if(null!=mn(r,n))return e;var c=new Cn(r,e,i),l=e.eventCache.getNode(),u=void 0;if(_t(n)||".priority"===dt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=pn(r,Ye(e));else{var d=e.serverCache.getNode();Object(o.d)(d instanceof ne,"serverChildren would be complete if leaf node"),h=fn(r,d)}u=t.filter.updateFullNode(l,h=h,s)}else{var p=dt(n),f=bn(r,p,e.serverCache);null==f&&e.serverCache.isCompleteForChild(p)&&(f=l.getImmediateChild(p)),(u=null!=f?t.filter.updateChild(l,p,f,ft(n),c,s):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(l,p,ne.EMPTY_NODE,ft(n),c,s):l).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=pn(r,Ye(e))).isLeafNode()&&(u=t.filter.updateFullNode(u,a,s))}return a=e.serverCache.isFullyInitialized()||null!=mn(r,ht()),Be(e,u,a,t.filter.filtersNodes())}(t,e,h.path,r,i,c):function(t,e,n,r,i,o,s){if(null!=mn(i,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(_t(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Sn(t,e,n,c.getNode().getChild(n),i,o,a,s);if(_t(n)){var l=new Ge(null);return c.getNode().forEachChild(Nt,function(t,e){l=l.set(new ut(t),e)}),Tn(t,e,n,l,i,o,a,s)}return e}var u=new Ge(null);return r.foreach(function(t,e){var r=yt(n,t);c.isCompleteForPath(r)&&(u=u.set(t,c.getNode().getChild(r)))}),Tn(t,e,n,u,i,o,a,s)}(t,e,h.path,h.affectedTree,r,i,c)}else{if(n.type!==De.LISTEN_COMPLETE)throw Object(o.e)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return On(t,We(e,o.getNode(),o.isFullyInitialized()||_t(n),o.isFiltered()),n,r,wn,i)}(t,e,n.path,r,c)}var d=c.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=$e(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pe($e(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,r);return i=t.processor_,s=c.viewCache,Object(o.d)(s.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.d)(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.d)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,Nn(t,c.changes,c.viewCache.eventCache.getNode(),null)}function Nn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),qe(t,i,"child_removed",e,r,n),qe(t,i,"child_added",e,r,n),qe(t,i,"child_moved",o,r,n),qe(t,i,"child_changed",e,r,n),qe(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Mn,Vn=function(){return function(){this.views=new Map}}();function Fn(t,e,n,r){var i,a,c=e.source.queryId;if(null!==c){var l=t.views.get(c);return Object(o.d)(null!=l,"SyncTree gave us an op for an invalid query."),Dn(l,e,n,r)}var u=[];try{for(var h=Object(s.g)(t.views.values()),d=h.next();!d.done;d=h.next())u=u.concat(Dn(l=d.value,e,n,r))}catch(p){i={error:p}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return u}function Ln(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=pn(n,i?r:null),a=!1;s?a=!0:r instanceof ne?(s=fn(n,r),a=!1):(s=ne.EMPTY_NODE,a=!1);var c=Qe(new He(s,a,!1),new He(r,i,!1));return new An(e,c)}return o}function Un(t){var e,n,r=[];try{for(var i=Object(s.g)(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Hn(t,e){var n,r,i=null;try{for(var o=Object(s.g)(t.views.values()),a=o.next();!a.done;a=o.next())i=i||jn(a.value,e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function zn(t,e){return e._queryParams.loadsAllData()?Bn(t):t.views.get(e._queryIdentifier)}function qn(t,e){return null!=zn(t,e)}function Qn(t){return null!=Bn(t)}function Bn(t){var e,n;try{for(var r=Object(s.g)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Wn=1,$n=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new Ge(null),this.pendingWriteTree_={visibleWrites:Ke.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Yn(t,e,n,r,i){return function(t,e,n,r,i){Object(o.d)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ze(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?tr(t,new Le({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Gn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(o.d)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=t.allWrites.length-1;i&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&ln(c,r.path)?i=!1:Ot(r.path,c.path)&&(s=!0)),a--}return!!i&&(s?(function(t){t.visibleWrites=hn(t.allWrites,un,ht()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Xe(t.visibleWrites,r.path):P(r.children,function(e){t.visibleWrites=Xe(t.visibleWrites,yt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var i=new Ge(null);return null!=r.snap?i=i.set(ht(),!0):P(r.children,function(t){i=i.set(new ut(t),!0)}),tr(t,new Ve(r.path,i,n))}return[]}function Kn(t,e,n){return tr(t,new Le({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Zn(t,e,n,r){var i=e._path,a=t.syncPointTree_.get(i),c=[];if(a&&("default"===e._queryIdentifier||qn(a,e))){var l=function(t,e,n,r){var i,a,c=e._queryIdentifier,l=[],u=[],h=Qn(t);if("default"===c)try{for(var d=Object(s.g)(t.views.entries()),p=d.next();!p.done;p=d.next()){var f,g=Object(s.e)(p.value,2),m=g[0];u=u.concat(Pn(f=g[1],n,r)),Rn(f)&&(t.views.delete(m),f.query._queryParams.loadsAllData()||l.push(f.query))}}catch(b){i={error:b}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}else(f=t.views.get(c))&&(u=u.concat(Pn(f,n,r)),Rn(f)&&(t.views.delete(c),f.query._queryParams.loadsAllData()||l.push(f.query)));return h&&!Qn(t)&&l.push(new(Object(o.d)(In,"Reference.ts has not been loaded"),In)(e._repo,e._path)),{removed:l,events:u}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=l.removed;c=l.events;var h=-1!==u.findIndex(function(t){return t._queryParams.loadsAllData()}),d=t.syncPointTree_.findOnPath(i,function(t,e){return Qn(e)});if(h&&!d){var p=t.syncPointTree_.subtree(i);if(!p.isEmpty())for(var f=function(t){return t.fold(function(t,e,n){if(e&&Qn(e))return[Bn(e)];var r=[];return e&&(r=Un(e)),P(n,function(t,e){r=r.concat(e)}),r})}(p),g=0;g<f.length;++g){var m=f[g],b=m.query,y=rr(t,m);t.listenProvider_.startListening(lr(b),ir(t,b),y.hashFn,y.onComplete)}}!d&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(lr(e),null):u.forEach(function(e){var n=t.queryToTagMap.get(or(e));t.listenProvider_.stopListening(lr(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=or(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return c}function Jn(t,e,n){var r=e._path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=vt(t,r);i=i||Hn(e,n),s=s||Qn(e)});var a,c=t.syncPointTree_.get(r);c?(s=s||Qn(c),i=i||Hn(c,ht())):(c=new Vn,t.syncPointTree_=t.syncPointTree_.set(r,c)),null!=i?a=!0:(a=!1,i=ne.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Hn(e,ht());n&&(i=i.updateImmediateChild(t,n))}));var l=qn(c,e);if(!l&&!e._queryParams.loadsAllData()){var u=or(e);Object(o.d)(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");var h=Wn++;t.queryToTagMap.set(u,h),t.tagToQueryMap.set(h,u)}var d=function(t,e,n,r,i,o){var s=Ln(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Kt,function(t,e){r.push(fe(t,e))}),n.isFullyInitialized()&&r.push(pe(n.getNode())),Nn(t,r,n.getNode(),e)}(s,n)}(c,e,n,cn(t.pendingWriteTree_,r),i,a);if(!l&&!s){var p=zn(c,e);d=d.concat(function(t,e,n){var r=e._path,i=ir(t,e),s=rr(t,n),a=t.listenProvider_.startListening(lr(e),i,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(i)Object(o.d)(!Qn(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(t,e,n){if(!_t(t)&&e&&Qn(e))return[Bn(e).query];var r=[];return e&&(r=r.concat(Un(e).map(function(t){return t.query}))),P(n,function(t,e){r=r.concat(e)}),r}),u=0;u<l.length;++u){var h=l[u];t.listenProvider_.stopListening(lr(h),ir(t,h))}return a}(t,e,p))}return d}function Xn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Hn(n,vt(t,e));if(r)return r});return dn(r,e,i,n,!0)}function tr(t,e){return er(e,t.syncPointTree_,null,cn(t.pendingWriteTree_,ht()))}function er(t,e,n,r){if(_t(t.path))return nr(t,e,n,r);var i=e.get(ht());null==n&&null!=i&&(n=Hn(i,ht()));var o=[],s=dt(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){var l=n?n.getImmediateChild(s):null,u=yn(r,s);o=o.concat(er(a,c,l,u))}return i&&(o=o.concat(Fn(i,t,r,n))),o}function nr(t,e,n,r){var i=e.get(ht());null==n&&null!=i&&(n=Hn(i,ht()));var o=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,a=yn(r,e),c=t.operationForChild(e);c&&(o=o.concat(nr(c,i,s,a)))}),i&&(o=o.concat(Fn(i,t,r,n))),o}function rr(t,e){var n=e.query,r=ir(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||ne.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=sr(t,n);if(r){var i=ar(r),o=i.path,s=i.queryId,a=vt(o,e);return cr(t,o,new Fe(Ne(s),a))}return[]}(t,n._path,r):function(t,e){return tr(t,new Fe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Zn(t,n,null,i)}}}function ir(t,e){var n=or(e);return t.queryToTagMap.get(n)}function or(t){return t._path.toString()+"$"+t._queryIdentifier}function sr(t,e){return t.tagToQueryMap.get(e)}function ar(t){var e=t.indexOf("$");return Object(o.d)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ut(t.substr(0,e))}}function cr(t,e,n){var r=t.syncPointTree_.get(e);return Object(o.d)(r,"Missing sync point for query tag that we're tracking"),Fn(r,n,cn(t.pendingWriteTree_,e),null)}function lr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(o.d)(Mn,"Reference.ts has not been loaded"),Mn)(t._repo,t._path):t}var ur=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),hr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=yt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Xn(this.syncTree_,this.path_)},t}(),dr=function(t,e,n){return t&&"object"==typeof t?(Object(o.d)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?pr(t[".sv"],e,n):"object"==typeof t[".sv"]?fr(t[".sv"],e):void Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},pr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.d)(!1,"Unexpected server value: "+t)}},fr=function(t,e,n){t.hasOwnProperty("increment")||Object(o.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.d)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.d)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},gr=function(t,e,n,r){return br(e,new hr(n,t),r)},mr=function(t,e,n){return br(t,new ur(e),n)};function br(t,e,n){var r,i=t.getPriority().val(),o=dr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=dr(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Gt(a,ie(o)):t}var c=t;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new Gt(o))),c.forEachChild(Kt,function(t,i){var o=br(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var yr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function _r(t,e){for(var n=e instanceof ut?e:new ut(e),r=t,i=dt(n);null!==i;){var s=Object(o.y)(r.node.children,i)||{children:{},childCount:0};r=new yr(i,r,s),i=dt(n=ft(n))}return r}function vr(t){return t.node.value}function wr(t,e){t.node.value=e,Er(t)}function Cr(t){return t.node.childCount>0}function Or(t,e){P(t.node.children,function(n,r){e(new yr(n,t,r))})}function Sr(t,e,n,r){n&&!r&&e(t),Or(t,function(t){Sr(t,e,!0,r)}),n&&r&&e(t)}function xr(t){return new ut(null===t.parent?t.name:xr(t.parent)+"/"+t.name)}function Er(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===vr(t)&&!Cr(t)}(n),i=Object(o.h)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Er(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Er(t))}(t.parent,t.name,t)}var kr=/[\[\].#$\/\u0000-\u001F\u007F]/,Tr=/[\[\].#$\u0000-\u001F\u007F]/,Ir=10485760,Ar=function(t){return"string"==typeof t&&0!==t.length&&!kr.test(t)},jr=function(t){return"string"==typeof t&&0!==t.length&&!Tr.test(t)},Rr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!x(t)||t&&"object"==typeof t&&Object(o.h)(t,".sv")},Pr=function(t,e,n,r){r&&void 0===e||Dr(Object(o.l)(t,"value"),e,n)},Dr=function(t,e,n){var r=n instanceof ut?new St(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Et(r));if("function"==typeof e)throw new Error(t+"contains a function "+Et(r)+" with contents = "+e.toString());if(x(e))throw new Error(t+"contains "+e.toString()+" "+Et(r));if("string"==typeof e&&e.length>Ir/3&&Object(o.z)(e)>Ir)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Et(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(P(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!Ar(e)))throw new Error(t+" contains an invalid key ("+e+") "+Et(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(o.z)(e),xt(t)}(r,e),Dr(t,n,r),c=(a=r).parts_.pop(),a.byteLength_-=Object(o.z)(c),a.parts_.length>0&&(a.byteLength_-=1)}),i&&s)throw new Error(t+' contains ".value" child '+Et(r)+" in addition to actual children.")}},Nr=function(t,e,n,r){if(!r||void 0!==e){var i=Object(o.l)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var s=[];P(e,function(t,e){var r=new ut(t);if(Dr(i,e,yt(n,r)),".priority"===gt(r)&&!Rr(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=mt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Ar(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(wt);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&Ot(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,s)}},Mr=function(t,e,n){if(!n||void 0!==e){if(x(e))throw new Error(Object(o.l)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Rr(e))throw new Error(Object(o.l)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Vr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.l)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Fr=function(t,e,n,r){if(!(r&&void 0===n||Ar(n)))throw new Error(Object(o.l)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lr=function(t,e,n,r){if(!(r&&void 0===n||jr(n)))throw new Error(Object(o.l)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ur=function(t,e){if(".info"===dt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Hr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ar(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jr(t)}(n))throw new Error(Object(o.l)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},zr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.l)(t,e)+"must be a boolean.")},qr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Qr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Ct(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Br(t,e,n){Qr(t,n),$r(t,function(t){return Ct(t,e)})}function Wr(t,e,n){Qr(t,n),$r(t,function(t){return Ot(t,e)||Ot(e,t)})}function $r(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Yr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Yr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();b&&v("event: "+n.toString()),V(r)}}}var Gr="repo_interrupt",Kr=function(){function t(t,e,n){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Te(),this.transactionQueueTree_=new yr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Zr(t){var e=t.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Jr(t){return(e=(e={timestamp:Zr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Xr(t,e,n,r,i){t.dataUpdateCount++;var s=new ut(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var c=Object(o.w)(n,function(t){return ie(t)});a=function(t,e,n,r){var i=sr(t,r);if(i){var o=ar(i),s=o.path,a=o.queryId,c=vt(s,e),l=Ge.fromObject(n);return cr(t,s,new Ue(Ne(a),c,l))}return[]}(t.serverSyncTree_,s,c,i)}else{var l=ie(n);a=function(t,e,n,r){var i=sr(t,r);if(null!=i){var o=ar(i),s=o.path,a=o.queryId,c=vt(s,e);return cr(t,s,new Le(Ne(a),c,n))}return[]}(t.serverSyncTree_,s,l,i)}else if(r){var u=Object(o.w)(n,function(t){return ie(t)});a=function(t,e,n){var r=Ge.fromObject(n);return tr(t,new Ue({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{var h=ie(n);a=Kn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=di(t,s)),Wr(t.eventQueue_,d,a)}function ti(t,e){ei(t,"connected",e),!1===e&&function(t){ci(t,"onDisconnectEvents");var e=Jr(t),n=Te();je(t.onDisconnect_,ht(),function(r,i){var o=gr(r,i,t.serverSyncTree_,e);Ie(n,r,o)});var r=[];je(n,ht(),function(e,n){r=r.concat(Kn(t.serverSyncTree_,e,n));var i=bi(t,e);di(t,i)}),t.onDisconnect_=Te(),Wr(t.eventQueue_,ht(),r)}(t)}function ei(t,e,n){var r=new ut("/.info/"+e),i=ie(n);t.infoData_.updateSnapshot(r,i);var o=Kn(t.infoSyncTree_,r,i);Wr(t.eventQueue_,r,o)}function ni(t){return t.nextWriteId_++}function ri(t,e,n,r,i){ci(t,"set",{path:e.toString(),value:n,priority:r});var o=Jr(t),s=ie(n,r),a=Xn(t.serverSyncTree_,e),c=mr(s,a,o),l=ni(t),u=Yn(t.serverSyncTree_,e,c,l,!0);Qr(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),function(n,r){var o="ok"===n;o||S("set at "+e+" failed: "+n);var s=Gn(t.serverSyncTree_,l,!o);Wr(t.eventQueue_,e,s),li(0,i,n,r)});var h=bi(t,e);di(t,h),Wr(t.eventQueue_,h,[])}function ii(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Ae(t.onDisconnect_,e),li(0,n,r,i)})}function oi(t,e,n,r){var i=ie(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Ie(t.onDisconnect_,e,i),li(0,r,n,o)})}function si(t,e,n){var r;r=".info"===dt(e._path)?Zn(t.infoSyncTree_,e,n):Zn(t.serverSyncTree_,e,n),Br(t.eventQueue_,e._path,r)}function ai(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Gr)}function ci(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),v.apply(void 0,Object(s.f)([r],Object(s.e)(e)))}function li(t,e,n,r){e&&V(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function ui(t,e,n){return Xn(t.serverSyncTree_,e,n)||ne.EMPTY_NODE}function hi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||mi(t,e),vr(e)){var n=fi(t,e);Object(o.d)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=ui(t,e,r),s=i,a=i.hash(),c=0;c<n.length;c++){var l=n[c];Object(o.d)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var u=vt(e,l.path);s=s.updateChild(u,l.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,function(r){ci(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Gn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(mi(t,_r(t.transactionQueueTree_,e)),hi(t,t.transactionQueueTree_),Wr(t.eventQueue_,e,i),a=0;a<o.length;a++)V(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(S("transaction at "+d.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;di(t,e)}},a)}(t,xr(e),n)}else Cr(e)&&Or(e,function(e){hi(t,e)})}function di(t,e){var n=pi(t,e),r=xr(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var c,l=e[a],u=vt(n,l.path),h=!1;if(Object(o.d)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,c=l.abortReason,i=i.concat(Gn(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,c="maxretry",i=i.concat(Gn(t.serverSyncTree_,l.currentWriteId,!0));else{var d=ui(t,l.path,s);l.currentInputSnapshot=d;var p=e[a].update(d.val());if(void 0!==p){Dr("transaction failed: Data returned ",p,l.path);var f=ie(p);"object"==typeof p&&null!=p&&Object(o.h)(p,".priority")||(f=f.updatePriority(d.getPriority()));var g=l.currentWriteId,m=Jr(t),b=mr(f,d,m);l.currentOutputSnapshotRaw=f,l.currentOutputSnapshotResolved=b,l.currentWriteId=ni(t),s.splice(s.indexOf(g),1),i=(i=i.concat(Yn(t.serverSyncTree_,l.path,b,l.currentWriteId,l.applyLocally))).concat(Gn(t.serverSyncTree_,g,!0))}else h=!0,c="nodata",i=i.concat(Gn(t.serverSyncTree_,l.currentWriteId,!0))}Wr(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===c?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(c),!1,null)}))},c=0;c<e.length;c++)a(c);for(mi(t,t.transactionQueueTree_),c=0;c<r.length;c++)V(r[c]);hi(t,t.transactionQueueTree_)}}(t,fi(t,n),r),r}function pi(t,e){var n,r=t.transactionQueueTree_;for(n=dt(e);null!==n&&void 0===vr(r);)r=_r(r,n),n=dt(e=ft(e));return r}function fi(t,e){var n=[];return gi(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function gi(t,e,n){var r=vr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Or(e,function(e){gi(t,e,n)})}function mi(t,e){var n=vr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,wr(e,n.length>0?n:void 0)}Or(e,function(e){mi(t,e)})}function bi(t,e){var n=xr(pi(t,e)),r=_r(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){yi(t,e)}),yi(t,r),Sr(r,function(e){yi(t,e)}),n}function yi(t,e){var n=vr(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(o.d)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(o.d)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Gn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?wr(e,void 0):n.length=s+1,Wr(t.eventQueue_,xr(e),i),a=0;a<r.length;a++)V(r[a])}}var _i=function(t,e){var n=vi(t),r=n.namespace;return"firebase.com"===n.domain&&O(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Q(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ut(n.pathString)}},vi=function(t){var e="",n="",r="",i="",o="",a=!0,c="https",l=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(s.g)(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):S("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(u=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,l=parseInt(e.substring(u+1),10)):u=e.length;var f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in p&&(o=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:o}},wi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.B)(this.snapshot.exportVal())},t}(),Ci=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Oi=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(o.d)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Si=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.a;return ii(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Ur("OnDisconnect.remove",this._path);var t=new o.a;return oi(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Ur("OnDisconnect.set",this._path),Pr("OnDisconnect.set",t,this._path,!1);var e=new o.a;return oi(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Ur("OnDisconnect.setWithPriority",this._path),Pr("OnDisconnect.setWithPriority",t,this._path,!1),Mr("OnDisconnect.setWithPriority",e,!1);var n=new o.a;return function(t,e,n,r,i){var o=ie(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Ie(t.onDisconnect_,e,o),li(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Ur("OnDisconnect.update",this._path),Nr("OnDisconnect.update",t,this._path,!1);var e=new o.a;return function(t,e,n,r){if(Object(o.p)(n))return v("onDisconnect().update() called with empty data.  Don't do anything."),void li(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&P(n,function(n,r){var i=ie(r);Ie(t.onDisconnect_,yt(e,n),i)}),li(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),xi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return _t(this._path)?null:gt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ii(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=xe(this._queryParams),e=j(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return xe(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(o.m)(e))instanceof t))return!1;var n=this._repo===e._repo,r=Ct(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Ei(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ki(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Nt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==E)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==k)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Kt){if(null!=e&&!Rr(e)||null!=n&&!Rr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.d)(t.getIndex()instanceof ae||t.getIndex()===ce,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ti(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ii=function(t){function e(e,n){return t.call(this,e,n,new ve,!1)||this}return Object(s.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=bt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(xi),Ai=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new ut(e),r=Pi(this.ref,e);return new t(this._node.getChild(n),r,Kt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Pi(n.ref,r),Kt))})},t.prototype.hasChild=function(t){var e=new ut(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function ji(t,e){return(t=Object(o.m)(t))._checkNotDeleted("ref"),void 0!==e?Pi(t._root,e):t._root}function Ri(t,e){(t=Object(o.m)(t))._checkNotDeleted("refFromURL");var n=_i(e,t._repo.repoInfo_.nodeAdmin);Hr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||O("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),ji(t,n.path.toString())}function Pi(t,e){var n;return null===dt((t=Object(o.m)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Lr("child","path",n,!1)):Lr("child","path",e,!1),new Ii(t._repo,yt(t._path,e))}function Di(t,e){t=Object(o.m)(t),Ur("push",t._path),Pr("push",e,t._path,!0);var n,r=Zr(t._repo),i=ue(r),s=Pi(t,i),a=Pi(t,i);return n=null!=e?Mi(a,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Ni(t){return Ur("remove",t._path),Mi(t,null)}function Mi(t,e){t=Object(o.m)(t),Ur("set",t._path),Pr("set",e,t._path,!1);var n=new o.a;return ri(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Vi(t,e){t=Object(o.m)(t),Ur("setPriority",t._path),Mr("setPriority",e,!1);var n=new o.a;return ri(t._repo,yt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Fi(t,e,n){if(Ur("setWithPriority",t._path),Pr("setWithPriority",e,t._path,!1),Mr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.a;return ri(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Li(t,e){Nr("update",e,t._path,!1);var n=new o.a;return function(t,e,n,r){ci(t,"update",{path:e.toString(),value:n});var i=!0,s=Jr(t),a={};if(P(n,function(n,r){i=!1,a[n]=gr(yt(e,n),ie(r),t.serverSyncTree_,s)}),i)v("update() called with empty data.  Don't do anything."),li(0,r,"ok",void 0);else{var c=ni(t),l=function(t,e,n,r){!function(t,e,n,r){Object(o.d)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Je(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=Ge.fromObject(n);return tr(t,new Ue({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,a,c);Qr(t.eventQueue_,l),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||S("update at "+e+" failed: "+n);var s=Gn(t.serverSyncTree_,c,!o),a=s.length>0?di(t,e):e;Wr(t.eventQueue_,a,s),li(0,r,n,i)}),P(n,function(n){var r=bi(t,yt(e,n));di(t,r)}),Wr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var Ui=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new wi("value",this,new Ai(t.snapshotNode,new Ii(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ci(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Hi=function(){function t(t){this.callbacks=t}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.h)(this.callbacks,e)},t.prototype.createCancelEvent=function(t,e){return this.callbacks.cancel.hasCancelCallback?new Ci(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.d)(null!=t.childName,"Child events should have a childName.");var n=Pi(new Ii(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new wi(t.type,this,new Ai(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){if("cancel"===t.getEventType()){var e=this.callbacks.cancel;return function(){return e.onCancel(t.error)}}var n=this.callbacks[t.eventType];return function(){return n.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks||!e.callbacks)return!0;var r=Object.keys(e.callbacks),i=Object.keys(this.callbacks),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return a===s&&(!e.callbacks[s]||!this.callbacks[a]||e.callbacks[s].matches(this.callbacks[a]))}return i.every(function(t){return e.callbacks[t].matches(n.callbacks[t])})}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks},t}();function zi(t,e,n,r,i){var o,s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){var a=n,c=function(e,n){a(e,n),si(t._repo,t,u)};c.userCallback=n.userCallback,c.context=n.context,n=c}var l=new Oi(n,s||void 0),u="value"===e?new Ui(l):new Hi(((o={})[e]=l,o));return function(t,e,n){var r;r=".info"===dt(e._path)?Jn(t.infoSyncTree_,e,n):Jn(t.serverSyncTree_,e,n),Br(t.eventQueue_,e._path,r)}(t._repo,t,u),function(){return si(t._repo,t,u)}}function qi(t,e,n,r){return zi(t,"value",e,n,r)}function Qi(t,e,n,r){return zi(t,"child_added",e,n,r)}function Bi(t,e,n,r){return zi(t,"child_changed",e,n,r)}function Wi(t,e,n,r){return zi(t,"child_moved",e,n,r)}function $i(t,e,n,r){return zi(t,"child_removed",e,n,r)}function Yi(t,e,n){var r=null,i=null,o=n?new Oi(n):null;"value"===e?r=new Ui(o):e&&(n&&((i={})[e]=o),r=new Hi(i)),si(t._repo,t,r)}var Gi=function(){return function(){}}(),Ki=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s.c)(e,t),e.prototype._apply=function(t){Pr("endAt",this._value,t._path,!0);var e=Ce(t._queryParams,this._value,this._key);if(Ti(e),ki(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xi(t._repo,t._path,e,t._orderByCalled)},e}(Gi);function Zi(t,e){return Fr("endAt","key",e,!0),new Ki(t,e)}var Ji=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s.c)(e,t),e.prototype._apply=function(t){Pr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Nt?("string"==typeof n&&(n=de(n)),i=Ce(e,n,r)):i=Ce(e,n,null==r?E:de(r)),i.endBeforeSet_=!0,i);if(Ti(o),ki(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xi(t._repo,t._path,o,t._orderByCalled)},e}(Gi);function Xi(t,e){return Fr("endBefore","key",e,!0),new Ji(t,e)}var to=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s.c)(e,t),e.prototype._apply=function(t){Pr("startAt",this._value,t._path,!0);var e=we(t._queryParams,this._value,this._key);if(Ti(e),ki(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xi(t._repo,t._path,e,t._orderByCalled)},e}(Gi);function eo(t,e){return void 0===t&&(t=null),Fr("startAt","key",e,!0),new to(t,e)}var no=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s.c)(e,t),e.prototype._apply=function(t){Pr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Nt?("string"==typeof n&&(n=he(n)),i=we(e,n,r)):i=we(e,n,null==r?k:he(r)),i.startAfterSet_=!0,i);if(Ti(o),ki(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new xi(t._repo,t._path,o,t._orderByCalled)},e}(Gi);function ro(t,e){return Fr("startAfter","key",e,!0),new no(t,e)}var io=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(s.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new xi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Gi);function oo(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new io(t)}var so=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(s.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new xi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Gi);function ao(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new so(t)}var co=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(s.c)(e,t),e.prototype._apply=function(t){Ei(t,"orderByChild");var e=new ut(this._path);if(_t(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ae(e),r=Oe(t._queryParams,n);return ki(r),new xi(t._repo,t._path,r,!0)},e}(Gi);function lo(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Lr("orderByChild","path",t,!1),new co(t)}var uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype._apply=function(t){Ei(t,"orderByKey");var e=Oe(t._queryParams,Nt);return ki(e),new xi(t._repo,t._path,e,!0)},e}(Gi);function ho(){return new uo}var po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype._apply=function(t){Ei(t,"orderByPriority");var e=Oe(t._queryParams,Kt);return ki(e),new xi(t._repo,t._path,e,!0)},e}(Gi);function fo(){return new po}var go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.c)(e,t),e.prototype._apply=function(t){Ei(t,"orderByValue");var e=Oe(t._queryParams,ce);return ki(e),new xi(t._repo,t._path,e,!0)},e}(Gi);function mo(){return new go}var bo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(s.c)(e,t),e.prototype._apply=function(t){if(Pr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ki(this._value,this._key)._apply(new to(this._value,this._key)._apply(t))},e}(Gi);function yo(t,e){return Fr("equalTo","key",e,!0),new bo(t,e)}function _o(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=Object(o.m)(t);try{for(var c=Object(s.g)(r),l=c.next();!l.done;l=c.next()){var u=l.value;a=u._apply(a)}}catch(h){e={error:h}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}!function(t){Object(o.d)(!In,"__referenceConstructor has already been defined"),In=t}(Ii),function(t){Object(o.d)(!Mn,"__referenceConstructor has already been defined"),Mn=t}(Ii);var vo={},wo=!1;function Co(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||O("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),v("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,s=_i(i,r),a=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a=(s=_i(i="http://"+c+"?ns="+a.namespace,r)).repoInfo):o=!s.repoInfo.secure;var l=r&&o?new U:new L(t.name,t.options,e);Hr("Invalid Firebase Database URL",s),_t(s.path)||O("Database URL must point to the root of a Firebase Database (not including a child path).");var u=function(t,e,n){var r=vo[e.name];r||(vo[e.name]=r={});var i=r[t.toURLString()];return i&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Kr(t,wo,n),r[t.toURLString()]=i,i}(a,t,l);return new Oo(u,t)}var Oo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=G(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ee(t.repoInfo_,function(e,n,r,i){Xr(t,e,n,r,i)},t.authTokenProvider_),setTimeout(function(){return ti(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.B)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new jt(t.repoInfo_,e,function(e,n,r,i){Xr(t,e,n,r,i)},function(e){ti(t,e)},function(e){!function(t,e){P(e,function(e,n){ei(t,e,n)})}(t,e)},t.authTokenProvider_,n),t.server_=t.persistentConnection_}var r,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.statsReporter_=(r=function(){return new Pe(t.stats_,t.server_)},i=t.repoInfo_.toString(),Y[i]||(Y[i]=r()),Y[i]),t.infoData_=new ke,t.infoSyncTree_=new $n({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Kn(t.infoSyncTree_,e._path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),ei(t,"connected",!1),t.serverSyncTree_=new $n({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Wr(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ii(this._repo,ht())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=vo[e=this.app.name])&&n[t.key]===t||O("Database "+e+"("+t.repoInfo_+") has already been deleted."),ai(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&O("Cannot call "+t+" on a deleted database.")},t}();function So(t){(t=Object(o.m)(t))._checkNotDeleted("goOffline"),ai(t._repo)}function xo(t){var e;(t=Object(o.m)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Gr)}function Eo(t,e){_(t,e)}var ko={".sv":"timestamp"},To=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Io(t,e,n){var r;if(t=Object(o.m)(t),Ur("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new o.a,a=qi(t,function(){});return function(e,n,r,i,a,c){ci(e,"transaction on "+n);var l={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new Ai(r,new Ii(t._repo,t._path),Kt),s.resolve(new To(n,i)))},status:null,order:f(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ui(e,n,void 0);l.currentInputSnapshot=u;var h=l.update(u.val());if(void 0===h)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Dr("transaction failed: Data returned ",h,l.path),l.status=0;var d=_r(e.transactionQueueTree_,n),p=vr(d)||[];p.push(l),wr(d,p);var g=void 0;"object"==typeof h&&null!==h&&Object(o.h)(h,".priority")?(g=Object(o.y)(h,".priority"),Object(o.d)(Rr(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(Xn(e.serverSyncTree_,n)||ne.EMPTY_NODE).getPriority().val();var m=Jr(e),b=ie(h,g),y=mr(b,u,m);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=y,l.currentWriteId=ni(e);var _=Yn(e.serverSyncTree_,n,y,l.currentWriteId,l.applyLocally);Wr(e.eventQueue_,n,_),hi(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,i),s.promise}var Ao=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(o.C)("OnDisconnect.cancel",0,1,arguments.length),Object(o.D)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){Object(o.C)("OnDisconnect.remove",0,1,arguments.length),Object(o.D)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){Object(o.C)("OnDisconnect.set",1,2,arguments.length),Object(o.D)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){Object(o.C)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.D)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if(Object(o.C)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.D)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),jo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.C)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ro=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(o.C)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(o.C)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(o.C)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(o.C)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(o.C)("DataSnapshot.child",0,1,arguments.length),e=String(e),Lr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(o.C)("DataSnapshot.hasChild",1,1,arguments.length),Lr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(o.C)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(o.C)("DataSnapshot.forEach",1,1,arguments.length),Object(o.D)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return Object(o.C)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.C)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(o.C)("DataSnapshot.ref",0,0,arguments.length),new Do(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Po=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var s,a=this;Object(o.C)("Query.on",2,4,arguments.length),Object(o.D)("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",r,i),l=function(t,e){n.call(c.context,new Ro(a.database,t),e)};l.userCallback=n,l.context=c.context;var u=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return qi(this._delegate,l,u),n;case"child_added":return Qi(this._delegate,l,u),n;case"child_removed":return $i(this._delegate,l,u),n;case"child_changed":return Bi(this._delegate,l,u),n;case"child_moved":return Wi(this._delegate,l,u),n;default:throw new Error(Object(o.l)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(o.C)("Query.off",0,3,arguments.length),Vr("Query.off",t,!0),Object(o.D)("Query.off","callback",e,!0),Object(o.E)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Yi(this._delegate,t,r)}else Yi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=vt(t,n);r=r||Hn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Hn(i,ht()):(i=new Vn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new He(r,!0,!1):null;return $e(Ln(i,e,cn(t.pendingWriteTree_,e._path),o?s.getNode():ne.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=ie(n),i=Kn(t.serverSyncTree_,e._path,r);return Br(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return ci(t,"get for query "+Object(o.B)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=Object(o.m)(t))._repo,t).then(function(e){return new Ai(e,new Ii(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Ro(t.database,e)})},t.prototype.once=function(e,n,r,i){var s=this;Object(o.C)("Query.once",1,4,arguments.length),Object(o.D)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.on",r,i),c=new o.a,l=function(t,e){var r=new Ro(s.database,t);n&&n.call(a.context,r,e),c.resolve(r)};l.userCallback=n,l.context=a.context;var u=function(t){a.cancel&&a.cancel.call(a.context,t),c.reject(t)};switch(e){case"value":qi(this._delegate,l,u,{onlyOnce:!0});break;case"child_added":Qi(this._delegate,l,u,{onlyOnce:!0});break;case"child_removed":$i(this._delegate,l,u,{onlyOnce:!0});break;case"child_changed":Bi(this._delegate,l,u,{onlyOnce:!0});break;case"child_moved":Wi(this._delegate,l,u,{onlyOnce:!0});break;default:throw new Error(Object(o.l)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return Object(o.C)("Query.limitToFirst",1,1,arguments.length),new t(this.database,_o(this._delegate,oo(e)))},t.prototype.limitToLast=function(e){return Object(o.C)("Query.limitToLast",1,1,arguments.length),new t(this.database,_o(this._delegate,ao(e)))},t.prototype.orderByChild=function(e){return Object(o.C)("Query.orderByChild",1,1,arguments.length),new t(this.database,_o(this._delegate,lo(e)))},t.prototype.orderByKey=function(){return Object(o.C)("Query.orderByKey",0,0,arguments.length),new t(this.database,_o(this._delegate,ho()))},t.prototype.orderByPriority=function(){return Object(o.C)("Query.orderByPriority",0,0,arguments.length),new t(this.database,_o(this._delegate,fo()))},t.prototype.orderByValue=function(){return Object(o.C)("Query.orderByValue",0,0,arguments.length),new t(this.database,_o(this._delegate,mo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(o.C)("Query.startAt",0,2,arguments.length),new t(this.database,_o(this._delegate,eo(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(o.C)("Query.startAfter",0,2,arguments.length),new t(this.database,_o(this._delegate,ro(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(o.C)("Query.endAt",0,2,arguments.length),new t(this.database,_o(this._delegate,Zi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(o.C)("Query.endBefore",0,2,arguments.length),new t(this.database,_o(this._delegate,Xi(e,n)))},t.prototype.equalTo=function(e,n){return Object(o.C)("Query.equalTo",1,2,arguments.length),new t(this.database,_o(this._delegate,yo(e,n)))},t.prototype.toString=function(){return Object(o.C)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(o.C)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(o.C)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(o.D)(t,"cancel",r.cancel,!0),r.context=n,Object(o.E)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.l)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Do(this.database,new Ii(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Do=function(t){function e(e,n){var r=t.call(this,e,new xi(n._repo,n._path,new ve,!1))||this;return r.database=e,r._delegate=n,r}return Object(s.c)(e,t),e.prototype.getKey=function(){return Object(o.C)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(o.C)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Pi(this._delegate,t))},e.prototype.getParent=function(){Object(o.C)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(o.C)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(o.C)("Reference.set",1,2,arguments.length),Object(o.D)("Reference.set","onComplete",e,!0);var n=Mi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if(Object(o.C)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ur("Reference.update",this._delegate._path),Object(o.D)("Reference.update","onComplete",e,!0);var i=Li(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){Object(o.C)("Reference.setWithPriority",2,3,arguments.length),Object(o.D)("Reference.setWithPriority","onComplete",n,!0);var r=Fi(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){Object(o.C)("Reference.remove",0,1,arguments.length),Object(o.D)("Reference.remove","onComplete",t,!0);var e=Ni(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;Object(o.C)("Reference.transaction",1,3,arguments.length),Object(o.D)("Reference.transaction","transactionUpdate",t,!1),Object(o.D)("Reference.transaction","onComplete",e,!0),zr("Reference.transaction","applyLocally",n,!0);var i=Io(this._delegate,t,{applyLocally:n}).then(function(t){return new jo(t.committed,new Ro(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){Object(o.C)("Reference.setPriority",1,2,arguments.length),Object(o.D)("Reference.setPriority","onComplete",e,!0);var n=Vi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;Object(o.C)("Reference.push",0,2,arguments.length),Object(o.D)("Reference.push","onComplete",n,!0);var i=Di(this._delegate,t),s=i.then(function(t){return new e(r.database,t)});n&&s.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,i);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Ur("Reference.onDisconnect",this._delegate._path),new Ao(new Si(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Po),No=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e){!function(t,e,n){(t=Object(o.m)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&O("Cannot call useEmulator() after instance has already been initialized."),function(t,e,n){t.repoInfo_=new Q(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new U)}(t._repo,e,n)}(this._delegate,t,e)},t.prototype.ref=function(t){if(Object(o.C)("database.ref",0,1,arguments.length),t instanceof Do){var e=Ri(this._delegate,t.toString());return new Do(this,e)}return e=ji(this._delegate,t),new Do(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(o.C)(e,1,1,arguments.length);var n=Ri(this._delegate,t);return new Do(this,n)},t.prototype.goOffline=function(){return Object(o.C)("database.goOffline",0,0,arguments.length),So(this._delegate)},t.prototype.goOnline=function(){return Object(o.C)("database.goOnline",0,0,arguments.length),xo(this._delegate)},t.ServerValue={TIMESTAMP:ko,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Mo=Object.freeze({__proto__:null,forceLongPolling:function(){it.forceDisallow(),X.forceAllow()},forceWebSockets:function(){X.forceDisallow()},isWebSocketsAvailable:function(){return it.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Re(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);P(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;nt(t.version);var c=new i.c("auth-internal",new i.b("database-standalone"));return c.setComponent(new i.a("auth-internal",function(){return r},"PRIVATE")),{instance:new No(Co(e,c,n,a),e),namespace:o}}}),Vo=jt;jt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},jt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Fo=Object.freeze({__proto__:null,DataConnection:Vo,RealTimeConnection:st,hijackHash:function(t){var e=jt.prototype.put;return jt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){jt.prototype.put=e}},ConnectionTarget:Q,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){wo=t}(t)}}),Lo=No.ServerValue;!function(e){nt(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.a("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new No(Co(r,i,n),r)},"PUBLIC").setServiceProps({Reference:Do,Query:Po,Database:No,DataSnapshot:Ro,enableLogging:Eo,INTERNAL:Mo,ServerValue:Lo,TEST_ACCESS:Fo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.10"),Object(o.s)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new l(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(l.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(u.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class l extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.4.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");const u=t=>{if(t&&"function"==typeof t[s.a])return u=t,t=>{const e=u[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends i.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return ln}),n.d(e,"b",function(){return ru}),n.d(e,"c",function(){return Jl}),n.d(e,"d",function(){return Kl}),n.d(e,"e",function(){return Zl}),n.d(e,"f",function(){return Ku}),n.d(e,"g",function(){return Uu}),n.d(e,"h",function(){return Hc}),n.d(e,"i",function(){return fu}),n.d(e,"j",function(){return hc}),n.d(e,"k",function(){return su}),n.d(e,"l",function(){return gc}),n.d(e,"m",function(){return Sr}),n.d(e,"n",function(){return Il}),n.d(e,"o",function(){return xo}),n.d(e,"p",function(){return In}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return cn}),n.d(e,"s",function(){return Ho}),n.d(e,"t",function(){return Dc}),n.d(e,"u",function(){return Mc}),n.d(e,"v",function(){return ou}),n.d(e,"w",function(){return Jc}),n.d(e,"x",function(){return zu}),n.d(e,"y",function(){return Zc}),n.d(e,"z",function(){return Nu}),n.d(e,"A",function(){return bu}),n.d(e,"B",function(){return An}),n.d(e,"C",function(){return nu}),n.d(e,"D",function(){return eu}),n.d(e,"E",function(){return yc}),n.d(e,"F",function(){return bc}),n.d(e,"G",function(){return Ar}),n.d(e,"H",function(){return vc}),n.d(e,"I",function(){return _r}),n.d(e,"J",function(){return jn}),n.d(e,"K",function(){return Bu}),n.d(e,"L",function(){return $c}),n.d(e,"M",function(){return Su}),n.d(e,"N",function(){return un}),n.d(e,"O",function(){return Cc}),n.d(e,"P",function(){return wc}),n.d(e,"Q",function(){return tl}),n.d(e,"R",function(){return M}),n.d(e,"S",function(){return Mu}),n.d(e,"T",function(){return Pu}),n.d(e,"U",function(){return p}),n.d(e,"V",function(){return Ru}),n.d(e,"W",function(){return Yu}),n.d(e,"X",function(){return ku}),n.d(e,"Y",function(){return iu}),n.d(e,"Z",function(){return ko}),n.d(e,"ab",function(){return aa}),n.d(e,"bb",function(){return br}),n.d(e,"cb",function(){return Xn}),n.d(e,"db",function(){return Hn}),n.d(e,"eb",function(){return qn}),n.d(e,"fb",function(){return $n}),n.d(e,"gb",function(){return Bn}),n.d(e,"hb",function(){return Qn}),n.d(e,"ib",function(){return Wn}),n.d(e,"jb",function(){return ra}),n.d(e,"kb",function(){return $u}),n.d(e,"lb",function(){return ia}),n.d(e,"mb",function(){return oa}),n.d(e,"nb",function(){return zn}),n.d(e,"ob",function(){return H}),n.d(e,"pb",function(){return Zo}),n.d(e,"qb",function(){return bs}),n.d(e,"rb",function(){return gs}),n.d(e,"sb",function(){return ms}),n.d(e,"tb",function(){return na}),n.d(e,"ub",function(){return Et}),n.d(e,"vb",function(){return u}),n.d(e,"wb",function(){return Un}),n.d(e,"xb",function(){return qo}),n.d(e,"yb",function(){return vt}),n.d(e,"zb",function(){return cc}),n.d(e,"Ab",function(){return Ei}),n.d(e,"Bb",function(){return ns}),n.d(e,"Cb",function(){return Ns}),n.d(e,"Db",function(){return Zs}),n.d(e,"Eb",function(){return Ds}),n.d(e,"Fb",function(){return ql}),n.d(e,"Gb",function(){return X}),n.d(e,"Hb",function(){return st}),n.d(e,"Ib",function(){return w}),n.d(e,"Jb",function(){return C}),n.d(e,"Kb",function(){return rt}),n.d(e,"Lb",function(){return at}),n.d(e,"Mb",function(){return ss}),n.d(e,"Nb",function(){return hs}),n.d(e,"Ob",function(){return ps}),n.d(e,"Pb",function(){return ds}),n.d(e,"Qb",function(){return us}),n.d(e,"Rb",function(){return ls}),n.d(e,"Sb",function(){return fs}),n.d(e,"Tb",function(){return nn}),n.d(e,"Ub",function(){return Js}),n.d(e,"Vb",function(){return Ja}),n.d(e,"Wb",function(){return tc}),n.d(e,"Xb",function(){return Xa}),n.d(e,"Yb",function(){return En}),n.d(e,"Zb",function(){return on}),n.d(e,"ac",function(){return Gl}),n.d(e,"bc",function(){return ys}),n.d(e,"cc",function(){return Ql}),n.d(e,"dc",function(){return ws}),n.d(e,"ec",function(){return Ol}),n.d(e,"fc",function(){return Sl}),n.d(e,"gc",function(){return xl}),n.d(e,"hc",function(){return El}),n.d(e,"ic",function(){return Ss}),n.d(e,"jc",function(){return Os}),n.d(e,"kc",function(){return as}),n.d(e,"lc",function(){return xs}),n.d(e,"mc",function(){return Es}),n.d(e,"nc",function(){return gl}),n.d(e,"oc",function(){return ml}),n.d(e,"pc",function(){return bl}),n.d(e,"qc",function(){return yl}),n.d(e,"rc",function(){return Hl}),n.d(e,"sc",function(){return os}),n.d(e,"tc",function(){return Wt}),n.d(e,"uc",function(){return vr}),n.d(e,"vc",function(){return it}),n.d(e,"wc",function(){return Ps}),n.d(e,"xc",function(){return is}),n.d(e,"yc",function(){return Yl}),n.d(e,"zc",function(){return $s}),n.d(e,"Ac",function(){return Ys}),n.d(e,"Bc",function(){return Gs}),n.d(e,"Cc",function(){return Ks}),n.d(e,"Dc",function(){return zl});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function p(t){return t.__forward_ref__=p,t.toString=function(){return u(this())},t}function f(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function y(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${y(t)} found${n}`)}function v(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{providers:t.providers||[],imports:t.imports||[]}}function O(t){return S(t,E)||S(t,T)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function x(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(I))?t[k]:null}const E=c({"\u0275prov":c}),k=c({"\u0275inj":c}),T=c({ngInjectableDef:c}),I=c({ngInjectorDef:c});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let j;function R(t){const e=j;return j=t,e}function P(t,e,n){const r=O(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void _(u(t),"Injector")}function D(t){return{toString:t}.toString()}var N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,H=V||U||F||L,z={},q=[],Q=[],B=c({"\u0275cmp":c}),W=c({"\u0275dir":c}),$=c({"\u0275pipe":c}),Y=c({"\u0275mod":c}),G=c({"\u0275loc":c}),K=c({"\u0275fac":c}),Z=c({__NG_ELEMENT_ID__:c});let J=0;function X(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||Q,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function tt(t){return ct(t)||function(t){return t[W]||null}(t)}function et(t){return function(t){return t[$]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||Q,declarations:t.declarations||Q,imports:t.imports||Q,exports:t.exports||Q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{nt[t.id]=t.type}),e}function it(t,e){return D(()=>{const n=lt(t,!0);n.declarations=e.declarations||Q,n.imports=e.imports||Q,n.exports=e.exports||Q})}function ot(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=X;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[B]||null}function lt(t,e){const n=t[Y]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}const ut=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(K)?t[K]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),Ct}function Ct(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new _t(c&&c.currentValue,e,s===z),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}let xt;function Et(t){xt=t}function kt(){return void 0!==xt?xt:"undefined"!=typeof document?document:void 0}function Tt(t){return!!t.listen}vt.ngInherit=!0;const It={createRenderer:(t,e)=>kt()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return At(e[t])}function Rt(t,e){return At(e[t.index])}function Pt(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Nt(t,e){const n=e[t];return dt(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Vt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Lt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function Ht(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const zt={lFrame:fe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return zt.bindingsEnabled}function Qt(){return zt.lFrame.lView}function Bt(){return zt.lFrame.tView}function Wt(t){zt.lFrame.contextLView=t}function $t(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return zt.lFrame.currentTNode}function Gt(){const t=zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Kt(t,e){const n=zt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return zt.lFrame.isParent}function Jt(){zt.lFrame.isParent=!1}function Xt(){return zt.isInCheckNoChangesMode}function te(t){zt.isInCheckNoChangesMode=t}function ee(){const t=zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ne(){return zt.lFrame.bindingIndex}function re(){return zt.lFrame.bindingIndex++}function ie(t){const e=zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oe(t){zt.lFrame.inI18n=t}function se(t,e){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){zt.lFrame.currentDirectiveIndex=t}function ce(){return zt.lFrame.currentQueryIndex}function le(t){zt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function he(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=zt.lFrame=pe();return r.currentTNode=e,r.lView=t,!0}function de(t){const e=pe(),n=t[1];zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pe(){const t=zt.lFrame,e=null===t?null:t.child;return null===e?fe(t):e}function fe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ge(){const t=zt.lFrame;return zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const me=ge;function be(){const t=ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ye(){return zt.lFrame.selectedIndex}function _e(t){zt.lFrame.selectedIndex=t}function ve(){const t=zt.lFrame;return Pt(t.tView,t.selectedIndex)}function we(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ce(t,e,n){xe(t,e,3,n)}function Oe(t,e,n,r){(3&t[2])===n&&xe(t,e,n,r)}function Se(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function xe(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ee(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ee(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const ke=-1;class Te{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];je(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function je(t){return 64===t.charCodeAt(0)}function Re(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Pe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Pe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function De(t){return t!==ke}function Ne(t){return 32767&t}function Me(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ve=!0;function Fe(t){const e=Ve;return Ve=t,e}let Le=0;function Ue(t,e){const n=ze(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,He(r.data,t),He(e,null),He(r.blueprint,null));const i=qe(t,e),o=t.injectorIndex;if(De(i)){const t=Ne(i),n=Me(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function He(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ze(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ke;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ke}function Qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Le++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Be(t,e,n){if(n&A.Optional)return t;_(e,"NodeInjector")}function We(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],o=R(void 0);try{return i?i.get(e,r,n&A.Optional):P(e,r,n&A.Optional)}finally{R(o)}}return Be(r,e,n)}function $e(t,e,n,r=A.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof o){if(!he(e,t,r))return r&A.Host?Be(i,n,r):We(e,n,r,i);try{const t=o();if(null!=t||r&A.Optional)return t;_(n)}finally{me()}}else if("number"==typeof o){let i=null,s=ze(t,e),a=ke,c=r&A.Host?e[16][6]:null;for((-1===s||r&A.SkipSelf)&&(a=-1===s?qe(t,e):e[s+8],a!==ke&&tn(r,!1)?(i=e[1],s=Ne(a),e=Me(a,e)):s=-1);-1!==s;){const t=e[1];if(Xe(o,s,t.data)){const t=Ke(s,e,n,i,r,c);if(t!==Ye)return t}a=e[s+8],a!==ke&&tn(r,e[1].data[s+8]===c)&&Xe(o,s,e)?(i=t,s=Ne(a),e=Me(a,e)):s=-1}}}return We(e,n,r,i)}const Ye={};function Ge(){return new en($t(),Qt())}function Ke(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=Ze(a,s,n,null==r?gt(a)&&Ve:r!=s&&0!=(3&a.type),i&A.Host&&o===a);return null!==c?Je(e,s,c,a):Ye}function Ze(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,u=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<u;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&bt(t)&&t.type===n)return c}return null}function Je(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Te){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(y(o[n]));const a=Fe(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?R(s.injectImpl):null;he(t,r,A.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&R(c),Fe(a),s.resolving=!1,me()}}return i}function Xe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function tn(t,e){return!(t&A.Self||t&A.Host&&e)}class en{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return $e(this._tNode,this._lView,t,void 0,e)}}function nn(t){return D(()=>{const e=t.prototype.constructor,n=e[K]||rn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[K]||rn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function rn(t){return g(t)?()=>{const e=rn(f(t));return e&&e()}:yt(t)}function on(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($t(),t)}const sn="__parameters__";function an(t,e,n){return D(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(sn)?t[sn]:Object.defineProperty(t,sn,{value:[]})[sn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class cn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ln=new cn("AnalyzeForEntryComponents"),un=Function;function hn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),hn(r,e)):e!==t&&e.push(r)}return e}function dn(t,e){t.forEach(t=>Array.isArray(t)?dn(t,e):e(t))}function pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function mn(t,e,n){let r=yn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bn(t,e){const n=yn(t,e);if(n>=0)return t[1|n]}function yn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const _n={},vn=/\n/gm,wn="__source",Cn=c({provide:String,useValue:c});let On;function Sn(t){const e=On;return On=t,e}function xn(t,e=A.Default){if(void 0===On)throw new Error("inject() must be called from an injection context");return null===On?P(t,void 0,e):On.get(t,e&A.Optional?null:void 0,e)}function En(t,e=A.Default){return(j||xn)(f(t),e)}function kn(t){const e=[];for(let n=0;n<t.length;n++){const r=f(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(En(t,n))}else e.push(En(r))}return e}function Tn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const In=Tn(an("Inject",t=>({token:t})),-1),An=Tn(an("Optional"),8),jn=Tn(an("SkipSelf"),4);let Rn;function Pn(t){var e;return(null===(e=function(){if(void 0===Rn&&(Rn=null,H.trustedTypes))try{Rn=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Rn}())||void 0===e?void 0:e.createHTML(t))||t}class Dn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nn extends Dn{getTypeName(){return"HTML"}}class Mn extends Dn{getTypeName(){return"Style"}}class Vn extends Dn{getTypeName(){return"Script"}}class Fn extends Dn{getTypeName(){return"URL"}}class Ln extends Dn{getTypeName(){return"ResourceURL"}}function Un(t){return t instanceof Dn?t.changingThisBreaksApplicationSecurity:t}function Hn(t,e){const n=zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function zn(t){return t instanceof Dn&&t.getTypeName()||null}function qn(t){return new Nn(t)}function Qn(t){return new Mn(t)}function Bn(t){return new Vn(t)}function Wn(t){return new Fn(t)}function $n(t){return new Ln(t)}function Yn(t){const e=new Kn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Gn(e):e}class Gn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Kn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Zn)||t.match(Jn)?t:"unsafe:"+t}function tr(t){return(t=String(t)).split(",").map(t=>Xn(t.trim())).join(", ")}function er(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function nr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const rr=er("area,br,col,hr,img,wbr"),ir=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=er("rp,rt"),sr=nr(or,ir),ar=nr(rr,nr(ir,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(or,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr),cr=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=er("srcset"),ur=nr(cr,lr,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=er("script,style,template");class dr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ar.hasOwnProperty(e))return this.sanitizedSomething=!0,!hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!ur.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;cr[i]&&(o=Xn(o)),lr[i]&&(o=tr(o)),this.buf.push(" ",e,'="',gr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ar.hasOwnProperty(e)&&!rr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function gr(t){return t.replace(/&/g,"&amp;").replace(pr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mr;function br(t,e){let n=null;try{mr=mr||Yn(t);let r=e?String(e):"";n=mr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=mr.getInertBodyElement(r)}while(r!==o);return Pn((new dr).sanitizeChildren(yr(n)||n))}finally{if(n){const t=yr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function yr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var _r=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=Qt();return t&&t[12]}();return e?e.sanitize(_r.URL,t)||"":Hn(t,"URL")?Un(t):Xn(b(t))}function wr(t){return t.ngDebugContext}function Cr(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class Sr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?wr(t)?wr(t):this._findContext(Cr(t)):null}_findOriginalError(t){let e=Cr(t);for(;e&&Cr(e);)e=Cr(e);return e}}const xr=/^>|^->|<!--|-->|--!>|<!-$/g,Er=/(<|>)/;function kr(t,e){t.__ngContext__=e}const Tr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Ir(t){return t instanceof Function?t():t}var Ar=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let jr;function Rr(t,e){return jr(t,e)}function Pr(t){const e=t[3];return pt(e)?e[3]:e}function Dr(t){return Mr(t[13])}function Nr(t){return Mr(t[4])}function Mr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Vr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Gr(e,n,a):Yr(e,n,a,i||null,!0):1===t&&null!==n?Yr(e,n,a,i||null,!0):2===t?ai(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==At(n)&&Vr(e,t,r,o,i);for(let s=ht;s<n.length;s++){const i=n[s];li(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Fr(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}function Lr(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}function Ur(t,e){return t.createComment(function(t){return t.replace(xr,t=>t.replace(Er,"\u200b$1\u200b"))}(e))}function Hr(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function zr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ht(i,-1)),n.splice(r,1)}function qr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&zr(o,r),e>0&&(t[n-1][4]=r[4]);const s=fn(t,ht+e);li(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Qr(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&li(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Br(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Br(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Br(e[1],e),n=e&&e[4]}e=n}}(e)}}function Br(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Te)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):At(e[t]),a=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&zr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Wr(t,e,n){return $r(t,e.parent,n)}function $r(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Rt(r,n)}function Yr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Gr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function Kr(t,e,n,r,i){null!==r?Yr(t,e,n,r,i):Gr(t,e,n)}function Zr(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function Jr(t,e,n){return ei(t,e,n)}function Xr(t,e,n){return 40&t.type?Rt(t,n):null}let ti,ei=Xr;function ni(t,e){ei=t,ti=e}function ri(t,e,n,r){const i=Wr(t,r,e),o=e[11],s=Jr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Kr(o,i,n[a],s,!1);else Kr(o,i,n,s,!1);void 0!==ti&&ti(o,r,e,n,i)}function ii(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return si(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ii(t,n);{const n=t[e.index];return pt(n)?si(-1,n):At(n)}}if(32&n)return Rr(e,t)()||At(t[e.index]);{const n=oi(t,e);return null!==n?Array.isArray(n)?n[0]:ii(Pr(t[16]),n):ii(t,e.next)}}return null}function oi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function si(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ii(t,r)}return e[7]}function ai(t,e,n){const r=Zr(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ci(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&kr(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)ci(t,e,n.child,r,i,o,!1),Vr(e,t,i,a,o);else if(32&c){const s=Rr(n,r);let c;for(;c=s();)Vr(e,t,i,c,o);Vr(e,t,i,a,o)}else 16&c?ui(t,e,r,n,i,o):Vr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function li(t,e,n,r,i,o){ci(n,r,t.firstChild,e,i,o,!1)}function ui(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Vr(e,t,i,a[c],o);else ci(t,e,a,s[3],i,o,!0)}function hi(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function di(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function pi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const fi="ng-template";function gi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==pi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mi(t){return 4===t.type&&t.value!==fi}function bi(t,e,n){return e===(4!==t.type||n?t.value:fi)}function yi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!bi(t,c,n)||""===c&&1===e.length){if(_i(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!gi(t.attrs,l,n)){if(_i(r))return!1;s=!0}continue}const u=vi(8&r?"class":c,i,mi(t),n);if(-1===u){if(_i(r))return!1;s=!0;continue}if(""!==l){let t;t=u>o?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==pi(e,l,0)||2&r&&l!==t){if(_i(r))return!1;s=!0}}}}else{if(!s&&!_i(r)&&!_i(c))return!1;if(s&&_i(c))continue;s=!1,r=c|1&r}}return _i(r)||s}function _i(t){return 0==(1&t)}function vi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wi(t,e,n=!1){for(let r=0;r<e.length;r++)if(yi(t,e[r],n))return!0;return!1}function Ci(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Oi(t,e){return t?":not("+e.trim()+")":e}function Si(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||_i(s)||(e+=Oi(o,i),i=""),r=s,o=o||!_i(r);n++}return""!==i&&(e+=Oi(o,i)),e}const xi={};function Ei(t){ki(Bt(),Qt(),ye()+t,Xt())}function ki(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ce(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Oe(e,r,0,n)}_e(n)}function Ti(t,e){return t<<17|e<<2}function Ii(t){return t>>17&32767}function Ai(t){return 2|t}function ji(t){return(131068&t)>>2}function Ri(t,e){return-131069&t|e<<2}function Pi(t){return 1|t}function Di(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];le(i),n.contentQueries(2,e[o],o)}}}function Ni(t,e,n,r,i,o,s,a,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Ut(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function Mi(t,e,n,r,i){let o=t.data[e];if(null===o)o=Vi(t,e,n,r,i),zt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=Gt();o.injectorIndex=null===t?-1:t.injectorIndex}return Kt(o,!0),o}function Vi(t,e,n,r,i){const o=Yt(),s=Zt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Fi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Li(t,e,n){de(e);try{const r=t.viewQuery;null!==r&&bo(1,r,n);const i=t.template;null!==i&&zi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Di(t,e),t.staticViewQueries&&bo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)ho(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function Ui(t,e,n,r){const i=e[2];if(256==(256&i))return;de(e);const o=Xt();try{Ut(e),zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&zi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ce(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Oe(e,n,0,null),Se(e,0)}if(function(t){for(let e=Dr(t);null!==e;e=Nr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ht(r,1),n[2]|=1024}}}(e),function(t){for(let e=Dr(t);null!==e;e=Nr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&Ui(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Di(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ce(e,n)}else{const n=t.contentHooks;null!==n&&Oe(e,n,1),Se(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)_e(~r);else{const i=r,o=n[++t],s=n[++t];se(o,i),s(2,e[i])}}}finally{_e(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)lo(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&bo(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ce(e,n)}else{const n=t.viewHooks;null!==n&&Oe(e,n,2),Se(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ht(e[3],-1))}finally{be()}}function Hi(t,e,n,r){const i=e[10],o=!Xt(),s=Vt(e);try{o&&!s&&i.begin&&i.begin(),s&&Li(t,e,r),Ui(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function zi(t,e,n,r,i){const o=ye(),s=2&r;try{_e(-1),s&&e.length>ut&&ki(t,e,ut,Xt()),n(r,i)}finally{_e(o)}}function qi(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Qi(t,e,n){qt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ue(n,e),kr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=bt(r);o&&io(e,n,r);const c=Je(e,t,a,n);kr(c,e),null!==s&&so(0,a-i,c,r,0,s),o&&(Nt(n.index,e)[8]=c)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=zt.lFrame.currentDirectiveIndex;try{_e(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ae(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Xi(r,i)}}finally{_e(-1),ae(s)}}(t,e,n))}function Bi(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Wi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$i(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function $i(t,e,n,r,i,o,s,a,c,l){const u=ut+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:xi);return n}(u,h),p="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Yi(t,e,n,r){const i=_o(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&vo(t).push(r,i.length-1))}function Gi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ki(t,e,n,r,i,o,s,a){const c=Rt(e,n);let l,u=e.inputs;var h;!a&&null!=u&&(l=u[r])?(Co(t,n,l,r,i),gt(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(c,r,i):je(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Zi(t,e,n,r){let i=!1;if(qt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];wi(n,s.selectors,!1)&&(i||(i=[]),Qe(Ue(n,e),t,s.type),bt(s)?(to(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,no(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=Fi(t,e,o.length,null);for(let i=0;i<o.length;i++){const l=o[i];n.mergedAttrs=Re(n.mergedAttrs,l.hostAttrs),ro(t,n,e,c,l),eo(c,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,l=null===i||mi(e)?null:ao(n,i);o.push(l),s=Gi(n,c,s),a=Gi(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Re(n.mergedAttrs,n.attrs),i}function Ji(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Xi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function to(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function eo(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function no(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ro(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new Te(o,bt(i),null);t.blueprint[r]=s,n[r]=s,Ji(t,e,0,r,Fi(t,n,i.hostVars,xi),i)}function io(t,e,n){const r=Rt(e,t),i=Wi(n),o=t[10],s=po(t,Ni(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function oo(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function so(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function ao(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function co(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function lo(t,e){const n=Nt(e,t);if(Ft(n)){const t=n[1];80&n[2]?Ui(t,n,t.template,n[8]):n[5]>0&&uo(n)}}function uo(t){for(let n=Dr(t);null!==n;n=Nr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ui(t,e,t.template,e[8])}else e[5]>0&&uo(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Nt(e[n],t);Ft(r)&&r[5]>0&&uo(r)}}function ho(t,e){const n=Nt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Li(r,n,n[8])}function po(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function fo(t){for(;t;){t[2]|=64;const e=Pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function go(t,e,n){const r=e[10];r.begin&&r.begin();try{Ui(t,e,t.template,n)}catch(i){throw wo(e,i),i}finally{r.end&&r.end()}}function mo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];Hi(i,r,i.template,n)}}(t[8])}function bo(t,e,n){le(0),e(t,n)}const yo=(()=>Promise.resolve(null))();function _o(t){return t[7]||(t[7]=[])}function vo(t){return t.cleanup||(t.cleanup=[])}function wo(t,e){const n=t[9],r=n?n.get(Sr,null):null;r&&r.handleError(e)}function Co(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],l=t.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function Oo(t,e,n){const r=jt(e,t);Lr(t[11],r,n)}function So(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const xo=new cn("INJECTOR",-1);class Eo{get(t,e=_n){if(e===_n){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const ko=new cn("Set Injector scope."),To={},Io={},Ao=[];let jo;function Ro(){return void 0===jo&&(jo=new Eo),jo}function Po(t,e=null,n=null,r){return new Do(t,n,e||Ro(),r)}class Do{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&dn(e,n=>this.processProvider(n,t,e)),dn([t],t=>this.processInjectorType(t,[],i)),this.records.set(xo,Vo(void 0,this));const o=this.records.get(ko);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_n,n=A.Default){this.assertNotDestroyed();const r=Sn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof cn)&&O(t);e=n&&this.injectableDefInScope(n)?Vo(No(t),To):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?Ro():this.parent).get(t,e=n&A.Optional&&e===_n?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(u(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[wn]&&i.unshift(e[wn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=u(e);if(Array.isArray(e))i=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Sn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=f(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{dn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];dn(r,t=>this.processProvider(t,n,r||Ao))}}this.injectorDefTypes.add(o);const a=yt(o)||(()=>new o);this.records.set(o,Vo(a,To));const c=r.providers;if(null!=c&&!s){const e=t;dn(c,t=>this.processProvider(t,e,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Lo(t=f(t))?t:f(t&&t.provide);const i=function(t,e,n){return Fo(t)?Vo(void 0,t.useValue):Vo(Mo(t),To)}(t);if(Lo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Vo(void 0,To,!0),e.factory=()=>kn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===To&&(e.value=Io,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function No(t){const e=O(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof cn)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=gn(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[E]||t[T]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Mo(t,e,n){let r;if(Lo(t)){const e=f(t);return yt(e)||No(e)}if(Fo(t))r=()=>f(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...kn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>En(f(t.useExisting));else{const e=f(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||No(e);r=()=>new e(...kn(t.deps))}var i;return r}function Vo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Fo(t){return null!==t&&"object"==typeof t&&Cn in t}function Lo(t){return"function"==typeof t}const Uo=function(t,e,n){return function(t,e=null,n=null,r){const i=Po(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ho=(()=>{class t{static create(t,e){return Array.isArray(t)?Uo(t,e,""):Uo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=_n,t.NULL=new Eo,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>En(xo)}),t.__NG_ELEMENT_ID__=-1,t})();function zo(t,e){we(Mt(t)[1],$t())}function qo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Qo(t.inputs),e.declaredInputs=Qo(t.declaredInputs),e.outputs=Qo(t.outputs);const n=i.hostBindings;n&&$o(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Bo(t,o),s&&Wo(t,s),l(t.inputs,i.inputs),l(t.declaredInputs,i.declaredInputs),l(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===qo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Re(i.hostAttrs,n=Re(n,i.hostAttrs))}}(r)}function Qo(t){return t===z?{}:t===Q?[]:t}function Bo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Wo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function $o(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Yo=null;function Go(){if(!Yo){const t=H.Symbol;if(t&&t.iterator)Yo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Yo=n)}}}return Yo}class Ko{constructor(t){this.wrapped=t}static wrap(t){return new Ko(t)}static unwrap(t){return Ko.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ko}}function Zo(t){return!!Jo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Go()in t)}function Jo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xo(t,e,n){return t[e]=n}function ts(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function es(t,e,n,r){const i=ts(t,e,n);return ts(t,e+1,r)||i}function ns(t,e,n,r){const i=Qt();return ts(i,re(),e)&&(Bt(),function(t,e,n,r,i,o){const s=Rt(t,e);oo(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),ns}function rs(t,e,n,r){return ts(t,re(),n)?e+b(n)+r:xi}function is(t,e,n,r,i,o,s,a){const c=Qt(),l=Bt(),u=t+ut,h=l.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const l=e.consts,u=Mi(e,t,4,s||null,Lt(l,a));Zi(e,n,u,Lt(l,c)),we(e,u);const h=u.tViews=$i(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,o,s):l.data[u];Kt(h,!1);const d=c[11].createComment("");ri(l,c,d,h),kr(d,c),po(c,c[u]=co(d,c,d,h)),mt(h)&&Qi(l,c,h),null!=s&&Bi(c,h,a)}function os(t){return Dt(zt.lFrame.contextLView,ut+t)}function ss(t,e=A.Default){const n=Qt();return null===n?En(t,e):$e($t(),n,f(t),e)}function as(t,e,n){const r=Qt();return ts(r,re(),e)&&Ki(Bt(),ve(),r,t,e,r[11],n,!1),as}function cs(t,e,n,r,i){const o=i?"class":"style";Co(t,n,e.inputs[o],o,r)}function ls(t,e,n,r){const i=Qt(),o=Bt(),s=ut+t,a=i[11],c=i[s]=Hr(a,e,zt.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=Mi(e,t,2,i,Lt(a,o));return Zi(e,n,c,Lt(a,s)),null!==c.attrs&&So(c,c.attrs,!1),null!==c.mergedAttrs&&So(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,n,r):o.data[s];Kt(l,!0);const u=l.mergedAttrs;null!==u&&Ie(a,c,u);const h=l.classes;null!==h&&di(a,c,h);const d=l.styles;null!==d&&hi(a,c,d),64!=(64&l.flags)&&ri(o,i,c,l),0===zt.lFrame.elementDepthCount&&kr(c,i),zt.lFrame.elementDepthCount++,mt(l)&&(Qi(o,i,l),qi(o,l,i)),null!==r&&Bi(i,l)}function us(){let t=$t();Zt()?Jt():(t=t.parent,Kt(t,!1));const e=t;zt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(we(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&cs(n,e,Qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&cs(n,e,Qt(),e.stylesWithoutHost,!1)}function hs(t,e,n,r){ls(t,e,n,r),us()}function ds(t,e,n){const r=Qt(),i=Bt(),o=t+ut,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Lt(o,r),a=Mi(e,t,8,"ng-container",s);return null!==s&&So(a,s,!0),Zi(e,n,a,Lt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Kt(s,!0);const a=r[o]=r[11].createComment("");ri(i,r,a,s),kr(a,r),mt(s)&&(Qi(i,r,s),qi(i,s,r)),null!=n&&Bi(r,s)}function ps(){let t=$t();const e=Bt();Zt()?Jt():(t=t.parent,Kt(t,!1)),e.firstCreatePass&&(we(e,t),ft(t)&&e.queries.elementEnd(t))}function fs(){return Qt()}function gs(t){return!!t&&"function"==typeof t.then}function ms(t){return!!t&&"function"==typeof t.subscribe}const bs=ms;function ys(t,e,n=!1,r){const i=Qt(),o=Bt(),s=$t();return function(t,e,n,r,i,o,s=!1,a){const c=mt(r),l=t.firstCreatePass&&vo(t),u=_o(e);let h=!0;if(3&r.type){const d=Rt(r,e),p=a?a(d):z,f=p.target||d,g=u.length,m=a?t=>a(At(t[r.index])).target:r.index;if(Tt(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=vs(r,e,0,o,!1);const t=n.listen(p.name||f,i,o);u.push(o,t),l&&l.push(i,m,g,g+1)}}else o=vs(r,e,0,o,!0),f.addEventListener(i,o,s),u.push(o),l&&l.push(i,m,g,s)}else o=vs(r,e,0,o,!1);const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=u.length;u.push(o,t),l&&l.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),ys}function _s(t,e,n,r){try{return!1!==n(r)}catch(i){return wo(t,i),!1}}function vs(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&fo(s);let a=_s(e,0,r,o),c=n.__ngNextListenerFn__;for(;c;)a=_s(e,0,c,o)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ws(t=1){return function(t){return(zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,zt.lFrame.contextLView))[8]}(t)}function Cs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?wi(t,o,!0):Ci(r,o))return i}else n=i}return n}function Os(t){const e=Qt()[16][6];if(!e.projection){const n=e.projection=gn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Cs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ss(t,e=0,n){const r=Qt(),i=Bt(),o=Mi(i,ut+t,16,null,n||null);null===o.projection&&(o.projection=e),Jt(),64!=(64&o.flags)&&function(t,e,n){ui(e[11],0,e,n,Wr(t,n,e),Jr(n.parent||e[6],n,e))}(i,r,o)}function xs(t,e,n){return Es(t,"",e,"",n),xs}function Es(t,e,n,r,i){const o=Qt(),s=rs(o,e,n,r);return s!==xi&&Ki(Bt(),ve(),o,t,s,o[11],i,!1),Es}function ks(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ii(o):ji(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];Ts(t[a],e)&&(c=!0,t[a+1]=r?Pi(n):Ai(n)),a=r?Ii(n):ji(n)}c&&(t[n+1]=r?Ai(o):Pi(o))}function Ts(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yn(t,e)>=0}const Is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function As(t){return t.substring(Is.key,Is.keyEnd)}function js(t,e){const n=Is.textEnd;return n===e?-1:(e=Is.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Is.key=e,n),Rs(t,e,n))}function Rs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ps(t,e,n){return Vs(t,e,n,!1),Ps}function Ds(t,e){return Vs(t,e,null,!0),Ds}function Ns(t){Fs(mn,Ms,t,!0)}function Ms(t,e){for(let n=function(t){return function(t){Is.key=0,Is.keyEnd=0,Is.value=0,Is.valueEnd=0,Is.textEnd=t.length}(t),js(t,Rs(t,0,Is.textEnd))}(e);n>=0;n=js(e,n))mn(t,As(e),!0)}function Vs(t,e,n,r){const i=Qt(),o=Bt(),s=ie(2);o.firstUpdatePass&&Us(o,t,s,r),e!==xi&&ts(i,s,e)&&qs(o,o.data[ye()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(Un(t)))),t}(e,n),r,s)}function Fs(t,e,n,r){const i=Bt(),o=ie(2);i.firstUpdatePass&&Us(i,null,o,r);const s=Qt();if(n!==xi&&ts(s,o,n)){const a=i.data[ye()];if(Ws(a,r)&&!Ls(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),cs(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===xi&&(i=q);let c=0,l=0,u=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const d=c<i.length?i[c+1]:void 0,p=l<o.length?o[l+1]:void 0;let f,g=null;u===h?(c+=2,l+=2,d!==p&&(g=h,f=p)):null===h||null!==u&&u<h?(c+=2,g=u):(l+=2,g=h,f=p),null!==g&&qs(t,e,n,r,g,f,s,a),u=c<i.length?i[c]:null,h=l<o.length?o[l]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return q;const r=[],i=Un(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Ls(t,e){return e>=t.expandoStartIndex}function Us(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ye()],s=Ls(t,n);Ws(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=zs(n=Hs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Hs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ji(r))return t[Ii(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Hs(null,t,e,n[1],r),n=zs(n,e.attrs,r),function(t,e,n,r){t[Ii(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=zs(r,t[o].hostAttrs,n);return zs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ii(s),c=ji(s);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||yn(t,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const e=Ii(t[a+1]);t[r+1]=Ti(e,a),0!==e&&(t[e+1]=Ri(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ti(a,0),0!==a&&(t[a+1]=Ri(t[a+1],r)),a=r;else t[r+1]=Ti(c,0),0===a?a=r:t[c+1]=Ri(t[c+1],r),c=r;u&&(t[r+1]=Ai(t[r+1])),ks(t,l,r,!0),ks(t,l,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&yn(o,e)>=0&&(n[r+1]=Pi(n[r+1]))}(e,l,t,r,o),s=Ti(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Hs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=zs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function zs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mn(t,s,!!n||e[++o]))}return void 0===t?null:t}function qs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];Bs(1==(1&l)?Qs(c,e,n,i,ji(l),s):void 0)||(Bs(o)||2==(2&l)&&(o=Qs(c,null,n,i,a,s)),function(t,e,n,r,i){const o=Tt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ar.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Ar.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,jt(ye(),n),i,o))}function Qs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,l=null===c;let u=n[i+1];u===xi&&(u=l?q:void 0);let h=l?bn(u,r):c===r?u:void 0;if(o&&!Bs(h)&&(h=bn(e,r)),Bs(h)&&(a=h,s))return a;const d=t[i+1];i=s?Ii(d):ji(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=bn(t,r))}return a}function Bs(t){return void 0!==t}function Ws(t,e){return 0!=(t.flags&(e?16:32))}function $s(t,e=""){const n=Qt(),r=Bt(),i=t+ut,o=r.firstCreatePass?Mi(r,i,1,e,null):r.data[i],s=n[i]=Fr(n[11],e);ri(r,n,s,o),Kt(o,!1)}function Ys(t){return Gs("",t,""),Ys}function Gs(t,e,n){const r=Qt(),i=rs(r,t,e,n);return i!==xi&&Oo(r,ye(),i),Gs}function Ks(t,e,n,r,i){const o=Qt(),s=function(t,e,n,r,i,o){const s=es(t,ne(),n,i);return ie(2),s?e+b(n)+r+b(i)+o:xi}(o,t,e,n,r,i);return s!==xi&&Oo(o,ye(),s),Ks}function Zs(t,e,n,r,i,o,s,a,c){Fs(mn,Ms,function(t,e,n,r,i,o,s,a,c,l){const u=function(t,e,n,r,i,o){const s=es(t,e,n,r);return es(t,e+2,i,o)||s}(t,ne(),n,i,s,c);return ie(4),u?e+b(n)+r+b(i)+o+b(s)+a+b(c)+l:xi}(Qt(),t,e,n,r,i,o,s,a,c),!0)}function Js(t,e,n){const r=Qt();return ts(r,re(),e)&&Ki(Bt(),ve(),r,t,e,r[11],n,!0),Js}const Xs=void 0;var ta=["en",[["a","p"],["AM","PM"],Xs],[["AM","PM"],Xs,Xs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xs,"{1} 'at' {0}",Xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ea={};function na(t,e,n){"string"!=typeof e&&(n=e,e=t[aa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ea[e]=t,n&&(ea[e][aa.ExtraData]=n)}function ra(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=sa(e);if(n)return n;const r=e.split("-")[0];if(n=sa(r),n)return n;if("en"===r)return ta;throw new Error(`Missing locale data for the locale "${t}".`)}function ia(t){return ra(t)[aa.CurrencyCode]||null}function oa(t){return ra(t)[aa.PluralCase]}function sa(t){return t in ea||(ea[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),ea[t]}var aa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ca=["zero","one","two","few","many"],la="en-US",ua={marker:"element"},ha={marker:"ICU"};var da=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let pa=la;function fa(t){var e;null==(e=t)&&v("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(pa=t.toLowerCase().replace(/_/g,"-"))}function ga(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Xr(t,0,n):At(n[i])}function ma(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Yr(t,s,n[o[e]],a,!1)}}function ba(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];ya(r)||_a(r,e)&&null===va(r)&&wa(r,e.index)}}function ya(t){return!(64&t.type)}function _a(t,e){return ya(e)||t.index>e.index}function va(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function wa(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ni(ga,ma),t.insertBeforeIndex=e)}function Ca(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Oa(t,e,n){const r=Vi(t,n,64,null,null);return ba(e,r),r}function Sa(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let xa=0,Ea=0;function ka(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const t=e[++a];null===n[t]&&(n[t]=Fr(i,c))}else if("number"==typeof c)switch(1&c){case 0:const l=c>>>17;let u,h;if(null===s&&(s=l,o=Zr(i,r)),l===s?(u=r,h=o):(u=null,h=At(n[l])),null!==h){const e=(131070&c)>>>1;Yr(i,h,n[e],u,!1);const r=Ca(t,e);if(null!==r&&"object"==typeof r){const e=Sa(r,n);null!==e&&ka(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const d=e[++a],p=e[++a];oo(i,jt(c>>>1,n),null,null,d,p,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case ha:const t=e[++a],r=e[++a];null===n[r]&&kr(n[r]=Ur(i,t),n);break;case ua:const o=e[++a],s=e[++a];null===n[s]&&kr(n[s]=Hr(i,o,null),n)}}}function Ta(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=b(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],c=n[++s],l=t.data[a];"string"==typeof l?oo(e[11],e[a],null,l,o,i,c):Ki(t,l,e,o,i,e[11],c,!1);break;case 0:const u=e[a];null!==u&&Lr(e[11],u,i);break;case 2:Aa(t,Ca(t,a),e,i);break;case 3:Ia(t,Ca(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Ca(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Ia(t,n,r,e)}}o+=a}}function Ia(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=xa;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Ta(t,r,e.update[i],n,o)}}function Aa(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=oa(e)(parseInt(t,10)),r=ca[n];return void 0!==r?r:"other"}(e,pa);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Sa(e,n)!==i&&(ja(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&ka(t,e.create[i],n,r)}}function ja(t,e,n){let r=Sa(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=jt(r,n);null!==t&&ai(n[11],t)}else ja(t,Ca(t,~r),n)}}}const Ra=/\ufffd(\d+):?\d*\ufffd/gi,Pa=/\ufffd(\d+)\ufffd/,Da=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Na=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ma=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Va=/\uE500/g;function Fa(t,e,n,r,i,o,s){const a=Fi(t,r,1,null);let c=a<<da.SHIFT,l=Gt();e===l&&(l=null),null===l&&(c|=da.APPEND_EAGERLY),s&&(c|=da.COMMENT,void 0===jr&&(jr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Sa(t,e);n=null!==i?t.remove[i]:Q}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(c,null===o?"":o);const u=Vi(t,a,s?32:1,null===o?"":o,null);ba(n,u);const h=u.index;return Kt(u,!1),null!==l&&e!==l&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(ni(ga,ma),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&v("Expecting array here",r,true,"=="),n.push(e))}(l,h),u}function La(t,e,n,r,i,o,s){const a=s.match(Ra),c=Fa(t,e,n,o,r,a?null:s,!1);a&&Ua(i,s,c.index)}function Ua(t,e,n,r,i=null){const o=t.length,s=o+1;t.push(null,null);const a=o+2,c=e.split(Ra);let l=0;for(let u=0;u<c.length;u++){const e=c[u];if(1&u){const n=parseInt(e,10);t.push(-1-n),l|=Ha(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=l,t[s]=t.length-a,l}function Ha(t){return 1<<Math.min(t,31)}function za(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Na.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function qa(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Fi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Ha(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const c=i.values;for(let l=0;l<c.length;l++){const o=c[l],u=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=u.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=Wa(t,a,e,n,r,i.cases[l],o.join(""),u)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function Qa(t){const e=[],n=[];let r=1,i=0;const o=Ba(t=t.replace(Da,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Ba(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Ba(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Da.test(n)?r.push(Qa(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function Wa(t,e,n,r,i,o,s,a){const c=[],l=[],u=[];e.cases.push(o),e.create.push(c),e.remove.push(l),e.update.push(u);const h=Yn(kt()).getInertBodyElement(s),d=yr(h)||h;return d?$a(t,e,n,r,c,l,u,d,i,a,0):0}function $a(t,e,n,r,i,o,s,a,c,l,u){let h=0,d=a.firstChild;for(;d;){const a=Fi(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,f=p.tagName.toLowerCase();if(ar.hasOwnProperty(f)){Ka(i,ua,f,c,a),t.data[a]=f;const g=p.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(Ra)?ur.hasOwnProperty(n)&&(cr[n]?Ua(s,e.value,a,e.name,Xn):lr[n]?Ua(s,e.value,a,e.name,tr):Ua(s,e.value,a,e.name)):Za(i,a,e)}h=$a(t,e,n,r,i,o,s,d,a,l,u+1)|h,Ya(o,a,u)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(Ra);Ka(i,null,m?"":g,c,a),Ya(o,a,u),m&&(h=Ua(s,g,a)|h);break;case Node.COMMENT_NODE:const b=Pa.exec(d.textContent||"");if(b){const e=l[parseInt(b[1],10)];Ka(i,ha,"",c,a),qa(t,n,r,c,e,a),Ga(o,a,u)}}d=d.nextSibling}return h}function Ya(t,e,n){0===n&&t.push(e)}function Ga(t,e,n){0===n&&(t.push(~e),t.push(e))}function Ka(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Za(t,e,n){t.push(e<<1|1,n.name,n.value)}function Ja(t,e,n){(function(t,e,n=-1){const r=Bt(),i=Qt(),o=ut+t,s=Lt(r.consts,e),a=Gt();r.firstCreatePass&&function(t,e,n,r,i,o){const s=Gt(),a=[],c=[],l=[[]],u=(h=i=function(t,e){if(function(t){return-1===t}(e))return za(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return za(t.substring(n,r))}}(i,o),h.replace(Va," ")).split(Ma);var h;for(let d=0;d<u.length;d++){let r=u[d];if(0==(1&d)){const o=Ba(r);for(let r=0;r<o.length;r++){let u=o[r];if(0==(1&r)){const e=u;""!==e&&La(t,s,l[0],a,c,n,e)}else{const r=u;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);qa(t,n,c,e,r,Fa(t,s,l[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ut+Number.parseInt(r.substring(e?2:1)));if(e)l.shift(),Kt(Gt(),!1);else{const e=Oa(t,l[0],n);l.unshift([]),Kt(e,!0)}}}t.data[r]={create:a,update:c}}(r,null===a?0:a.index,i,o,s,n);const c=r.data[o],l=$r(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],c=(s&da.COMMENT)===da.COMMENT,l=(s&da.APPEND_EAGERLY)===da.APPEND_EAGERLY,u=s>>>da.SHIFT;let h=t[u];null===h&&(h=t[u]=c?i.createComment(a):Fr(i,a)),l&&null!==n&&Yr(i,n,h,r,!1)}}(i,c.create,l,a&&8&a.type?i[a.index]:null),oe(!0)})(t,e,n),oe(!1)}function Xa(t){return ts(Qt(),re(),t)&&(xa|=1<<Math.min(Ea,31)),Ea++,Xa}function tc(t){!function(t,e,n){if(Ea>0){const r=t.data[n];Ta(t,e,Array.isArray(r)?r:r.update,ne()-Ea-1,xa)}xa=0,Ea=0}(Bt(),Qt(),t+ut)}function ec(t,e,n,r,i){if(t=f(t),Array.isArray(t))for(let o=0;o<t.length;o++)ec(t[o],e,n,r,i);else{const o=Bt(),s=Qt();let a=Lo(t)?t:f(t.provide),c=Mo(t);const l=$t(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Lo(t)||!t.multi){const r=new Te(c,i,ss),p=ic(a,e,i?u:u+d,h);-1===p?(Qe(Ue(l,s),o,a),nc(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),s.push(r)):(n[p]=r,s[p]=r)}else{const p=ic(a,e,u+d,h),f=ic(a,e,u,u+d),g=p>=0&&n[p],m=f>=0&&n[f];if(i&&!m||!i&&!g){Qe(Ue(l,s),o,a);const u=function(t,e,n,r,i){const o=new Te(t,n,ss);return o.multi=[],o.index=e,o.componentProviders=0,rc(o,i,r&&!n),o}(i?sc:oc,n.length,i,r,c);!i&&m&&(n[f].providerFactory=u),nc(o,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),s.push(u)}else nc(o,t,p>-1?p:f,rc(n[i?f:p],c,!i&&r));!i&&r&&m&&n[f].componentProviders++}}}function nc(t,e,n,r){const i=Lo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function rc(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ic(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function oc(t,e,n,r){return ac(this.multi,[])}function sc(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ac(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ac(i,o);return o}function ac(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function cc(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=bt(t);ec(n,r.data,r.blueprint,i,!0),ec(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class lc{}class uc{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let hc=(()=>{class t{}return t.NULL=new uc,t})();function dc(...t){}function pc(t,e){return new gc(Rt(t,e))}const fc=function(){return pc($t(),Qt())};let gc=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=fc,t})();function mc(t){return t instanceof gc?t.nativeElement:t}class bc{}let yc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>_c(),t})();const _c=function(){const t=Qt(),e=Nt($t().index,t);return function(t){return t[11]}(dt(e)?e:t)};let vc=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class wc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Cc=new wc("11.2.9");class Oc{constructor(){}supports(t){return Zo(t)}create(t){return new xc(t)}}const Sc=(t,e)=>e;class xc{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Sc}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ic(n,r,i)?e:n,s=Ic(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Zo(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Go()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ec(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Tc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ec{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Tc{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new kc,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ic(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ac{constructor(){}supports(t){return t instanceof Map||Jo(t)}create(){return new jc}}class jc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Jo(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Rc(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Rc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pc(){return new Dc([new Oc])}let Dc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Pc()),deps:[[t,new jn,new An]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Pc}),t})();function Nc(){return new Mc([new Ac])}let Mc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Nc()),deps:[[t,new jn,new An]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Nc}),t})();function Vc(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(At(o)),pt(o))for(let t=ht;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Vc(e[1],e,n,r)}const s=n.type;if(8&s)Vc(t,e,n.child,r);else if(32&s){const t=Rr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=oi(e,n);if(Array.isArray(t))r.push(...t);else{const n=Pr(e[16]);Vc(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Fc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Vc(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(qr(t,n),fn(e,n))}this._attachedToViewContainer=!1}Qr(this._lView[1],this._lView)}onDestroy(t){Yi(this._lView[1],this._lView,null,t)}markForCheck(){fo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){go(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{go(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,li(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Lc extends Fc{constructor(t){super(t),this._view=t}detectChanges(){mo(this._view)}checkNoChanges(){!function(t){te(!0);try{mo(t)}finally{te(!1)}}(this._view)}get context(){return null}}const Uc=zc;let Hc=(()=>{class t{}return t.__NG_ELEMENT_ID__=Uc,t.__ChangeDetectorRef__=!0,t})();function zc(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Nt(t.index,e);return new Fc(n,n)}return 47&t.type?new Fc(e[16],e):null}($t(),Qt(),t)}const qc=[new Ac],Qc=new Dc([new Oc]),Bc=new Mc(qc),Wc=function(){return Kc($t(),Qt())};let $c=(()=>{class t{}return t.__NG_ELEMENT_ID__=Wc,t})();const Yc=$c,Gc=class extends Yc{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ni(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Li(e,n,t),new Fc(n)}};function Kc(t,e){return 4&t.type?new Gc(e,t,pc(t,e)):null}class Zc{}class Jc{}const Xc=function(){return ol($t(),Qt())};let tl=(()=>{class t{}return t.__NG_ELEMENT_ID__=Xc,t})();const el=tl,nl=class extends el{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return pc(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=qe(this._hostTNode,this._hostLView);if(De(t)){const e=Me(t,this._hostLView),n=Ne(t);return new en(e[1].data[n+8],e)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=rl(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Zc,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new nl(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ht+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ht?(e[4]=n[i],pn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=si(i,o),a=n[11],c=Zr(a,o[7]);return null!==c&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,li(t,r,n,1,i,o)}(r,o[6],a,n,c,s),t.attachToViewContainerRef(),pn(il(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=rl(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=qr(this._lContainer,e);n&&(fn(il(this._lContainer),e),Qr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=qr(this._lContainer,e);return n&&null!=fn(il(this._lContainer),e)?new Fc(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function rl(t){return t[8]}function il(t){return t[8]||(t[8]=[])}function ol(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Yr(n,Zr(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=co(r,e,i,t),po(e,n)}return new nl(n,t,e)}const sl={};class al extends hc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new ul(e,this.ngModule)}}function cl(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ll=new cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tr});class ul extends lc{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return cl(this.componentDef.inputs)}get outputs(){return cl(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,sl,i);return o!==sl||r===sl?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(bc,It),s=i.get(vc,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Hr(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Tr,clean:yo,playerHandler:null,flags:0},d=$i(0,null,null,1,0,null,null,null,null,null),p=Ni(null,d,h,u,null,null,o,a,s,i);let f,g;de(p);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Mi(s,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(So(a,c,!0),null!==t&&(Ie(i,t,c),null!==a.classes&&di(i,t,a.classes),null!==a.styles&&hi(i,t,a.styles)));const l=r.createRenderer(t,e),u=Ni(n,Wi(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return s.firstCreatePass&&(Qe(Ue(a,n),s,e.type),to(s,a),no(a,n.length,1)),po(n,u),n[20]=u}(l,this.componentDef,p,o,a);if(l)if(n)Ie(a,l,["ng-version",Cc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!_i(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(a,l,t),e&&e.length>0&&di(a,l,e.join(" "))}if(g=Pt(d,ut),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}f=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ro(t,r,e,Fi(t,e,1,null),n));const i=Je(e,t,r.directiveStart,r);kr(i,e);const o=Rt(r,e);return o&&kr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=$t();e.contentQueries(1,s,t.directiveStart)}const a=$t();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(_e(a.index),Ji(n[1],a,0,a.directiveStart,a.directiveEnd,e),Xi(e,s)),s}(t,this.componentDef,p,h,[zo]),Li(d,p,null)}finally{be()}return new hl(this.componentType,f,pc(g,p),p,g)}}class hl extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Lc(r),this.componentType=t}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const dl=new Map;class pl extends Zc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new al(this);const n=lt(t),r=t[G]||null;r&&fa(r),this._bootstrapComponents=Ir(n.bootstrap),this._r3Injector=Po(t,e,[{provide:Zc,useValue:this},{provide:hc,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ho.THROW_IF_NOT_FOUND,n=A.Default){return t===Ho||t===Zc||t===xo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fl extends Jc{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(i,dl.get(i),n),dl.set(i,n));const o=Ir(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new pl(this.moduleType,t)}}function gl(t,e,n){const r=ee()+t,i=Qt();return i[r]===xi?Xo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function ml(t,e,n,r){return vl(Qt(),ee(),t,e,n,r)}function bl(t,e,n,r,i){return wl(Qt(),ee(),t,e,n,r,i)}function yl(t,e,n,r,i,o){return Cl(Qt(),ee(),t,e,n,r,i,o)}function _l(t,e){const n=t[e];return n===xi?void 0:n}function vl(t,e,n,r,i,o){const s=e+n;return ts(t,s,i)?Xo(t,s+1,o?r.call(o,i):r(i)):_l(t,s+1)}function wl(t,e,n,r,i,o,s){const a=e+n;return es(t,a,i,o)?Xo(t,a+2,s?r.call(s,i,o):r(i,o)):_l(t,a+2)}function Cl(t,e,n,r,i,o,s,a){const c=e+n;return function(t,e,n,r,i){const o=es(t,e,n,r);return ts(t,e+2,i)||o}(t,c,i,o,s)?Xo(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):_l(t,c+3)}function Ol(t,e){const n=Bt();let r;const i=t+ut;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=yt(r.type)),s=R(ss);try{const t=Fe(!1),e=o();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Qt(),i,e),e}finally{R(s)}}function Sl(t,e,n){const r=t+ut,i=Qt(),o=Dt(i,r);return Tl(i,kl(i,r)?vl(i,ee(),e,o.transform,n,o):o.transform(n))}function xl(t,e,n,r){const i=t+ut,o=Qt(),s=Dt(o,i);return Tl(o,kl(o,i)?wl(o,ee(),e,s.transform,n,r,s):s.transform(n,r))}function El(t,e,n,r,i){const o=t+ut,s=Qt(),a=Dt(s,o);return Tl(s,kl(s,o)?Cl(s,ee(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function kl(t,e){return t[1].data[e].pure}function Tl(t,e){return Ko.isWrapped(e)&&(e=Ko.unwrap(e),t[ne()]=xi),e}const Il=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Al(){return this._results[Go()]()}class jl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Go(),n=jl.prototype;n[e]||(n[e]=Al)}get changes(){return this._changes||(this._changes=new Il)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=hn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Rl{constructor(t){this.queryList=t,this.matches=null}clone(){return new Rl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Pl(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==$l(t,e).matches&&this.queries[e].setDirty()}}class Dl{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Nl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Nl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ml{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ml(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Vl(e,i)),this.matchTNodeWithReadOption(t,e,Ze(e,t,i,!1,!1))}else n===$c?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ze(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===gc||r===tl||r===$c&&4&e.type)this.addMatch(e.index,-2);else{const n=Ze(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Vl(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Fl(t,e,n,r){return-1===n?function(t,e){return 11&t.type?pc(t,e):4&t.type?Kc(t,e):null}(e,t):-2===n?function(t,e,n){return n===gc?pc(e,t):n===$c?Kc(e,t):n===tl?ol(e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function Ll(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Fl(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ul(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ll(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ht;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ul(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ul(n[1],n,i,r)}}}}}return r}function Hl(t){const e=Qt(),n=Bt(),r=ce();le(r+1);const i=$l(n,r);if(t.dirty&&Vt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ul(n,e,r,[]):Ll(n,e,i,r);t.reset(o,mc),t.notifyOnChanges()}return!0}return!1}function zl(t,e,n){const r=Bt();r.firstCreatePass&&(Wl(r,new Dl(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Bl(r,Qt(),e)}function ql(t,e,n,r){const i=Bt();if(i.firstCreatePass){const o=$t();Wl(i,new Dl(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Bl(i,Qt(),n)}function Ql(){return t=Qt(),e=ce(),t[19].queries[e].queryList;var t,e}function Bl(t,e,n){const r=new jl(4==(4&n));Yi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Pl),e[19].queries.push(new Rl(r))}function Wl(t,e,n){null===t.queries&&(t.queries=new Nl),t.queries.track(new Ml(e,n))}function $l(t,e){return t.queries.getByIndex(e)}function Yl(t,e){return Kc(t,e)}function Gl(t=A.Default){const e=zc(!0);if(null!=e||t&A.Optional)return e;_("ChangeDetectorRef")}const Kl=new cn("Application Initializer");let Zl=(()=>{class t{constructor(t){this.appInits=t,this.resolve=dc,this.reject=dc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();gs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(En(Kl,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Jl=new cn("AppId"),Xl={provide:Jl,useFactory:function(){return`${tu()}${tu()}${tu()}`},deps:[]};function tu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eu=new cn("Platform Initializer"),nu=new cn("Platform ID"),ru=new cn("appBootstrapListener");let iu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const ou=new cn("LocaleId"),su=new cn("DefaultCurrencyCode");class au{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const cu=function(t){return new fl(t)},lu=cu,uu=function(t){return Promise.resolve(cu(t))},hu=function(t){const e=cu(t),n=Ir(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new ul(n)),t},[]);return new au(e,n)},du=hu,pu=function(t){return Promise.resolve(hu(t))};let fu=(()=>{class t{constructor(){this.compileModuleSync=lu,this.compileModuleAsync=uu,this.compileModuleAndAllComponentsSync=du,this.compileModuleAndAllComponentsAsync=pu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const gu=(()=>Promise.resolve(0))();function mu(t){"undefined"==typeof Zone?gu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class bu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vu(t),_u(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return wu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Cu(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return wu(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Cu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vu(t),_u(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,yu,dc,dc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const yu={};function _u(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cu(t){t._nesting--,_u(t)}class Ou{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Il,this.onMicrotaskEmpty=new Il,this.onStable=new Il,this.onError=new Il}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Su=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bu.assertNotInAngularZone(),mu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(En(bu))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),xu=(()=>{class t{constructor(){this._applications=new Map,Iu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Iu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Eu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ku(t){Iu=t}let Tu,Iu=new Eu,Au=!0,ju=!1;function Ru(){return ju=!0,Au}function Pu(){if(ju)throw new Error("Cannot enable prod mode after platform setup.");Au=!1}const Du=new cn("AllowMultipleToken");class Nu{constructor(t,e){this.name=t,this.token=e}}function Mu(t,e,n=[]){const r=`Platform: ${e}`,i=new cn(r);return(e=[])=>{let o=Vu();if(!o||o.injector.get(Du,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ko,useValue:"platform"});!function(t){if(Tu&&!Tu.destroyed&&!Tu.injector.get(Du,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tu=t.get(Fu);const e=t.get(eu,null);e&&e.forEach(t=>t())}(Ho.create({providers:t,name:r}))}return function(t){const e=Vu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Vu(){return Tu&&!Tu.destroyed?Tu:null}let Fu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ou:("zone.js"===t?void 0:t)||new bu({enableLongStackTrace:Ru(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:bu,useValue:n}];return n.run(()=>{const e=Ho.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Sr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Hu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return gs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Zl);return t.runInitializers(),t.donePromise.then(()=>(fa(i.injector.get(ou,la)||la),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Lu({},e);return function(t,e,n){const r=new fl(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Uu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(En(Ho))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Lu(t,e){return Array.isArray(e)?e.reduce(Lu,t):Object.assign(Object.assign({},t),e)}let Uu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{bu.assertNotInAngularZone(),mu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{bu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof lc?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Zc),i=n.create(Ho.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Su,null),a=s&&i.injector.get(xu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Hu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Hu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ru,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(En(bu),En(Ho),En(Sr),En(hc),En(Zl))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Hu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class zu{}class qu{}const Qu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Bu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Qu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Wu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Wu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(En(fu),En(qu,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Wu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const $u=function(t){return null},Yu=Mu(null,"core",[{provide:nu,useValue:"unknown"},{provide:Fu,deps:[Ho]},{provide:xu,deps:[]},{provide:iu,deps:[]}]),Gu=[{provide:Uu,useClass:Uu,deps:[bu,Ho,Sr,hc,Zl]},{provide:ll,deps:[bu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Zl,useClass:Zl,deps:[[new An,Kl]]},{provide:fu,useClass:fu,deps:[]},Xl,{provide:Dc,useFactory:function(){return Qc},deps:[]},{provide:Mc,useFactory:function(){return Bc},deps:[]},{provide:ou,useFactory:function(t){return fa(t=t||"undefined"!=typeof $localize&&$localize.locale||la),t},deps:[[new In(ou),new An,new jn]]},{provide:su,useValue:"USD"}];let Ku=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(En(Uu))},t.\u0275mod=rt({type:t}),t.\u0275inj=C({providers:Gu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return u});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function u(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return p});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,l=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),u=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return _}),n.d(e,"c",function(){return R}),n.d(e,"d",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return k}),n.d(e,"i",function(){return P}),n.d(e,"j",function(){return u}),n.d(e,"k",function(){return h}),n.d(e,"l",function(){return V}),n.d(e,"m",function(){return z}),n.d(e,"n",function(){return E}),n.d(e,"o",function(){return g}),n.d(e,"p",function(){return I}),n.d(e,"q",function(){return p}),n.d(e,"r",function(){return f}),n.d(e,"s",function(){return b}),n.d(e,"t",function(){return m}),n.d(e,"u",function(){return x}),n.d(e,"v",function(){return C}),n.d(e,"w",function(){return A}),n.d(e,"x",function(){return j}),n.d(e,"y",function(){return T}),n.d(e,"z",function(){return H}),n.d(e,"A",function(){return U}),n.d(e,"B",function(){return O}),n.d(e,"C",function(){return M}),n.d(e,"D",function(){return F}),n.d(e,"E",function(){return L});var r=n("mrSG"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=(15&a)<<2|l>>6,h=63&l;c||(h=64,s||(u=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[u],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=s(t);return a.encodeByteArray(e,!0)},l=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function g(){return"object"==typeof self&&self.self===self}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return!1}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return Object(r.c)(e,t),e}(Error),_=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new y(i,a,r);return c},t}();function v(t,e){return t.replace(w,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var w=/\{\$([^}]+)}/g;function C(t){return JSON.parse(t)}function O(t){return JSON.stringify(t)}var S=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=C(l(o[0])||""),n=C(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},x=function(t){var e=S(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},E=function(t){var e=S(t).claims;return"object"==typeof e&&!0===e.admin};function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function I(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function j(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var R=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^a&(c^l),o=1518500249):(i=a^c^l,o=1859775393):r<60?(i=a&c|l&(a|c),o=2400959708):(i=a^c^l,o=3395469782);var h=(s<<5|s>>>27)+i+u+o+n[r]&4294967295;u=l,l=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function P(t,e){var n=new D(t,e);return n.subscribe.bind(n)}var D=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function N(){}var M=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function V(t,e){return t+" failed: "+e+" argument "}function F(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(V(t,e)+"must be a valid function.")}function L(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(V(t,e)+"must be a valid context object.")}var U=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},H=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function z(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(l)){a&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if(Object(r.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return E}),n.d(e,"b",function(){return _}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return f}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return C});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),l=n("Jgta");function u(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",u,{},u,u)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class p{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function f(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.r("angularfire2.app.options"),_=new c.r("angularfire2.app.nameOrConfig"),v=new c.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=l.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(c.V)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:class{},useFactory:w,deps:[y,c.A,[new c.B,_]]};let E=(()=>{class t{constructor(t){l.a.registerVersion("angularfire",v.full,t.toString()),l.a.registerVersion("angular",c.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(c.C))},t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({providers:[x]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const c={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var l=n("3N8a");class u extends l.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=c.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(c.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const p=new d(u);var f=n("Y7HM");class g extends r.a{constructor(t,e=0,n=p){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(f.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=p)}static create(t,e=0,n=p){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>{return Object(i.a)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),u=new s.b("app","Firebase",l),h="@firebase/app",d="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new c.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.j)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(Object(s.h)(e,a))throw u.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&c&&l.push("and"),c&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(l.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.h)(e,t))throw u.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw u.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.k)(c,o.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var l=0,h=Object.keys(e);l<h.length;l++)e[h[l]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.k)(e,t)},createSubscribe:s.i,ErrorFactory:s.b,deepExtend:s.k}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.o)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.r)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var v=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Yb)(u)}const l=new r.r("Location Initialized");let u=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Ib)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new u(Object(r.Yb)(s))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function f(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Yb)(s).location;return new _(Object(r.Yb)(a),e&&e.origin||"")}const y=new r.r("appBaseHref");let _=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(y,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(y,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=f(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(m),r.Yb(a))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=f,t.\u0275prov=Object(r.Ib)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(r.Yb)(m),Object(r.Yb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),E=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),k=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),T=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function I(t,e){return N(Object(r.jb)(t)[r.ab.DateFormat],e)}function A(t,e){return N(Object(r.jb)(t)[r.ab.TimeFormat],e)}function j(t,e){return N(Object(r.jb)(t)[r.ab.DateTimeFormat],e)}function R(t,e){const n=Object(r.jb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===T.CurrencyDecimal)return n[r.ab.NumberSymbols][T.Decimal];if(e===T.CurrencyGroup)return n[r.ab.NumberSymbols][T.Group]}return i}const P=r.mb;function D(t){if(!t[r.ab.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.ab.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function N(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function M(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const V=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,F={},L=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var U=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),H=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),z=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function q(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return Q(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(V))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,l),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=B(n,e)||e;let o,s=[];for(;e;){if(o=L.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let c="";return s.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=G(z.Eras,E.Abbreviated);break;case"GGGG":e=G(z.Eras,E.Wide);break;case"GGGGG":e=G(z.Eras,E.Narrow);break;case"y":e=Y(H.FullYear,1,0,!1,!0);break;case"yy":e=Y(H.FullYear,2,0,!0,!0);break;case"yyy":e=Y(H.FullYear,3,0,!1,!0);break;case"yyyy":e=Y(H.FullYear,4,0,!1,!0);break;case"Y":e=X(1);break;case"YY":e=X(2,!0);break;case"YYY":e=X(3);break;case"YYYY":e=X(4);break;case"M":case"L":e=Y(H.Month,1,1);break;case"MM":case"LL":e=Y(H.Month,2,1);break;case"MMM":e=G(z.Months,E.Abbreviated);break;case"MMMM":e=G(z.Months,E.Wide);break;case"MMMMM":e=G(z.Months,E.Narrow);break;case"LLL":e=G(z.Months,E.Abbreviated,x.Standalone);break;case"LLLL":e=G(z.Months,E.Wide,x.Standalone);break;case"LLLLL":e=G(z.Months,E.Narrow,x.Standalone);break;case"w":e=J(1);break;case"ww":e=J(2);break;case"W":e=J(1,!0);break;case"d":e=Y(H.Date,1);break;case"dd":e=Y(H.Date,2);break;case"E":case"EE":case"EEE":e=G(z.Days,E.Abbreviated);break;case"EEEE":e=G(z.Days,E.Wide);break;case"EEEEE":e=G(z.Days,E.Narrow);break;case"EEEEEE":e=G(z.Days,E.Short);break;case"a":case"aa":case"aaa":e=G(z.DayPeriods,E.Abbreviated);break;case"aaaa":e=G(z.DayPeriods,E.Wide);break;case"aaaaa":e=G(z.DayPeriods,E.Narrow);break;case"b":case"bb":case"bbb":e=G(z.DayPeriods,E.Abbreviated,x.Standalone,!0);break;case"bbbb":e=G(z.DayPeriods,E.Wide,x.Standalone,!0);break;case"bbbbb":e=G(z.DayPeriods,E.Narrow,x.Standalone,!0);break;case"B":case"BB":case"BBB":e=G(z.DayPeriods,E.Abbreviated,x.Format,!0);break;case"BBBB":e=G(z.DayPeriods,E.Wide,x.Format,!0);break;case"BBBBB":e=G(z.DayPeriods,E.Narrow,x.Format,!0);break;case"h":e=Y(H.Hours,1,-12);break;case"hh":e=Y(H.Hours,2,-12);break;case"H":e=Y(H.Hours,1);break;case"HH":e=Y(H.Hours,2);break;case"m":e=Y(H.Minutes,1);break;case"mm":e=Y(H.Minutes,2);break;case"s":e=Y(H.Seconds,1);break;case"ss":e=Y(H.Seconds,2);break;case"S":e=Y(H.FractionalSeconds,1);break;case"SS":e=Y(H.FractionalSeconds,2);break;case"SSS":e=Y(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=K(U.Short);break;case"ZZZZZ":e=K(U.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=K(U.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=K(U.Long);break;default:return null}return tt[t]=e,e}(t);c+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Q(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function B(t,e){const n=function(t){return Object(r.jb)(t)[r.ab.LocaleId]}(t);if(F[n]=F[n]||{},F[n][e])return F[n][e];let i="";switch(e){case"shortDate":i=I(t,k.Short);break;case"mediumDate":i=I(t,k.Medium);break;case"longDate":i=I(t,k.Long);break;case"fullDate":i=I(t,k.Full);break;case"shortTime":i=A(t,k.Short);break;case"mediumTime":i=A(t,k.Medium);break;case"longTime":i=A(t,k.Long);break;case"fullTime":i=A(t,k.Full);break;case"short":const e=B(t,"shortTime"),n=B(t,"shortDate");i=W(j(t,k.Short),[e,n]);break;case"medium":const r=B(t,"mediumTime"),o=B(t,"mediumDate");i=W(j(t,k.Medium),[r,o]);break;case"long":const s=B(t,"longTime"),a=B(t,"longDate");i=W(j(t,k.Long),[s,a]);break;case"full":const c=B(t,"fullTime"),l=B(t,"fullDate");i=W(j(t,k.Full),[c,l])}return i&&(F[n][e]=i),i}function W(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function $(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Y(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case H.FullYear:return e.getFullYear();case H.Month:return e.getMonth();case H.Date:return e.getDate();case H.Hours:return e.getHours();case H.Minutes:return e.getMinutes();case H.Seconds:return e.getSeconds();case H.FractionalSeconds:return e.getMilliseconds();case H.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===H.Hours)0===a&&-12===n&&(a=12);else if(t===H.FractionalSeconds)return c=e,$(a,3).substr(0,c);var c;const l=R(s,T.MinusSign);return $(a,e,l,r,i)}}function G(t,e,n=x.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case z.Months:return function(t,e,n){const i=Object(r.jb)(t),o=N([i[r.ab.MonthsFormat],i[r.ab.MonthsStandalone]],e);return N(o,n)}(e,o,i)[t.getMonth()];case z.Days:return function(t,e,n){const i=Object(r.jb)(t),o=N([i[r.ab.DaysFormat],i[r.ab.DaysStandalone]],e);return N(o,n)}(e,o,i)[t.getDay()];case z.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(s){const t=function(t){const e=Object(r.jb)(t);return D(e),(e[r.ab.ExtraData][2]||[]).map(t=>"string"==typeof t?M(t):[M(t[0]),M(t[1])])}(e),n=function(t,e,n){const i=Object(r.jb)(t);D(i);const o=N([i[r.ab.ExtraData][0],i[r.ab.ExtraData][1]],e)||[];return N(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&c>=e.minutes,i=a<n.hours||a===n.hours&&c<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===c)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.jb)(t),o=N([i[r.ab.DayPeriodsFormat],i[r.ab.DayPeriodsStandalone]],e);return N(o,n)}(e,o,i)[a<12?0:1];case z.Eras:return function(t,e){return N(Object(r.jb)(t)[r.ab.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,s,t,e,n,i)}}function K(t){return function(e,n,r){const i=-1*r,o=R(n,T.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case U.Short:return(i>=0?"+":"")+$(s,2,o)+$(Math.abs(i%60),2,o);case U.ShortGMT:return"GMT"+(i>=0?"+":"")+$(s,1,o);case U.Long:return"GMT"+(i>=0?"+":"")+$(s,2,o)+":"+$(Math.abs(i%60),2,o);case U.Extended:return 0===r?"Z":(i>=0?"+":"")+$(s,2,o)+":"+$(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t){return Q(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function J(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Z(n),e=function(t){const e=Q(t,0,1).getDay();return Q(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return $(i,t,R(r,T.MinusSign))}}function X(t,e=!1){return function(n,r){return $(Z(n).getFullYear(),t,R(r,T.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(P(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ot=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.vb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(r.u),r.Mb(r.l),r.Mb(r.E))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class st{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let at=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new st(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ct(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new ct(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ct{constructor(t,e){this.record=t,this.view=e}}let lt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ht("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ht("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.Q),r.Mb(r.L))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ut{constructor(){this.$implicit=null,this.ngIf=null}}function ht(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let dt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return q(e,n,o||this.locale,i)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275pipe=r.Lb({name:"date",type:t,pure:!0}),t})(),pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:rt,useClass:it}]}),t})(),ft=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new gt(Object(r.Yb)(s),window)}),t})();class gt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=mt(this.window.history)||mt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function mt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class bt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new bt,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=_t||(_t=document.querySelector("base"),_t)?_t.getAttribute("href"):null;return null==e?null:(n=e,yt||(yt=document.createElement("a")),yt.setAttribute("href",n),"/"===yt.pathname.charAt(0)?yt.pathname:"/"+yt.pathname);var n}resetBaseElement(){_t=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let yt,_t=null;const vt=new r.r("TRANSITION_ID"),wt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[vt,s,r.s],multi:!0}];class Ct{static init(){Object(r.X)(new Ct)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Ot=new r.r("EventManagerPlugins");let St=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ot),r.Yb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class xt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Et=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),kt=(()=>{class t extends Et{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},It=/%COMP%/g;function At(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?At(t,i,n):(i=i.replace(It,t),n.push(i))}return n}function jt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Rt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Pt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Dt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new Nt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=At(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(St),r.Yb(kt),r.Yb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Pt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Tt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Tt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Tt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,jt(n)):this.eventManager.addEventListener(t,e,jt(n))}}class Dt extends Pt{constructor(t,e,n,r){super(t),this.component=n;const i=At(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(It,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(It,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Nt extends Pt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=At(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Mt=(()=>{class t extends xt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Vt=["alt","control","meta","shift"],Ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ut={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ht=(()=>{class t extends xt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Vt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Lt.hasOwnProperty(e)&&(e=Lt[e]))}return Ft[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Vt.forEach(r=>{r!=n&&(0,Ut[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const zt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){bt.makeCurrent(),Ct.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],qt=Object(r.S)(r.W,"browser",zt),Qt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Ot,useClass:Mt,multi:!0,deps:[s,r.A,r.C]},{provide:Ot,useClass:Ht,multi:!0,deps:[s]},[],{provide:Rt,useClass:Rt,deps:[St,kt,r.c]},{provide:r.F,useExisting:Rt},{provide:Et,useExisting:kt},{provide:kt,useClass:kt,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:St,useClass:St,deps:[Ot,r.A]},[]];let Bt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:vt,useExisting:r.c},wt]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:Qt,imports:[pt,r.f]}),t})();"undefined"!=typeof window&&window;var Wt=n("Cfvw"),$t=n("LRne"),Yt=n("XNiG"),Gt=n("9ppp");class Kt extends Yt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Gt.a;return this._value}next(t){super.next(this._value=t)}}var Zt=n("z+Ro"),Jt=n("DH7j"),Xt=n("7o/Q");class te extends Xt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ee extends Xt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ne=n("SeVD"),re=n("HDdC");function ie(t,e,n,r,i=new ee(t,n,r)){if(!i.closed)return e instanceof re.a?e.subscribe(i):Object(ne.a)(e)(i)}var oe=n("yCtX");const se={};class ae{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ce(t,this.resultSelector))}}class ce extends te{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(se),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ie(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===se?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const le=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var ue=n("bHdf");function he(...t){return Object(ue.a)(1)(Object($t.a)(...t))}var de=n("EY2u");function pe(t){return new re.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Wt.a)(n):Object(de.b)()).subscribe(e)})}var fe=n("EQ5u"),ge=n("lJxs"),me=n("zx2A");function be(t,e){return"function"==typeof e?n=>n.pipe(be((n,r)=>Object(Wt.a)(t(n,r)).pipe(Object(ge.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ye(t))}class ye{constructor(t){this.project=t}call(t,e){return e.subscribe(new _e(t,this.project))}}class _e extends me.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new me.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(me.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const ve=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function we(t){return e=>0===t?Object(de.b)():e.lift(new Ce(t))}class Ce{constructor(t){if(this.total=t,this.total<0)throw new ve}call(t,e){return e.subscribe(new Oe(t,this.total))}}class Oe extends Xt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Se(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new xe(t,e,n))}}class xe{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ee(t,this.accumulator,this.seed,this.hasSeed))}}class Ee extends Xt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ke(t,e){return function(n){return n.lift(new Te(t,e))}}class Te{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ie(t,this.predicate,this.thisArg))}}class Ie extends Xt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Ae(t){return function(e){const n=new je(t),r=e.lift(n);return n.caught=r}}class je{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Re(t,this.selector,this.caught))}}class Re extends me.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new me.a(this);this.add(r);const i=Object(me.c)(n,r);i!==r&&this.add(i)}}}var Pe=n("5+tZ");function De(t,e){return Object(Pe.a)(t,e,1)}function Ne(t){return function(e){return 0===t?Object(de.b)():e.lift(new Me(t))}}class Me{constructor(t){if(this.total=t,this.total<0)throw new ve}call(t,e){return e.subscribe(new Ve(t,this.total))}}class Ve extends Xt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Fe(t=He){return e=>e.lift(new Le(t))}class Le{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ue(t,this.errorFactory))}}class Ue extends Xt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function He(){return new le}function ze(t=null){return e=>e.lift(new qe(t))}class qe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Qe(t,this.defaultValue))}}class Qe extends Xt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Be=n("SpAZ");function We(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ke((e,n)=>t(e,n,r)):Be.a,we(1),n?ze(e):Fe(()=>new le))}var $e=n("vkgz"),Ye=n("x+ZX"),Ge=n("quSY");class Ke{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ze(t,this.callback))}}class Ze extends Xt.a{constructor(t,e){super(t),this.add(new Ge.a(e))}}class Je{constructor(t,e){this.id=t,this.url=e}}class Xe extends Je{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tn extends Je{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class en extends Je{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nn extends Je{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rn extends Je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class on extends Je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sn extends Je{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class an extends Je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cn extends Je{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class un{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mn="primary";class bn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function yn(t){return new bn(t)}function _n(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function vn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Cn(t[i],e[i]))return!1;return!0}function Cn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function On(t){return Array.prototype.concat.apply([],t)}function Sn(t){return t.length>0?t[t.length-1]:null}function xn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function En(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Wt.a)(Promise.resolve(t)):Object($t.a)(t)}function kn(t,e,n){return n?function(t,e){return wn(t,e)}(t.queryParams,e.queryParams)&&Tn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Cn(t[n],e[n]))}(t.queryParams,e.queryParams)&&In(t.root,e.root)}function Tn(t,e){if(!Dn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Tn(t.children[n],e.children[n]))return!1}return!0}function In(t,e){return An(t,e,e.segments)}function An(t,e,n){if(t.segments.length>n.length)return!!Dn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Dn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!In(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Dn(t.segments,r)&&!!t.children.primary&&An(t.children.primary,e,i)}}class jn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}toString(){return Vn.serialize(this)}}class Rn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,xn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fn(this)}}class Pn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=yn(this.parameters)),this._parameterMap}toString(){return Bn(this)}}function Dn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Nn{}class Mn{parse(t){const e=new Kn(t);return new jn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Ln(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Hn(e)}=${Hn(t)}`).join("&"):`${Hn(e)}=${Hn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Vn=new Mn;function Fn(t){return t.segments.map(t=>Bn(t)).join("/")}function Ln(t,e){if(!t.hasChildren())return Fn(t);if(e){const e=t.children.primary?Ln(t.children.primary,!1):"",n=[];return xn(t.children,(t,e)=>{e!==mn&&n.push(`${e}:${Ln(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return xn(t.children,(t,r)=>{r===mn&&(n=n.concat(e(t,r)))}),xn(t.children,(t,r)=>{r!==mn&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===mn?[Ln(t.children.primary,!1)]:[`${n}:${Ln(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Fn(t)}/${e[0]}`:`${Fn(t)}/(${e.join("//")})`}}function Un(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hn(t){return Un(t).replace(/%3B/gi,";")}function zn(t){return Un(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qn(t){return decodeURIComponent(t)}function Qn(t){return qn(t.replace(/\+/g,"%20"))}function Bn(t){return`${zn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${zn(t)}=${zn(e[t])}`).join("")}`;var e}const Wn=/^[^\/()?;=#]+/;function $n(t){const e=t.match(Wn);return e?e[0]:""}const Yn=/^[^=?&#]+/,Gn=/^[^?&#]+/;class Kn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rn([],{}):new Rn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Rn(t,e)),n}parseSegment(){const t=$n(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Pn(qn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$n(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=$n(this.remaining);t&&(n=t,this.capture(n))}t[qn(e)]=qn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Yn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Gn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Qn(e),i=Qn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=$n(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=mn);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Rn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Zn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Jn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Jn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Xn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Xn(t,this._root).map(t=>t.value)}}function Jn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Jn(t,n);if(e)return e}return null}function Xn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Xn(t,n);if(r.length)return r.unshift(e),r}return[]}class tr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function er(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class nr extends Zn{constructor(t,e){super(t),this.snapshot=e,cr(this,t)}toString(){return this.snapshot.toString()}}function rr(t,e){const n=function(t,e){const n=new sr([],{},{},"",{},mn,e,null,t.root,-1,{});return new ar("",new tr(n,[]))}(t,e),r=new Kt([new Pn("",{})]),i=new Kt({}),o=new Kt({}),s=new Kt({}),a=new Kt(""),c=new ir(r,i,s,a,o,mn,e,n.root);return c.snapshot=n.root,new nr(new tr(c,[]),n)}class ir{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ge.a)(t=>yn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ge.a)(t=>yn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function or(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class sr{constructor(t,e,n,r,i,o,s,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ar extends Zn{constructor(t,e){super(e),this.url=t,cr(this,e)}toString(){return lr(this._root)}}function cr(t,e){e.value._routerState=t,e.children.forEach(e=>cr(t,e))}function lr(t){const e=t.children.length>0?` { ${t.children.map(lr).join(", ")} } `:"";return`${t.value}${e}`}function ur(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),wn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),wn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hr(t,e){var n,r;return wn(t.params,e.params)&&Dn(n=t.url,r=e.url)&&n.every((t,e)=>wn(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||hr(t.parent,e.parent))}function dr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return dr(t,e,r);return dr(t,e)})}(t,e,n);return new tr(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return pr(e,t),t}{const n=new ir(new Kt((r=e.value).url),new Kt(r.params),new Kt(r.queryParams),new Kt(r.fragment),new Kt(r.data),r.outlet,r.component,r),i=e.children.map(e=>dr(t,e));return new tr(n,i)}}var r}function pr(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)pr(t.children[n],e.children[n])}function fr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function gr(t){return"object"==typeof t&&null!=t&&t.outlets}function mr(t,e,n,r,i){let o={};return r&&xn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new jn(n.root===t?e:br(n.root,t,e),o,i)}function br(t,e,n){const r={};return xn(t.children,(t,i)=>{r[i]=t===e?n:br(t,e,n)}),new Rn(t.segments,r)}class yr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&fr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(gr);if(r&&r!==Sn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _r{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function vr(t,e,n){if(t||(t=new Rn([],{})),0===t.segments.length&&t.hasChildren())return wr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(gr(s))break;const a=`${s}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!xr(a,c,e))return o;r+=2}else{if(!xr(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Rn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Rn(t.segments.slice(r.pathIndex),t.children),wr(e,0,i)}return r.match&&0===i.length?new Rn(t.segments,{}):r.match&&!t.hasChildren()?Cr(t,e,n):r.match?wr(t,0,i):Cr(t,e,n)}function wr(t,e,n){if(0===n.length)return new Rn(t.segments,{});{const r=function(t){return gr(t[0])?t[0].outlets:{[mn]:t}}(n),i={};return xn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=vr(t.children[r],e,n))}),xn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Rn(t.segments,i)}}function Cr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(gr(o)){const t=Or(o.outlets);return new Rn(r,t)}if(0===i&&fr(n[0])){r.push(new Pn(t.segments[e].path,Sr(n[0]))),i++;continue}const s=gr(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&fr(a)?(r.push(new Pn(s,Sr(a))),i+=2):(r.push(new Pn(s,{})),i++)}return new Rn(r,{})}function Or(t){const e={};return xn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Cr(new Rn([],{}),0,t))}),e}function Sr(t){const e={};return xn(t,(t,n)=>e[n]=`${t}`),e}function xr(t,e,n){return t==n.path&&wn(e,n.parameters)}class Er{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ur(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=er(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),xn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=er(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=er(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new fn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new dn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ur(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),kr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function kr(t){ur(t.value),t.children.forEach(kr)}class Tr{constructor(t,e){this.routes=t,this.module=e}}function Ir(t){return"function"==typeof t}function Ar(t){return t instanceof jn}const jr=Symbol("INITIAL_VALUE");function Rr(){return be(t=>function(...t){let e,n;return Object(Zt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Jt.a)(t[0])&&(t=t[0]),Object(oe.a)(t,n).lift(new ae(e))}(t.map(t=>t.pipe(we(1),function(...t){const e=t[t.length-1];return Object(Zt.a)(e)?(t.pop(),n=>he(t,n,e)):e=>he(t,e)}(jr)))).pipe(Se((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==jr)return t;if(r===jr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ar(r))return r}return t},t)},jr),ke(t=>t!==jr),Object(ge.a)(t=>Ar(t)?t:!0===t),we(1)))}let Pr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[Ei]},encapsulation:2}),t})();function Dr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Nr(r,Mr(e,r))}}function Nr(t,e){t.children&&Dr(t.children,e)}function Mr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Vr(t){const e=t.children&&t.children.map(Vr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==mn&&(n.component=Pr),n}function Fr(t){return t.outlet||mn}function Lr(t,e){const n=t.filter(t=>Fr(t)===e);return n.push(...t.filter(t=>Fr(t)!==e)),n}const Ur={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Hr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ur):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||vn)(n,t,e);if(!i)return Object.assign({},Ur);const o={};xn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function zr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>qr(t,e,n)&&Fr(n)!==mn)}(t,n,r)){const i=new Rn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Fr(o)!==mn){const n=new Rn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Fr(o)]=n}return i}(t,e,r,new Rn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qr(t,e,n))}(t,n,r)){const o=new Rn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(qr(t,n,a)&&!i[Fr(a)]){const n=new Rn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Fr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Rn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function qr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Qr(t,e,n,r){return!!(Fr(t)===r||r!==mn&&qr(e,n,t))&&("**"===t.path||Hr(e,t,n).matched)}function Br(t,e,n){return 0===e.length&&!t.children[n]}class Wr{constructor(t){this.segmentGroup=t||null}}class $r{constructor(t){this.urlTree=t}}function Yr(t){return new re.a(e=>e.error(new Wr(t)))}function Gr(t){return new re.a(e=>e.error(new $r(t)))}function Kr(t){return new re.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Zr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=zr(this.urlTree.root,[],[],this.config).segmentGroup,e=new Rn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,mn).pipe(Object(ge.a)(t=>this.createUrlTree(Jr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ae(t=>{if(t instanceof $r)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Wr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,mn).pipe(Object(ge.a)(e=>this.createUrlTree(Jr(e),t.queryParams,t.fragment))).pipe(Ae(t=>{if(t instanceof Wr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Rn([],{[mn]:t}):t;return new jn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ge.a)(t=>new Rn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Wt.a)(r).pipe(De(r=>{const i=n.children[r],o=Lr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(ge.a)(t=>({segment:t,outlet:r})))}),Se((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ke((e,n)=>t(e,n,r)):Be.a,Ne(1),n?ze(e):Fe(()=>new le))}())}expandSegment(t,e,n,r,i,o){return Object(Wt.a)(n).pipe(De(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Ae(t=>{if(t instanceof Wr)return Object($t.a)(null);throw t}))),We(t=>!!t),Ae((t,n)=>{if(t instanceof le||"EmptyError"===t.name){if(Br(e,r,i))return Object($t.a)(new Rn([],{}));throw new Wr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Qr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Yr(e):Yr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Gr(i):this.lineralizeSegments(n,i).pipe(Object(Pe.a)(n=>{const i=new Rn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Hr(e,r,i);if(!s)return Yr(e);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Gr(u):this.lineralizeSegments(r,u).pipe(Object(Pe.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object($t.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(ge.a)(t=>(n._loadedConfig=t,new Rn(r,{})))):Object($t.a)(new Rn(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Hr(e,n,r);if(!o)return Yr(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Pe.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:l}=zr(e,s,c,o),u=new Rn(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,o,u).pipe(Object(ge.a)(t=>new Rn(s,t)));if(0===o.length&&0===l.length)return Object($t.a)(new Rn(s,{}));const h=Fr(n)===i;return this.expandSegment(r,u,o,l,h?mn:i,!0).pipe(Object(ge.a)(t=>new Rn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object($t.a)(new Tr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object($t.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Pe.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ge.a)(t=>(e._loadedConfig=t,t))):function(t){return new re.a(e=>e.error(_n(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object($t.a)(new Tr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object($t.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Ir(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Ir(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return En(o)});return Object($t.a)(i).pipe(Rr(),Object($e.a)(t=>{if(!Ar(t))return;const e=_n(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ge.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object($t.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Kr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new jn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return xn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return xn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Rn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Jr(t){const e={};for(const n of Object.keys(t.children)){const r=Jr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Rn(t.segments.concat(e.segments),e.children)}return t}(new Rn(t.segments,e))}class Xr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ti{constructor(t,e){this.component=t,this.route=e}}function ei(t,e,n){const r=t._root;return ri(r,e?e._root:null,n,[r.value])}function ni(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ri(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=er(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dn(t.url,e.url)||!wn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hr(t,e)||!wn(t.queryParams,e.queryParams);case"paramsChange":default:return!hr(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Xr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ri(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ti(a.outlet.component,s))}else s&&ii(e,a,i),i.canActivateChecks.push(new Xr(r)),ri(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),xn(o,(t,e)=>ii(t,n.getContext(e),i)),i}function ii(t,e,n){const r=er(t),i=t.value;xn(r,(t,r)=>{ii(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ti(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class oi{}function si(t){return new re.a(e=>e.error(t))}class ai{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=zr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,mn);if(null===e)return null;const n=new sr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tr(n,e),i=new ar(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=or(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Lr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!ci(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===mn?-1:e.value.outlet===mn?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Br(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Qr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Sn(n).parameters:{};i=new sr(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hi(t),Fr(t),t.component,t,li(e),ui(e)+n.length,di(t))}else{const r=Hr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new sr(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hi(t),Fr(t),t.component,t,li(e),ui(e)+o.length,di(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=zr(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new tr(i,t)]}if(0===a.length&&0===l.length)return[new tr(i,[])];const u=Fr(t)===r,h=this.processSegment(a,c,l,u?mn:r);return null===h?null:[new tr(i,h)]}}function ci(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function li(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ui(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function hi(t){return t.data||{}}function di(t){return t.resolve||{}}function pi(t){return be(e=>{const n=t(e);return n?Object(Wt.a)(n).pipe(Object(ge.a)(()=>e)):Object($t.a)(e)})}class fi extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const gi=new r.r("ROUTES");class mi{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(ge.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Tr(On(i.injector.get(gi,void 0,r.q.Self|r.q.Optional)).map(Vr),i)}),Ae(t=>{throw e._loader$=void 0,t}));return e._loader$=new fe.a(n,()=>new Yt.a).pipe(Object(Ye.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Wt.a)(this.loader.load(t)):En(t()).pipe(Object(Pe.a)(t=>t instanceof r.w?Object($t.a)(t):Object(Wt.a)(this.compiler.compileModuleAsync(t))))}}class bi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yi,this.attachRef=null}}class yi{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new bi,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class _i{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vi(t){throw t}function wi(t,e,n){return e.parse("/")}function Ci(t,e){return Object($t.a)(null)}let Oi=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Yt.a,this.errorHandler=vi,this.malformedUriErrorHandler=wi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ci,afterPreactivation:Ci},this.urlHandlingStrategy=new _i,this.routeReuseStrategy=new fi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const l=o.get(r.A);this.isNgZoneEnabled=l instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new jn(new Rn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mi(s,a,t=>this.triggerEvent(new ln(t)),t=>this.triggerEvent(new un(t))),this.routerState=rr(this.currentUrlTree,this.rootComponentType),this.transitions=new Kt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ke(t=>0!==t.id),Object(ge.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),be(t=>{let n=!1,r=!1;return Object($t.a)(t).pipe(Object($e.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),be(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object($t.a)(t).pipe(be(t=>{const n=this.transitions.getValue();return e.next(new Xe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?de.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,be(t=>function(t,e,n,r,i){return new Zr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(ge.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object($e.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Pe.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new ai(t,e,n,r,i,o).recognize();return null===s?si(new oi):Object($t.a)(s)}catch(s){return si(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(ge.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object($e.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new rn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Xe(n,this.serializeUrl(r),i,o);e.next(a);const c=rr(r,this.rootComponentType).snapshot;return Object($t.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),de.a}),pi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object($e.a)(t=>{const e=new on(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ge.a)(t=>Object.assign(Object.assign({},t),{guards:ei(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Pe.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object($t.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Wt.a)(t).pipe(Object(Pe.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object($t.a)(!0);const s=o.map(o=>{const s=ni(o,e,i);let a;if(function(t){return t&&Ir(t.canDeactivate)}(s))a=En(s.canDeactivate(t,e,n,r));else{if(!Ir(s))throw new Error("Invalid CanDeactivate guard");a=En(s(t,e,n,r))}return a.pipe(We())});return Object($t.a)(s).pipe(Rr())}(t.component,t.route,n,e,r)),We(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Pe.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Wt.a)(e).pipe(De(e=>he(function(t,e){return null!==t&&e&&e(new hn(t)),Object($t.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new pn(t)),Object($t.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>pe(()=>{const i=e.guards.map(i=>{const o=ni(i,e.node,n);let s;if(function(t){return t&&Ir(t.canActivateChild)}(o))s=En(o.canActivateChild(r,t));else{if(!Ir(o))throw new Error("Invalid CanActivateChild guard");s=En(o(r,t))}return s.pipe(We())});return Object($t.a)(i).pipe(Rr())}));return Object($t.a)(i).pipe(Rr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object($t.a)(!0);const i=r.map(r=>pe(()=>{const i=ni(r,e,n);let o;if(function(t){return t&&Ir(t.canActivate)}(i))o=En(i.canActivate(e,t));else{if(!Ir(i))throw new Error("Invalid CanActivate guard");o=En(i(e,t))}return o.pipe(We())}));return Object($t.a)(i).pipe(Rr())}(t,e.route,n))),We(t=>!0!==t,!0))}(r,o,t,e):Object($t.a)(n)),Object(ge.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object($e.a)(t=>{if(Ar(t.guardsResult)){const e=_n(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new sn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ke(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new en(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),pi(t=>{if(t.guards.canActivateChecks.length)return Object($t.a)(t).pipe(Object($e.a)(t=>{const e=new an(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),be(t=>{let n=!1;return Object($t.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Pe.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object($t.a)(t);let o=0;return Object(Wt.a)(n).pipe(De(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object($t.a)({});const o={};return Object(Wt.a)(i).pipe(Object(Pe.a)(i=>function(t,e,n,r){const i=ni(t,e,r);return En(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object($e.a)(t=>{o[i]=t}))),Ne(1),Object(Pe.a)(()=>Object.keys(o).length===i.length?Object($t.a)(o):de.a))}(t._resolve,t,e,r).pipe(Object(ge.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),or(t,n).resolve),null)))}(t.route,e,r,i)),Object($e.a)(()=>o++),Ne(1),Object(Pe.a)(e=>o===n.length?Object($t.a)(t):de.a))})),Object($e.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new en(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object($e.a)(t=>{const e=new cn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),pi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ge.a)(t=>{const e=function(t,e,n){const r=dr(t,e._root,n?n._root:void 0);return new nr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object($e.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(ge.a)(t=>(new Er(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object($e.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new en(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ke(i))),Ae(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ar(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new en(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new nn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return de.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Dr(t),this.config=t.map(Vr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i;let l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return mr(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new yr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return xn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new yr(n,e,r)}(n);if(o.toRoot())return mr(e.root,new Rn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new _r(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new _r(t,t===e.root,0)}const r=fr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new _r(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?wr(s.segmentGroup,s.index,o.commands):vr(s.segmentGroup,s.index,o.commands);return mr(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ar(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ar(t))return kn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return kn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new tn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,l,u;i?(c=i.resolve,l=i.reject,u=i.promise):u=new Promise((t,e)=>{c=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.N),r.Yb(Nn),r.Yb(yi),r.Yb(w),r.Yb(r.s),r.Yb(r.x),r.Yb(r.i),r.Yb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Si=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Yt.a,this.subscription=t.events.subscribe(t=>{t instanceof tn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:xi(this.skipLocationChange),replaceUrl:xi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Oi),r.Mb(ir),r.Mb(m))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.bc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ub("href",e.href,r.uc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})();function xi(t){return""===t||!!t}let Ei=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||mn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ki(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(yi),r.Mb(r.Q),r.Mb(r.j),r.Zb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ki{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ir?this.route:t===yi?this.childContexts:this.parent.get(t,e)}}class Ti{}class Ii{preload(t,e){return Object($t.a)(null)}}let Ai=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new mi(e,n,e=>t.triggerEvent(new ln(e)),e=>t.triggerEvent(new un(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ke(t=>t instanceof tn),De(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Wt.a)(n).pipe(Object(ue.a)(),Object(ge.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object($t.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Pe.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Oi),r.Yb(r.x),r.Yb(r.i),r.Yb(r.s),r.Yb(Ti))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ji=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new gn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Oi),r.Yb(ft),r.Yb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Ri=new r.r("ROUTER_CONFIGURATION"),Pi=new r.r("ROUTER_FORROOT_GUARD"),Di=[w,{provide:Nn,useClass:Mn},{provide:Oi,useFactory:function(t,e,n,r,i,s,a,c={},l,u){const h=new Oi(null,t,e,n,r,i,s,On(a));if(l&&(h.urlHandlingStrategy=l),u&&(h.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Nn,yi,w,r.s,r.x,r.i,gi,Ri,[class{},new r.B],[class{},new r.B]]},yi,{provide:ir,useFactory:function(t){return t.routerState.root},deps:[Oi]},{provide:r.x,useClass:r.K},Ai,Ii,class{preload(t,e){return e().pipe(Ae(()=>Object($t.a)(null)))}},{provide:Ri,useValue:{enableTracing:!1}}];function Ni(){return new r.z("Router",Oi)}let Mi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Di,Ui(e),{provide:Pi,useFactory:Li,deps:[[Oi,new r.B,new r.J]]},{provide:Ri,useValue:n||{}},{provide:m,useFactory:Fi,deps:[a,[new r.p(y),new r.B],Ri]},{provide:ji,useFactory:Vi,deps:[Oi,ft,Ri]},{provide:Ti,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ii},{provide:r.z,multi:!0,useFactory:Ni},[Hi,{provide:r.d,multi:!0,useFactory:zi,deps:[Hi]},{provide:Qi,useFactory:qi,deps:[Hi]},{provide:r.b,multi:!0,useExisting:Qi}]]}}static forChild(e){return{ngModule:t,providers:[Ui(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Pi,8),r.Yb(Oi,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function Vi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ji(t,e,n)}function Fi(t,e,n={}){return n.useHash?new v(t,e):new _(t,e)}function Li(t){return"guarded"}function Ui(t){return[{provide:r.a,multi:!0,useValue:t},{provide:gi,multi:!0,useValue:t}]}let Hi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Yt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Oi),r=this.injector.get(Ri);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object($t.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Ri),n=this.injector.get(Ai),i=this.injector.get(ji),o=this.injector.get(Oi),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function zi(t){return t.appInitializer.bind(t)}function qi(t){return t.bootstrapListener.bind(t)}const Qi=new r.r("Router Initializer");var Bi=n("VRyK"),Wi=n("pxpQ"),$i=n("qgXg"),Yi=n("Ylt2");class Gi extends Yt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Ki(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Gt.a;if(this.isStopped||this.hasError?o=Ge.a.EMPTY:(this.observers.push(t),o=new Yi.a(this,t)),r&&t.add(t=new Wi.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||$i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Ki{constructor(t,e){this.time=t,this.value=e}}function Zi(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,c=!1;return function(l){let u;s++,!i||a?(a=!1,i=new Gi(t,e,r),u=i.subscribe(this),o=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,o=void 0,i.complete()}}),c&&(o=void 0)):u=i.subscribe(this),this.add(()=>{s--,u.unsubscribe(),u=void 0,o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Ji(t,e){return e?be(()=>t,e):be(()=>t)}var Xi=n("tf+s"),to=n("spgP");const eo=new r.r("angularfire2.auth.use-emulator"),no=new r.r("angularfire2.auth.settings"),ro=new r.r("angularfire2.auth.tenant-id"),io=new r.r("angularfire2.auth.langugage-code"),oo=new r.r("angularfire2.auth.use-device-language"),so=new r.r("angularfire.auth.persistence");let ao=(()=>{class t{constructor(t,e,r,i,o,s,a,c,l,u){const h=new to.d(i),d=Object(to.h)(h),p=new Yt.a,f=Object($t.a)(void 0).pipe(Object(Wi.b)(h.outsideAngular),be(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(ge.a)(()=>Object(to.g)(t,i,e)),Object(ge.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(to.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),u&&r.setPersistence(u),r},[e,a,c,l,n,u])})),Zi({bufferSize:1,refCount:!1}));if(function(t){return"server"===t}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object($t.a)(null);else{f.pipe(We()).subscribe();const t=f.pipe(be(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Zi({bufferSize:1,refCount:!1})),e=t=>new re.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=f.pipe(be(t=>e(t.onAuthStateChanged.bind(t)))),r=f.pipe(be(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ji(n),Object(Xi.a)(h.outsideAngular),Object(Wi.b)(h.insideAngular)),this.user=t.pipe(Ji(r),Object(Xi.a)(h.outsideAngular),Object(Wi.b)(h.insideAngular)),this.idToken=this.user.pipe(be(t=>t?Object(Wt.a)(t.getIdToken()):Object($t.a)(null))),this.idTokenResult=this.user.pipe(be(t=>t?Object(Wt.a)(t.getIdTokenResult()):Object($t.a)(null))),this.credential=Object(Bi.a)(t,p,this.authState.pipe(ke(t=>!t))).pipe(Object(ge.a)(t=>(null==t?void 0:t.user)?t:null),Object(Xi.a)(h.outsideAngular),Object(Wi.b)(h.insideAngular))}return Object(to.i)(this,f,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>p.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(to.c),r.Yb(to.b,8),r.Yb(r.C),r.Yb(r.A),r.Yb(eo,8),r.Yb(no,8),r.Yb(ro,8),r.Yb(io,8),r.Yb(oo,8),r.Yb(so,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(to.c),Object(r.Yb)(to.b,8),Object(r.Yb)(r.C),Object(r.Yb)(r.A),Object(r.Yb)(eo,8),Object(r.Yb)(no,8),Object(r.Yb)(ro,8),Object(r.Yb)(io,8),Object(r.Yb)(oo,8),Object(r.Yb)(so,8))},token:t,providedIn:"any"}),t})();Object(to.e)(ao,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var co=n("D0XW"),lo=n("w1tV");class uo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ho(t,this.compare,this.keySelector))}}class ho extends Xt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function po(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new fo(t,n))}}class fo{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new go(t,this.observables,this.project))}}class go extends te{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(ie(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class mo{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new bo(t,this.predicate))}}class bo extends Xt.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}n("6Uf2");var yo=n("Jgta");function _o(t){return null==t}function vo(t){return"function"==typeof t.set}function wo(t,e){return vo(e)?e:t.ref(e)}function Co(t,e){if("string"==typeof t)return e.stringCase();if(vo(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Oo(t,e,n="on",r=co.b){return new re.a(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(ge.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(lo.a)())}function So(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function xo(t,e){const{payload:n,prevKey:r,key:i}=e,o=So(t,i),s=function(t,e){if(_o(e))return 0;{const n=So(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function Eo(t){return(_o(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function ko(t,e,n){return function(t,e,n){return Oo(t,"value","once",n).pipe(be(r=>{const i=[Object($t.a)(r)];return e.forEach(e=>i.push(Oo(t,e,"on",n))),Object(Bi.a)(...i).pipe(Se(xo,[]))}),t=>t.lift(new uo(void 0,void 0)))}(t,e=Eo(e),n)}function To(t,e,n){const r=(e=Eo(e)).map(e=>Oo(t,e,"on",n));return Object(Bi.a)(...r)}function Io(t,e){return function(n,r){return Co(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function Ao(t,e){return function(){return Oo(t,"value","on",e)}}const jo=new r.r("angularfire2.realtimeDatabaseURL"),Ro=new r.r("angularfire2.database.use-emulator");let Po=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new to.d(i),this.keepUnstableUntilFirst=Object(to.h)(this.schedulers);const a=o,c=Object(to.g)(t,i,e);!yo.a.auth&&s&&Object(to.j)(),this.database=Object(to.f)(`${c.name}.database.${n}`,"AngularFireDatabase",c,()=>{const t=i.runOutsideAngular(()=>c.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>wo(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Io(r,"update"),set:Io(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?Co(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>ko(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>To(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return Oo(t,"value","on",e).pipe(Object(ge.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(po(e),Object(ge.a)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new mo(r))),Object(ge.a)(t=>t.actions));var r}(t,To(t,e).pipe(Se((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>ko(t,r,n).pipe(Object(ge.a)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}(r,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>wo(this.database,t));return r=this,{query:n=e,snapshotChanges:()=>Ao(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Ao(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(ge.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(to.c),r.Yb(to.b,8),r.Yb(jo,8),r.Yb(r.C),r.Yb(r.A),r.Yb(Ro,8),r.Yb(eo,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(to.c),Object(r.Yb)(to.b,8),Object(r.Yb)(jo,8),Object(r.Yb)(r.C),Object(r.Yb)(r.A),Object(r.Yb)(Ro,8),Object(r.Yb)(eo,8))},token:t,providedIn:"any"}),t})(),Do=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Po]}),t})(),No=(()=>{class t{constructor(t){this.db=t}findPatientByEmail(t,e){return"value"===e?this.db.list("patients",e=>e.orderByChild("email").equalTo(t)).valueChanges():"snapshot"===e?this.db.list("patients",e=>e.orderByChild("email").equalTo(t)).snapshotChanges():void 0}findDoctorByEmail(t,e){return"value"===e?this.db.list("doctors",e=>e.orderByChild("email").equalTo(t)).valueChanges():"snapshot"===e?this.db.list("doctors",e=>e.orderByChild("email").equalTo(t)).snapshotChanges():void 0}changeToActive(t,e){this.db.list(e).update(t,{active:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Po))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Mo=(()=>{class t{constructor(t,e,n,r){this.auth=t,this.db=e,this.router=n,this.queryService=r,this.isAdminUser=!1}createUser(t,e,n,r,i){return this.auth.createUserWithEmailAndPassword(t,e).then(t=>{r.uid=t.user.uid,r.active=i,this.db.list(n).push(r),!0===i&&this.router.navigate(["/home"])})}logIn(t,e){return this.auth.signInWithEmailAndPassword(t,e).then(()=>{this.currentEmail=t,"admin@admin.com"===t?(this.isAdminUser=!0,this.router.navigate(["/admin-panel"])):(this.currentUserRole="doctor",this.queryService.findDoctorByEmail(t,"value").subscribe(t=>{t.length>0&&!1===t[0].active&&this.router.navigate(["/active-account"])}),this.queryService.findPatientByEmail(t,"value").subscribe(t=>{t.length>0&&!1===t[0].active&&this.router.navigate(["/active-account"])}),this.router.navigate(["/home"]))})}logOut(){this.auth.signOut().then(()=>{this.router.navigate(["/sign-in"])})}getState(){return this.auth.authState}getCurrentUserEmail(){return this.currentEmail}isAdmin(){return this.isAdminUser}changePassword(t,e){this.auth.signOut(),this.auth.signInWithEmailAndPassword(t,"default").then(()=>{this.auth.currentUser.then(t=>{t.delete()}),this.auth.createUserWithEmailAndPassword(t,e).then(()=>{this.modifyActiveDoctor(t),this.modifyActivePatient(t)})})}modifyActiveDoctor(t){this.queryService.findDoctorByEmail(t,"snapshot").pipe(Object(ge.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{t.length>0&&(this.queryService.changeToActive(t[0].key,"doctors"),this.router.navigate(["/home"]))})}modifyActivePatient(t){this.queryService.findPatientByEmail(t,"snapshot").pipe(Object(ge.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{t.length>0&&(this.queryService.changeToActive(t[0].key,"patients"),this.router.navigate(["/home"]))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ao),r.Yb(Po),r.Yb(Oi),r.Yb(No))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Vo=n("XoHu");function Fo(t,e){return new re.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=Object(Wt.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Lo{}const Uo=new r.r("NgValueAccessor"),Ho={provide:Uo,useExisting:Object(r.U)(()=>qo),multi:!0},zo=new r.r("CompositionEventMode");let qo=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(zo,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([Ho])]}),t})();const Qo=new r.r("NgValidators"),Bo=new r.r("NgAsyncValidators");function Wo(t){return null!=t}function $o(t){const e=Object(r.rb)(t)?Object(Wt.a)(t):t;return Object(r.qb)(e),e}function Yo(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Go(t,e){return e.map(e=>e(t))}function Ko(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Zo(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Wo);return 0==e.length?null:function(t){return Yo(Go(t,e))}}(Ko(t)):null}function Jo(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Wo);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Jt.a)(e))return Fo(e,null);if(Object(Vo.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Fo(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Fo(t=1===t.length&&Object(Jt.a)(t[0])?t[0]:t,null).pipe(Object(ge.a)(t=>e(...t)))}return Fo(t,null)}(Go(t,e).map($o)).pipe(Object(ge.a)(Yo))}}(Ko(t)):null}function Xo(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ts(t){return t._rawValidators}function es(t){return t._rawAsyncValidators}let ns=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Zo(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Jo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),rs=(()=>{class t extends ns{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return is(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.xb]}),t})();const is=r.Tb(rs);class os extends ns{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ss{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let as=(()=>{class t extends ss{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(os,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})(),cs=(()=>{class t extends ss{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(rs,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();function ls(t,e){return[...e.path,t]}function us(t,e){ps(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gs(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gs(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function hs(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),fs(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ds(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ps(t,e,n){const r=ts(t);null!==e.validator?t.setValidators(Xo(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=es(t);if(null!==e.asyncValidator?t.setAsyncValidators(Xo(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ds(e._rawValidators,n),ds(e._rawAsyncValidators,n)}}function fs(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=ts(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=es(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};ds(e._rawValidators,t),ds(e._rawAsyncValidators,t)}return r}function gs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ms(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function bs(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===qo?n=t:Object.getPrototypeOf(t.constructor)===Lo?r=t:i=t}),i||r||n||null}function ys(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _s="VALID",vs="INVALID",ws="PENDING",Cs="DISABLED";function Os(t){return(ks(t)?t.validators:t)||null}function Ss(t){return Array.isArray(t)?Zo(t):t||null}function xs(t,e){return(ks(e)?e.asyncValidators:t)||null}function Es(t){return Array.isArray(t)?Jo(t):t||null}function ks(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ts{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ss(this._rawValidators),this._composedAsyncValidatorFn=Es(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_s}get invalid(){return this.status===vs}get pending(){return this.status==ws}get disabled(){return this.status===Cs}get enabled(){return this.status!==Cs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ss(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Es(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ws,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Cs,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_s,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==_s&&this.status!==ws||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cs:_s}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ws,this._hasOwnPendingAsyncValidator=!0;const e=$o(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof As?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof js&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Cs:this.errors?vs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ws)?ws:this._anyControlsHaveStatus(vs)?vs:_s}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ks(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Is extends Ts{constructor(t=null,e,n){super(Os(e),xs(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ys(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ys(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class As extends Ts{constructor(t,e,n){super(Os(e),xs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Is?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class js extends Ts{constructor(t,e,n){super(Os(e),xs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Is?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Rs={provide:os,useExisting:Object(r.U)(()=>Ds)},Ps=(()=>Promise.resolve(null))();let Ds=(()=>{class t extends os{constructor(t,e,n,i){super(),this.control=new Is,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=bs(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),ms(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?ls(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){us(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ps.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ps.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(rs,9),r.Mb(Qo,10),r.Mb(Bo,10),r.Mb(Uo,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([Rs]),r.xb,r.yb]}),t})(),Ns=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Ms={provide:Uo,useExisting:Object(r.U)(()=>Ls),multi:!0};let Vs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),Fs=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:Vs}),t})(),Ls=(()=>{class t extends Lo{constructor(t,e,n,r){super(),this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(os),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l),r.Mb(Fs),r.Mb(r.s))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([Ms]),r.xb]}),t})();const Us=new r.r("NgModelWithFormControlWarning"),Hs={provide:rs,useExisting:Object(r.U)(()=>zs)};let zs=(()=>{class t extends rs{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fs(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return us(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){hs(t.control||null,t,!1),ys(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(hs(e||null,t),n instanceof Is&&(us(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){ps(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return fs(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ps(this.form,this,!1),this._oldForm&&fs(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Qo,10),r.Mb(Bo,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([Hs]),r.xb,r.yb]}),t})();const qs={provide:os,useExisting:Object(r.U)(()=>Qs)};let Qs=(()=>{class t extends os{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=bs(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),ms(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ls(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(rs,13),r.Mb(Qo,10),r.Mb(Bo,10),r.Mb(Uo,10),r.Mb(Us,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([qs]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const Bs={provide:Uo,useExisting:Object(r.U)(()=>$s),multi:!0};function Ws(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let $s=(()=>{class t extends Lo{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Ws(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([Bs]),r.xb]}),t})(),Ys=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ws(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb($s,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Gs={provide:Uo,useExisting:Object(r.U)(()=>Zs),multi:!0};function Ks(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Zs=(()=>{class t extends Lo{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.E),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([Gs]),r.xb]}),t})(),Js=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ks(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ks(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.E),r.Mb(Zs,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),Xs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Vs]]}),t})(),ta=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Xs]}),t})(),ea=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Us,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Xs]}),t})(),na=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new As(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new Is(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new js(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Is||t instanceof As||t instanceof js?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:ea}),t})();function ra(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",8),r.zc(1),r.Rb(2,"button",9),r.bc("click",function(){return r.tc(t),r.dc().hideAlert()}),r.Rb(3,"span",10),r.zc(4,"\xd7"),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.dc();r.Ab(1),r.Bc(" ",t.errorInfo," ")}}let ia=(()=>{class t{constructor(t){this.auth=t,this.password="",this.password_repeat="",this.alertVisible=!1,this.errorInfo=""}ngOnInit(){}onUpdatePassword(){if(this.validatePassword()){var t=this.auth.getCurrentUserEmail();this.auth.changePassword(t,this.password)}}hideAlert(){this.alertVisible=!1}validatePassword(){return this.password!==this.password_repeat?(this.alertVisible=!0,this.errorInfo="Passwords are not the same!",!1):this.password.length<6?(this.alertVisible=!0,this.errorInfo="Password must be longer!",!1):(this.alertVisible=!1,!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Mo))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-account-active"]],decls:11,vars:3,consts:[[1,"form-box","d-flex","flex-column","col-11","col-md-4"],[1,"form"],[1,"form-row"],[1,"col-10","input"],["type","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","Re-enter password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Change Password",1,"btn","btn-primary",2,"display","block","margin-left","auto","margin-right","auto","margin-top","30px",3,"click"],["class","alert alert-danger alert-dismissible fade show","role","alert","style","margin-top: 10px;",4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show",2,"margin-top","10px"],["type","button","aria-label","close",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"h1"),r.zc(2,"ACTIVE YOUR ACCOUNT"),r.Qb(),r.Rb(3,"div",1),r.Rb(4,"div",2),r.Rb(5,"div",3),r.Rb(6,"input",4),r.bc("ngModelChange",function(t){return e.password=t}),r.Qb(),r.Qb(),r.Rb(7,"div",3),r.Rb(8,"input",5),r.bc("ngModelChange",function(t){return e.password_repeat=t}),r.Qb(),r.Qb(),r.Qb(),r.Rb(9,"input",6),r.bc("click",function(){return e.onUpdatePassword()}),r.Qb(),r.xc(10,ra,5,1,"div",7),r.Qb(),r.Qb()),2&t&&(r.Ab(6),r.kc("ngModel",e.password),r.Ab(2),r.kc("ngModel",e.password_repeat),r.Ab(2),r.kc("ngIf",e.alertVisible))},directives:[qo,as,Ds,lt],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;margin:100px auto 0;text-align:center;border-bottom:2px solid #1c8c38}.buttons[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1c8c38}.buttons-item[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.buttons-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:40%;margin:10px 10px 10px 0}.form-box[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:150px;background-color:#fff;box-shadow:0 0 13px 2px #8f7e8f;border-radius:5px;padding:30px;text-align:center}.form-box[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin:0 auto 10px}.col-10[_ngcontent-%COMP%]{margin-top:8px}.form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto;margin-top:10px}h1[_ngcontent-%COMP%]{border-bottom:1px solid #4a8753;font-size:20px}.items[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{padding:10px}.items[_ngcontent-%COMP%]{margin:50px auto 0;box-shadow:0 0 10px 0 #4a8753}.item[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-top:8px;padding:10px;border-bottom:2px solid #6ce68b}.item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{border-radius:5px}"]}),t})(),oa=(()=>{class t{constructor(t,e){this.db=t,this.auth=e}getDoctors(){return this.db.list("doctors").snapshotChanges()}createDoctor(t){this.auth.createUser(t.email,"default","doctors",t,!1)}deleteDoctor(t){this.db.list("doctors").remove(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Po),r.Yb(Mo))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sa=(()=>{class t{constructor(t,e){this.db=t,this.auth=e}getPatients(){return this.db.list("patients").snapshotChanges()}createPatient(t){this.auth.createUser(t.email,"default","patients",t,!1)}deletePatient(t){this.db.list("patients").remove(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Po),r.Yb(Mo))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aa=(()=>{class t{constructor(t){this.db=t}getAllVisits(){return this.db.list("visits").snapshotChanges()}getPatientVisits(t){return this.db.list("visits",e=>e.orderByChild("patientKey").equalTo(t)).snapshotChanges()}getFreeVisits(){return this.getPatientVisits("")}createVisit(t){this.db.list("visits").push(t)}deleteVisit(t){this.db.list("visits").remove(t)}addPatientToVisit(t,e){this.db.list("visits").update(t,{patientKey:e})}deletePatientFromVisit(t){this.addPatientToVisit(t,"")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Po))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ca(t,e){if(1&t){const t=r.Sb();r.Pb(0),r.Rb(1,"div",9),r.Rb(2,"input",15),r.bc("ngModelChange",function(e){return r.tc(t),r.dc(2).specialization=e}),r.Qb(),r.Qb(),r.Rb(3,"div",9),r.Rb(4,"input",16),r.bc("ngModelChange",function(e){return r.tc(t),r.dc(2).address=e}),r.Qb(),r.Qb(),r.Ob()}if(2&t){const t=r.dc(2);r.Ab(2),r.kc("ngModel",t.specialization),r.Ab(2),r.kc("ngModel",t.address)}}function la(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",6),r.Rb(1,"h1"),r.zc(2),r.Qb(),r.Rb(3,"div",7),r.Rb(4,"div",8),r.Rb(5,"div",9),r.Rb(6,"input",10),r.bc("ngModelChange",function(e){return r.tc(t),r.dc().firstname=e}),r.Qb(),r.Qb(),r.Rb(7,"div",9),r.Rb(8,"input",11),r.bc("ngModelChange",function(e){return r.tc(t),r.dc().lastname=e}),r.Qb(),r.Qb(),r.Rb(9,"div",9),r.Rb(10,"input",12),r.bc("ngModelChange",function(e){return r.tc(t),r.dc().telephone=e}),r.Qb(),r.Qb(),r.Rb(11,"div",9),r.Rb(12,"input",13),r.bc("ngModelChange",function(e){return r.tc(t),r.dc().email=e}),r.Qb(),r.Qb(),r.xc(13,ca,5,2,"ng-container",5),r.Qb(),r.Rb(14,"button",14),r.bc("click",function(){return r.tc(t),r.dc().addPerson()}),r.zc(15,"Submit"),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.dc();r.Ab(2),r.Ac(t.formTitle),r.Ab(4),r.kc("ngModel",t.firstname),r.Ab(2),r.kc("ngModel",t.lastname),r.Ab(2),r.kc("ngModel",t.telephone),r.Ab(2),r.kc("ngModel",t.email),r.Ab(1),r.kc("ngIf",t.formAddDoctorVisible)}}function ua(t,e){if(1&t&&(r.Rb(0,"option",20),r.zc(1),r.Qb()),2&t){const t=e.$implicit;r.lc("value",t.key),r.Ab(1),r.Cc("dr. ",t.firstname," ",t.lastname,"")}}function ha(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",6),r.Rb(1,"h1"),r.zc(2,"Add Visit"),r.Qb(),r.Rb(3,"div",7),r.Rb(4,"div",8),r.Rb(5,"div",9),r.Rb(6,"select",17),r.bc("ngModelChange",function(e){return r.tc(t),r.dc().doctorKey=e}),r.xc(7,ua,2,3,"option",18),r.Qb(),r.Qb(),r.Rb(8,"div",9),r.Rb(9,"input",19),r.bc("ngModelChange",function(e){return r.tc(t),r.dc().startDate=e}),r.Qb(),r.Qb(),r.Rb(10,"div",9),r.Rb(11,"input",19),r.bc("ngModelChange",function(e){return r.tc(t),r.dc().endDate=e}),r.Qb(),r.Qb(),r.Qb(),r.Rb(12,"button",14),r.bc("click",function(){return r.tc(t),r.dc().addVisit()}),r.zc(13,"Submit"),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.dc();r.Ab(6),r.kc("ngModel",t.doctorKey),r.Ab(1),r.kc("ngForOf",t.doctors),r.Ab(2),r.kc("ngModel",t.startDate),r.Ab(2),r.kc("ngModel",t.endDate)}}function da(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",23),r.Rb(1,"div",24),r.Rb(2,"span",25),r.zc(3),r.Qb(),r.Nb(4,"br"),r.Rb(5,"span"),r.zc(6),r.Qb(),r.Qb(),r.Rb(7,"button",26),r.bc("click",function(){r.tc(t);const n=e.$implicit;return r.dc(2).deleteDoctor(n.key)}),r.zc(8,"Delete"),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(3),r.Cc("dr. ",t.firstname," ",t.lastname,""),r.Ab(3),r.Bc(" ",t.email,"")}}function pa(t,e){if(1&t&&(r.Pb(0),r.Rb(1,"div",21),r.xc(2,da,9,3,"div",22),r.Qb(),r.Ob()),2&t){const t=r.dc();r.Ab(2),r.kc("ngForOf",t.doctors)}}function fa(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",23),r.Rb(1,"div",24),r.Rb(2,"span",25),r.zc(3),r.Qb(),r.Nb(4,"br"),r.Rb(5,"span"),r.zc(6),r.Qb(),r.Qb(),r.Rb(7,"button",26),r.bc("click",function(){r.tc(t);const n=e.$implicit;return r.dc(2).deletePatient(n.key)}),r.zc(8,"Delete"),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(3),r.Cc("",t.firstname," ",t.lastname,""),r.Ab(3),r.Bc(" ",t.email,"")}}function ga(t,e){if(1&t&&(r.Pb(0),r.Rb(1,"div",21),r.xc(2,fa,9,3,"div",22),r.Qb(),r.Ob()),2&t){const t=r.dc();r.Ab(2),r.kc("ngForOf",t.patients)}}function ma(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",23),r.Rb(1,"div",24),r.Rb(2,"span",25),r.zc(3),r.Qb(),r.Nb(4,"br"),r.Rb(5,"span",25),r.zc(6),r.Qb(),r.Nb(7,"br"),r.Rb(8,"span"),r.zc(9),r.Qb(),r.Nb(10,"br"),r.Rb(11,"span"),r.zc(12),r.Qb(),r.Qb(),r.Rb(13,"button",26),r.bc("click",function(){r.tc(t);const n=e.$implicit;return r.dc(2).deleteVisit(n.key)}),r.zc(14,"Delete"),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=r.dc(2);r.Ab(3),r.Bc("Data rozpocz\u0119cie wizyty: ",t.startDate,""),r.Ab(3),r.Bc("Data zako\u0144czenia wizyty: ",t.endDate,""),r.Ab(3),r.Bc(" Doctor: ",n.getDoctorName(t.doctorKey),""),r.Ab(3),r.Bc(" Pacjent: ",n.getPacientName(t.patientKey),"")}}function ba(t,e){if(1&t&&(r.Pb(0),r.Rb(1,"div",21),r.xc(2,ma,15,4,"div",22),r.Qb(),r.Ob()),2&t){const t=r.dc();r.Ab(2),r.kc("ngForOf",t.visits)}}let ya=(()=>{class t{constructor(t,e,n){this.doctorService=t,this.patientService=e,this.visitService=n,this.formAddDoctorVisible=!1,this.formAddPatientVisible=!1,this.formAddVisitVisible=!1,this.listDoctorsVisible=!1,this.listPatientsVisible=!1,this.listVisitsVisible=!1,this.doctors=[],this.patients=[],this.visits=[],this.firstname="",this.lastname="",this.telephone=null,this.email=null,this.specialization="",this.address="",this.doctorKey="",this.startDate=null,this.endDate=null}ngOnInit(){this.getDoctorsList(),this.getPatientsList(),this.getVisitsList()}addPerson(){this.formAddDoctorVisible?this.doctorService.createDoctor({firstname:this.firstname,lastname:this.lastname,telephoneNumber:this.telephone,email:this.email,specialization:this.specialization,officeAddress:this.address,workHours:null,active:!1,role:"doctor"}):this.formAddPatientVisible&&this.patientService.createPatient({firstname:this.firstname,lastname:this.lastname,email:this.email,telephoneNumber:this.telephone,pesel:"",active:!1,role:"patient"}),this.firstname="",this.lastname="",this.telephone=null,this.email=null,this.specialization="",this.address=""}addVisit(){const t={doctorKey:this.doctorKey,startDate:this.startDate,endDate:this.endDate,patientKey:""};console.log(t),this.visitService.createVisit(t),this.doctorKey="",this.startDate=new Date,this.endDate=new Date}changeVisible(t){0===t?(this.formAddDoctorVisible=!this.formAddDoctorVisible,this.listDoctorsVisible=!1,this.listPatientsVisible=!1,this.formAddPatientVisible=!1,this.formAddVisitVisible=!1,this.listVisitsVisible=!1,this.formTitle="Add Doctor"):1===t?(this.formAddPatientVisible=!this.formAddPatientVisible,this.listDoctorsVisible=!1,this.listPatientsVisible=!1,this.formAddDoctorVisible=!1,this.formAddVisitVisible=!1,this.listVisitsVisible=!1,this.formTitle="Add Patient"):2===t?(this.listDoctorsVisible=!this.listDoctorsVisible,this.formAddPatientVisible=!1,this.listPatientsVisible=!1,this.formAddDoctorVisible=!1,this.formAddVisitVisible=!1,this.listVisitsVisible=!1):3==t?(this.listPatientsVisible=!this.listPatientsVisible,this.formAddPatientVisible=!1,this.listDoctorsVisible=!1,this.formAddDoctorVisible=!1,this.formAddVisitVisible=!1,this.listVisitsVisible=!1):6==t?(this.formAddVisitVisible=!this.formAddVisitVisible,this.formAddDoctorVisible=!1,this.listDoctorsVisible=!1,this.listPatientsVisible=!1,this.formAddPatientVisible=!1,this.listVisitsVisible=!1):7==t&&(this.listVisitsVisible=!this.listVisitsVisible,this.formAddDoctorVisible=!1,this.listDoctorsVisible=!1,this.listPatientsVisible=!1,this.formAddPatientVisible=!1,this.formAddVisitVisible=!1)}deleteDoctor(t){this.doctorService.deleteDoctor(t)}deletePatient(t){this.patientService.deletePatient(t)}deleteVisit(t){this.visitService.deleteVisit(t)}getDoctorsList(){this.doctorService.getDoctors().pipe(Object(ge.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{this.doctors=t,console.log(this.doctors)})}getPatientsList(){this.patientService.getPatients().pipe(Object(ge.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{this.patients=t,console.log(this.patients)})}getVisitsList(){this.visitService.getAllVisits().pipe(Object(ge.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{this.visits=t,console.log(this.visits)})}getDoctorName(t){for(let e of this.doctors)if(e.key===t)return"dr. "+e.firstname+" "+e.lastname;return"dr."}getPacientName(t){for(let e of this.patients)if(e.key===t)return e.firstname+" "+e.lastname;return""}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(oa),r.Mb(sa),r.Mb(aa))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-admin"]],decls:23,vars:5,consts:[[1,"buttons","col-11","col-md-6"],[1,"buttons-item","col-12"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],["class","form-box d-flex flex-column col-11 col-md-4",4,"ngIf"],[4,"ngIf"],[1,"form-box","d-flex","flex-column","col-11","col-md-4"],[1,"form"],[1,"form-row"],[1,"col-10","input"],["placeholder","Firstname",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Lastname",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Telephone Number","type","tel",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Email","type","email",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-block",3,"click"],["placeholder","Specialization",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Office Address",1,"form-control",3,"ngModel","ngModelChange"],["aria-label","Default select example",1,"form-control",3,"ngModel","ngModelChange"],["selected","",3,"value",4,"ngFor","ngForOf"],["type","datetime-local",1,"form-control",3,"ngModel","ngModelChange"],["selected","",3,"value"],[1,"d-flex","flex-column","justify-content-center","items","col-11","col-md-4"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"name","col-8"],[2,"font-weight","bold"],[1,"btn","btn-danger","col-3",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"h1"),r.zc(2,"Admin Panel"),r.Qb(),r.Rb(3,"div",1),r.Rb(4,"button",2),r.bc("click",function(){return e.changeVisible(0)}),r.zc(5,"Add Doctor"),r.Qb(),r.Rb(6,"button",3),r.bc("click",function(){return e.changeVisible(2)}),r.zc(7,"Delete Doctor"),r.Qb(),r.Qb(),r.Rb(8,"div",1),r.Rb(9,"button",2),r.bc("click",function(){return e.changeVisible(1)}),r.zc(10,"Add Patient"),r.Qb(),r.Rb(11,"button",3),r.bc("click",function(){return e.changeVisible(3)}),r.zc(12,"Delete Patient"),r.Qb(),r.Qb(),r.Rb(13,"div",1),r.Rb(14,"button",2),r.bc("click",function(){return e.changeVisible(6)}),r.zc(15,"Add Visit"),r.Qb(),r.Rb(16,"button",3),r.bc("click",function(){return e.changeVisible(7)}),r.zc(17,"Delete Visit"),r.Qb(),r.Qb(),r.Qb(),r.xc(18,la,16,6,"div",4),r.xc(19,ha,14,4,"div",4),r.xc(20,pa,3,1,"ng-container",5),r.xc(21,ga,3,1,"ng-container",5),r.xc(22,ba,3,1,"ng-container",5)),2&t&&(r.Ab(18),r.kc("ngIf",e.formAddDoctorVisible||e.formAddPatientVisible),r.Ab(1),r.kc("ngIf",e.formAddVisitVisible),r.Ab(1),r.kc("ngIf",e.listDoctorsVisible),r.Ab(1),r.kc("ngIf",e.listPatientsVisible),r.Ab(1),r.kc("ngIf",e.listVisitsVisible))},directives:[lt,qo,as,Ds,$s,at,Ys,Js],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;margin:100px auto 0;text-align:center;border-bottom:2px solid #1c8c38}.buttons[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1c8c38}.buttons-item[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.buttons-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:40%;margin:10px 10px 10px 0}.form-box[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:50px;background-color:#fff;box-shadow:0 0 13px 2px #8f7e8f;border-radius:5px;padding:30px;text-align:center}.form-box[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin:0 auto 10px}.col-10[_ngcontent-%COMP%]{margin-top:8px}.form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto;margin-top:10px}h2[_ngcontent-%COMP%]{margin-left:130px}.items[_ngcontent-%COMP%]{margin:50px auto 0;padding:10px;box-shadow:0 0 10px 0 #4a8753}.item[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-top:8px;padding:10px;border-bottom:2px solid #6ce68b}.item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{border-radius:5px}"]}),t})(),_a=(()=>{class t{transform(t,e,n){return t.filter(t=>1==(e<=t.startDate&&t.startDate<=n))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"getVisitByDates",type:t,pure:!0}),t})();function va(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",7),r.Rb(1,"div",8),r.Rb(2,"span",9),r.zc(3),r.ec(4,"date"),r.Qb(),r.Nb(5,"br"),r.Rb(6,"span",9),r.zc(7),r.ec(8,"date"),r.Qb(),r.Nb(9,"br"),r.Rb(10,"span",9),r.zc(11),r.Qb(),r.Qb(),r.Rb(12,"button",10),r.bc("click",function(){r.tc(t);const n=e.$implicit;return r.dc().addVisit(n.key)}),r.zc(13,"Reserve"),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=r.dc();r.Ab(3),r.Bc("Data rozpocz\u0119cie wizyty: ",r.gc(4,3,t.startDate,"HH:mm dd/MM/yyyy"),""),r.Ab(4),r.Bc("Data zako\u0144czenia wizyty: ",r.gc(8,6,t.endDate,"HH:mm dd/MM/yyyy"),""),r.Ab(4),r.Bc("Lekarz: dr. ",n.findDoctorName(t.doctorKey)," ")}}let wa=(()=>{class t{constructor(t,e){this.visitService=t,this.doctorService=e,this.visits=[],this.doctors=new Map,this.patientKey="-MZKMRbirtB-S8UUiWZe",this.startDate=String("1990-01-01"),this.endDate=String("2030-01-01")}ngOnInit(){this.getVisits(),this.getDoctors()}getVisits(){this.visitService.getFreeVisits().pipe(Object(ge.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{this.visits=t,console.log(this.visits)})}getDoctors(){this.doctorService.getDoctors().pipe(Object(ge.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{t.forEach(t=>{this.doctors.set(t.key,t.firstname+" "+t.lastname)}),console.log(this.doctors)})}findDoctorName(t){return this.doctors.get(t)}addVisit(t){this.visitService.addPatientToVisit(t,this.patientKey)}resetFilter(){this.startDate=String("1990-01-01"),this.endDate=String("2030-01-01")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(aa),r.Mb(oa))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-book-visit"]],decls:20,vars:7,consts:[[2,"margin-top","52px"],[1,"m-2"],[1,"col-10","input"],["type","datetime-local",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-danger","col-2","m-2",3,"click"],[1,"d-flex","flex-column","justify-content-center","items","m-1","p-1"],["class","item m-2 p-2 border",4,"ngFor","ngForOf"],[1,"item","m-2","p-2","border"],[1,"name","col-8"],[2,"font-weight","bold"],[1,"btn","btn-primary","col-3",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"p",0),r.Pb(1),r.Rb(2,"h2",1),r.zc(3,"Filter"),r.Qb(),r.Rb(4,"h3",1),r.zc(5,"Start Date"),r.Qb(),r.Rb(6,"div",2),r.Rb(7,"input",3),r.bc("ngModelChange",function(t){return e.startDate=t}),r.Qb(),r.Qb(),r.Rb(8,"h3",1),r.zc(9,"End Date"),r.Qb(),r.Rb(10,"div",2),r.Rb(11,"input",3),r.bc("ngModelChange",function(t){return e.endDate=t}),r.Qb(),r.Qb(),r.Rb(12,"button",4),r.bc("click",function(){return e.resetFilter()}),r.zc(13,"Reset filter"),r.Qb(),r.Ob(),r.Rb(14,"h2",1),r.zc(15,"Visits"),r.Qb(),r.Pb(16),r.Rb(17,"div",5),r.xc(18,va,14,9,"div",6),r.ec(19,"getVisitByDates"),r.Qb(),r.Ob()),2&t&&(r.Ab(7),r.kc("ngModel",e.startDate),r.Ab(4),r.kc("ngModel",e.endDate),r.Ab(7),r.kc("ngForOf",r.hc(19,3,e.visits,e.startDate,e.endDate)))},directives:[qo,as,Ds,at],pipes:[_a,dt],styles:[""]}),t})();class Ca{constructor(t,e,n,r){this.pesel=t,this.doctor=e,this.medicines=n,this.validity=r,this.date=(new Date).toJSON()}}let Oa=(()=>{class t{constructor(t){this.db=t}getPrescriptions(){return this.db.list("prescriptions").valueChanges()}createPrescription(t){this.db.list("prescriptions").push(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Po))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Sa(t,e){if(1&t&&(r.Rb(0,"li"),r.zc(1),r.Qb()),2&t){const t=e.$implicit;r.Ab(1),r.Cc("Nazwa: ",t.medicine,", ilo\u015b\u0107: ",t.quantity,"")}}const xa=function(){return{standalone:!0}};let Ea=(()=>{class t{constructor(t,e){this.formBuilder=t,this.prescriptionsService=e,this.prescriptionForm=this.formBuilder.group({pesel:"",validity:"",doctor:""}),this.medicine="",this.quantity="",this.medicines=[]}ngOnInit(){}log(t){console.log(t)}onSubmit(){if(11!=this.prescriptionForm.value.pesel.length)return void alert("PESEL z\u0142ej d\u0142ugo\u015bci");for(let r=0;r<this.prescriptionForm.value.pesel.length;r++)if(isNaN(parseInt(this.prescriptionForm.value.pesel[r])))return void alert("B\u0142\u0119dny PESEL");let t=Date.now(),e=new Date(this.prescriptionForm.value.validity).getTime();if(console.log(t),console.log(e),t>=e||isNaN(t)||isNaN(e))return void alert("B\u0142\u0119dne daty");let n=new Ca(this.prescriptionForm.value.pesel,this.prescriptionForm.value.doctor,this.medicines,this.prescriptionForm.value.validity);this.prescriptionsService.createPrescription(n),alert("Pomy\u015blnie wystawiono now\u0105 recept\u0119!"),this.prescriptionForm.reset()}addMedicine(){""==this.medicine||""==this.quantity||isNaN(parseFloat(this.quantity))||parseFloat(this.quantity)<=0?alert("Nieporawne dodawanie leku do recepty"):(this.medicines.push({medicine:this.medicine,quantity:this.quantity}),this.medicine="",this.quantity="")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(na),r.Mb(Oa))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-create-prescription"]],decls:33,vars:8,consts:[[2,"margin-top","52px","width","60%","margin-left","20%"],[1,"form-group",2,"margin-bottom","50px",3,"formGroup","formGroupChange","ngSubmit"],[1,"content"],["type","submit",1,"btn","btn-success"],["for","pesel"],["id","pesel","type","text","formControlName","pesel",1,"form-control"],["for","validity"],["id","validity","type","date","formControlName","validity",1,"form-control"],["for","doctor"],["id","doctor","type","text","formControlName","doctor",1,"form-control"],["for","medicine"],["id","medicine","type","text",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","quantity"],["id","quantity","type","text",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"btn","btn-secondary",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"h1"),r.zc(2,"Tworzenie nowej recepty"),r.Qb(),r.Rb(3,"form",1),r.bc("formGroupChange",function(t){return e.prescriptionForm=t})("ngSubmit",function(){return e.onSubmit()}),r.Rb(4,"div",2),r.Rb(5,"button",3),r.zc(6,"Wystaw recept\u0119"),r.Qb(),r.Rb(7,"div"),r.Rb(8,"label",4),r.zc(9," PESEL Pacjenta "),r.Qb(),r.Nb(10,"input",5),r.Qb(),r.Rb(11,"div"),r.Rb(12,"label",6),r.zc(13," Wa\u017cno\u015b\u0107 recepty "),r.Qb(),r.Nb(14,"input",7),r.Qb(),r.Rb(15,"div"),r.Rb(16,"label",8),r.zc(17," Lekarz wypisuj\u0105cy "),r.Qb(),r.Nb(18,"input",9),r.Qb(),r.Qb(),r.Qb(),r.Rb(19,"div"),r.Rb(20,"label",10),r.zc(21," Lek "),r.Qb(),r.Rb(22,"input",11),r.bc("ngModelChange",function(t){return e.medicine=t}),r.Qb(),r.Qb(),r.Rb(23,"div"),r.Rb(24,"label",12),r.zc(25," Ilo\u015b\u0107 "),r.Qb(),r.Rb(26,"input",13),r.bc("ngModelChange",function(t){return e.quantity=t}),r.Qb(),r.Qb(),r.Rb(27,"button",14),r.bc("click",function(){return e.addMedicine()}),r.zc(28,"Dodaj lek"),r.Qb(),r.Rb(29,"h3"),r.zc(30,"Dodane leki na recepcie:"),r.Qb(),r.Rb(31,"ul"),r.xc(32,Sa,2,2,"li",15),r.Qb(),r.Qb()),2&t&&(r.Ab(3),r.kc("formGroup",e.prescriptionForm),r.Ab(19),r.kc("ngModel",e.medicine)("ngModelOptions",r.nc(6,xa)),r.Ab(4),r.kc("ngModel",e.quantity)("ngModelOptions",r.nc(7,xa)),r.Ab(6),r.kc("ngForOf",e.medicines))},directives:[Ns,cs,zs,qo,as,Qs,Ds,at],styles:[""]}),t})();function ka(t,e){if(1&t&&(r.Rb(0,"div"),r.Rb(1,"h1",2),r.zc(2),r.Qb(),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"a",5),r.Nb(6,"img",6),r.Rb(7,"div",7),r.zc(8,"Visits"),r.Qb(),r.Qb(),r.Qb(),r.Rb(9,"div",4),r.Rb(10,"a",8),r.Nb(11,"img",9),r.Rb(12,"div",7),r.zc(13,"Patients"),r.Qb(),r.Qb(),r.Qb(),r.Rb(14,"div",4),r.Rb(15,"a",10),r.Nb(16,"img",11),r.Rb(17,"div",7),r.zc(18,"Work Hours"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.dc().$implicit;r.Ab(2),r.Cc("Welcome dr. ",t.firstname," ",t.lastname,"")}}function Ta(t,e){if(1&t&&(r.Pb(0),r.xc(1,ka,19,2,"div",1),r.Ob()),2&t){const t=e.$implicit;r.Ab(1),r.kc("ngIf","doctor"===t.role)}}function Ia(t,e){if(1&t&&(r.Rb(0,"div"),r.Rb(1,"h1",2),r.zc(2),r.Qb(),r.Rb(3,"div",3),r.Rb(4,"div",4),r.Rb(5,"a",5),r.Nb(6,"img",6),r.Rb(7,"div",7),r.zc(8,"Your Visits"),r.Qb(),r.Qb(),r.Qb(),r.Rb(9,"div",4),r.Rb(10,"a",12),r.Nb(11,"img",13),r.Rb(12,"div",7),r.zc(13,"Book Visit"),r.Qb(),r.Qb(),r.Qb(),r.Rb(14,"div",4),r.Rb(15,"a",8),r.Nb(16,"img",14),r.Rb(17,"div",7),r.zc(18,"Your Presciptions"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.dc().$implicit;r.Ab(2),r.Cc("Welcome ",t.firstname," ",t.lastname,"")}}function Aa(t,e){if(1&t&&(r.Pb(0),r.xc(1,Ia,19,2,"div",1),r.Ob()),2&t){const t=e.$implicit;r.Ab(1),r.kc("ngIf","patient"===t.role)}}let ja=(()=>{class t{constructor(t,e){this.auth=t,this.queryService=e}ngOnInit(){console.log(this.auth.getCurrentUserEmail()),this.userEmail=this.auth.getCurrentUserEmail(),this.getDoctorWithEmail(this.userEmail),this.getPatientWithEmail(this.userEmail)}getDoctorWithEmail(t){this.queryService.findDoctorByEmail(t,"value").subscribe(t=>{this.user=t,console.log(t)})}getPatientWithEmail(t){this.queryService.findPatientByEmail(t,"value").subscribe(t=>{0===this.user.length&&(this.user=t),console.log(this.user)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Mo),r.Mb(No))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-home"]],decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"margin-top","100px","text-align","center"],[1,"flex-container","container"],[1,"flex-box","col-10","col-md-5"],["routerLink","/visits",1,"nav-link"],["src","assets/images/hours.jpg",1,"img-fluid"],[1,"sign"],["routerLink","/patients",1,"nav-link"],["src","assets/images/visitors.jpg",1,"img-fluid"],["routerLink","/workHours",1,"nav-link"],["src","assets/images/doctor.jpg",1,"img-fluid"],["routerLink","/book-visit",1,"nav-link"],["src","assets/images/book-visit.png",1,"img-fluid"],["src","assets/images/prescription.jpg",1,"img-fluid"]],template:function(t,e){1&t&&(r.xc(0,Ta,2,1,"ng-container",0),r.xc(1,Aa,2,1,"ng-container",0)),2&t&&(r.kc("ngForOf",e.user),r.Ab(1),r.kc("ngForOf",e.user))},directives:[at,lt,Si],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;margin-top:80px}.flex-box[_ngcontent-%COMP%]{margin:10px;box-shadow:0 0 6px 1px #b5afb5}.flex-box[_ngcontent-%COMP%]:hover{box-shadow:0 0 13px 1px #4aa361}.sign[_ngcontent-%COMP%]{border-top:1px solid brown;text-align:center;padding:10px;font-size:20px;margin-top:5px}img[_ngcontent-%COMP%]{max-width:100%;height:auto}"]}),t})();function Ra(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",6),r.zc(1),r.Rb(2,"button",7),r.bc("click",function(){return r.tc(t),r.dc().hideAlert()}),r.Rb(3,"span",8),r.zc(4,"\xd7"),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.dc();r.Ab(1),r.Bc(" ",t.errorInfo," ")}}let Pa=(()=>{class t{constructor(t){this.auth=t,this.isLogged=!1,this.alertVisible=!1,this.errorInfo=""}ngOnInit(){}onLogIn(){this.auth.logIn(this.email,this.password).catch(t=>{this.errorInfo=t.message,this.alertVisible=!0})}hideAlert(){this.alertVisible=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Mo))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-login"]],decls:9,vars:3,consts:[["id","formContent"],["type","email","id","email","name","email","placeholder","email",1,"fadeIn","second",3,"ngModel","ngModelChange"],["type","password","id","password","name","password","placeholder","password",1,"fadeIn","third",3,"ngModel","ngModelChange"],["type","submit","value","Log In",1,"fadeIn","fourth",3,"click"],["routerLink","/register",1,"link",2,"color","green","font-size","12px"],["class","alert alert-danger alert-dismissible fade show","role","alert","style","margin-top: 10px;",4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show",2,"margin-top","10px"],["type","button","aria-label","close",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div"),r.Rb(2,"input",1),r.bc("ngModelChange",function(t){return e.email=t}),r.Qb(),r.Rb(3,"input",2),r.bc("ngModelChange",function(t){return e.password=t}),r.Qb(),r.Rb(4,"input",3),r.bc("click",function(){return e.onLogIn()}),r.Qb(),r.Rb(5,"div"),r.Rb(6,"a",4),r.zc(7,"New in Clinic? Sign Up!"),r.Qb(),r.Qb(),r.xc(8,Ra,5,1,"div",5),r.Qb(),r.Qb()),2&t&&(r.Ab(2),r.kc("ngModel",e.email),r.Ab(1),r.kc("ngModel",e.password),r.Ab(5),r.kc("ngIf",e.alertVisible))},directives:[qo,as,Ds,Si,lt],styles:["html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;height:100vh}a[_ngcontent-%COMP%]{color:#92badd;text-decoration:none;font-weight:400}a[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{display:inline-block}h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-transform:uppercase;margin:40px 8px 10px;color:#ccc}#formContent[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}#formContent[_ngcontent-%COMP%]{border-radius:5px;background:#fff;width:90%;max-width:450px;position:relative;padding:10px;box-shadow:0 0 8px 3px #4a8753;margin-left:auto;margin-right:auto;margin-top:150px}input[type=button][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px 0 rgba(95,186,233,.4);border-radius:5px 5px 5px 5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{background-color:#f6f6f6;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:15px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px 5px 5px 5px}input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=email][_ngcontent-%COMP%]:placeholder, input[type=password][_ngcontent-%COMP%]:placeholder{color:#ccc}.link[_ngcontent-%COMP%]:hover{border-bottom:1px solid green}"]}),t})(),Da=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-patients"]],decls:12,vars:0,consts:[[2,"margin-top","52px"],[1,"flex-box","col-10","col-md-5"],["routerLink","/create-prescription",1,"nav-link"],["src","assets/images/book-visit.png",1,"img-fluid"],[1,"sign"],["routerLink","/prescription-list",1,"nav-link"]],template:function(t,e){1&t&&(r.Rb(0,"p",0),r.zc(1,"Zarz\u0105dzanie receptami"),r.Qb(),r.Rb(2,"div",1),r.Rb(3,"a",2),r.Nb(4,"img",3),r.Rb(5,"div",4),r.zc(6,"Stw\xf3rz recept\u0119"),r.Qb(),r.Qb(),r.Qb(),r.Rb(7,"div",1),r.Rb(8,"a",5),r.Nb(9,"img",3),r.Rb(10,"div",4),r.zc(11,"Przegl\u0105daj recepty"),r.Qb(),r.Qb(),r.Qb())},directives:[Si],styles:[""]}),t})();function Na(t,e){if(1&t&&(r.Rb(0,"li"),r.zc(1),r.Qb()),2&t){const t=e.$implicit;r.Ab(1),r.Cc(" nazwa: ",t.medicine,", ilo\u015b\u0107: ",t.quantity," ")}}function Ma(t,e){if(1&t&&(r.Rb(0,"tr"),r.Rb(1,"th"),r.zc(2),r.Qb(),r.Rb(3,"th"),r.zc(4),r.Qb(),r.Rb(5,"th"),r.zc(6),r.ec(7,"date"),r.Qb(),r.Rb(8,"th"),r.zc(9),r.ec(10,"date"),r.Qb(),r.Rb(11,"th"),r.Rb(12,"ul"),r.xc(13,Na,2,2,"li",4),r.Qb(),r.Qb(),r.Qb()),2&t){const t=e.$implicit;r.Ab(2),r.Ac(t.pesel),r.Ab(2),r.Ac(t.doctor),r.Ab(2),r.Ac(r.gc(7,5,t.date,"medium")),r.Ab(3),r.Ac(r.fc(10,8,t.validity)),r.Ab(4),r.kc("ngForOf",t.medicines)}}let Va=(()=>{class t{constructor(t){this.prescriptionsService=t}ngOnInit(){this.prescriptionsService.getPrescriptions().subscribe(t=>{this.prescriptions=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Oa))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-prescription-list"]],decls:16,vars:1,consts:[[2,"margin-top","52px"],[2,"text-align","center","margin-top","70px","margin-bottom","30px"],[1,"table",2,"width","100%"],[1,"thead-dark"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"h1",1),r.zc(2,"Twoje recepty"),r.Qb(),r.Rb(3,"table",2),r.Rb(4,"tr",3),r.Rb(5,"th"),r.zc(6,"PESEL"),r.Qb(),r.Rb(7,"th"),r.zc(8,"Lekarz wystawiaj\u0105cy"),r.Qb(),r.Rb(9,"th"),r.zc(10,"Data wystawienia"),r.Qb(),r.Rb(11,"th"),r.zc(12,"Data wa\u017cno\u015bci"),r.Qb(),r.Rb(13,"th"),r.zc(14,"Leki"),r.Qb(),r.Qb(),r.xc(15,Ma,14,10,"tr",4),r.Qb(),r.Qb()),2&t&&(r.Ab(15),r.kc("ngForOf",e.prescriptions))},directives:[at],pipes:[dt],styles:[""]}),t})();function Fa(t,e){if(1&t){const t=r.Sb();r.Pb(0),r.Rb(1,"div",8),r.Rb(2,"input",19),r.bc("ngModelChange",function(e){return r.tc(t),r.dc().pesel=e}),r.Qb(),r.Qb(),r.Ob()}if(2&t){const t=r.dc();r.Ab(2),r.kc("ngModel",t.pesel)}}function La(t,e){if(1&t){const t=r.Sb();r.Pb(0),r.Rb(1,"div",8),r.Rb(2,"input",20),r.bc("ngModelChange",function(e){return r.tc(t),r.dc().specialization=e}),r.Qb(),r.Qb(),r.Rb(3,"div",8),r.Rb(4,"input",21),r.bc("ngModelChange",function(e){return r.tc(t),r.dc().address=e}),r.Qb(),r.Qb(),r.Ob()}if(2&t){const t=r.dc();r.Ab(2),r.kc("ngModel",t.specialization),r.Ab(2),r.kc("ngModel",t.address)}}function Ua(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",22),r.zc(1),r.Rb(2,"button",23),r.bc("click",function(){return r.tc(t),r.dc().hideAlert()}),r.Rb(3,"span",24),r.zc(4,"\xd7"),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.dc();r.Ab(1),r.Bc(" ",t.errorInfo," ")}}let Ha=(()=>{class t{constructor(t){this.auth=t,this.firstname="",this.lastname="",this.telephone=null,this.email=null,this.specialization="",this.address="",this.password="",this.password_repeat="",this.userRole=null,this.pesel="",this.alertVisible=!1,this.errorInfo=""}ngOnInit(){}onCreateUser(){if(!this.validatePassword())return;if(!this.validateRadioButton())return;let t=this.prepareUser();this.auth.createUser(this.email,this.password,this.userRole.toString().concat("s"),t,!0).catch(t=>{this.errorInfo=t.message,this.alertVisible=!0})}validatePassword(){return this.password!==this.password_repeat?(this.alertVisible=!0,this.errorInfo="Passwords are not the same!",!1):(this.alertVisible=!1,!0)}validateRadioButton(){return null===this.userRole?(this.alertVisible=!0,this.errorInfo="You must choose doctor or patient role!",!1):(this.alertVisible=!1,!0)}hideAlert(){this.alertVisible=!1}prepareUser(){return"patient"===this.userRole?{firstname:this.firstname,lastname:this.lastname,email:this.email,telephoneNumber:this.telephone,pesel:this.pesel,active:!0,role:"patient"}:"doctor"===this.userRole?{firstname:this.firstname,lastname:this.lastname,telephoneNumber:this.telephone,email:this.email,specialization:this.specialization,officeAddress:this.address,workHours:null,active:!0,role:"doctor"}:null}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Mo))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-register"]],decls:28,vars:11,consts:[[1,"form-box","d-flex","flex-column","col-11","col-md-4"],[1,"form"],[1,"form-row"],[1,"col-10","input",2,"margin-top","20px"],["type","radio","id","doctor","name","role","value","doctor",3,"ngModel","ngModelChange"],["for","doctor",2,"margin-left","3px"],["type","radio","id","patient","name","role","value","patient",2,"margin-left","8px",3,"ngModel","ngModelChange"],["for","patient",2,"margin-left","3px"],[1,"col-10","input"],["placeholder","Firstname",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Lastname",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Telephone Number","type","tel",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"col-10","input",2,"margin-top","30px"],["placeholder","Email","type","email",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","Re-enter password",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Sign Up",1,"btn","btn-primary",2,"display","block","margin-left","auto","margin-right","auto","margin-top","30px",3,"click"],["class","alert alert-danger alert-dismissible fade show","role","alert","style","margin-top: 10px;",4,"ngIf"],["placeholder","PESEL",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Specialization",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Office Address",1,"form-control",3,"ngModel","ngModelChange"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show",2,"margin-top","10px"],["type","button","aria-label","close",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"h1"),r.zc(2,"SIGN UP"),r.Qb(),r.Rb(3,"div",1),r.Rb(4,"div",2),r.Rb(5,"div",3),r.Rb(6,"input",4),r.bc("ngModelChange",function(t){return e.userRole=t}),r.Qb(),r.Rb(7,"label",5),r.zc(8,"Doctor"),r.Qb(),r.Rb(9,"input",6),r.bc("ngModelChange",function(t){return e.userRole=t}),r.Qb(),r.Rb(10,"label",7),r.zc(11,"Patient"),r.Qb(),r.Qb(),r.Rb(12,"div",8),r.Rb(13,"input",9),r.bc("ngModelChange",function(t){return e.firstname=t}),r.Qb(),r.Qb(),r.Rb(14,"div",8),r.Rb(15,"input",10),r.bc("ngModelChange",function(t){return e.lastname=t}),r.Qb(),r.Qb(),r.Rb(16,"div",8),r.Rb(17,"input",11),r.bc("ngModelChange",function(t){return e.telephone=t}),r.Qb(),r.Qb(),r.xc(18,Fa,3,1,"ng-container",12),r.xc(19,La,5,2,"ng-container",12),r.Rb(20,"div",13),r.Rb(21,"input",14),r.bc("ngModelChange",function(t){return e.email=t}),r.Qb(),r.Qb(),r.Rb(22,"div",8),r.Rb(23,"input",15),r.bc("ngModelChange",function(t){return e.password=t}),r.Qb(),r.Qb(),r.Rb(24,"div",8),r.Rb(25,"input",16),r.bc("ngModelChange",function(t){return e.password_repeat=t}),r.Qb(),r.Qb(),r.Qb(),r.Rb(26,"input",17),r.bc("click",function(){return e.onCreateUser()}),r.Qb(),r.xc(27,Ua,5,1,"div",18),r.Qb(),r.Qb()),2&t&&(r.Ab(6),r.kc("ngModel",e.userRole),r.Ab(3),r.kc("ngModel",e.userRole),r.Ab(4),r.kc("ngModel",e.firstname),r.Ab(2),r.kc("ngModel",e.lastname),r.Ab(2),r.kc("ngModel",e.telephone),r.Ab(1),r.kc("ngIf","patient"===e.userRole),r.Ab(1),r.kc("ngIf","doctor"===e.userRole),r.Ab(2),r.kc("ngModel",e.email),r.Ab(2),r.kc("ngModel",e.password),r.Ab(2),r.kc("ngModel",e.password_repeat),r.Ab(2),r.kc("ngIf",e.alertVisible))},directives:[Ls,qo,as,Ds,lt],styles:[".buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;margin:100px auto 0;text-align:center;border-bottom:2px solid #1c8c38}.buttons[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1c8c38}.buttons-item[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.buttons-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:40%;margin:10px 10px 10px 0}.form-box[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:150px;background-color:#fff;box-shadow:0 0 13px 2px #8f7e8f;border-radius:5px;padding:30px;text-align:center}.form-box[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin:0 auto 10px}.col-10[_ngcontent-%COMP%]{margin-top:8px}.form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:80%;margin-left:auto;margin-right:auto;margin-top:10px}h1[_ngcontent-%COMP%]{border-bottom:1px solid #4a8753}.items[_ngcontent-%COMP%]{margin:50px auto 0;padding:10px;box-shadow:0 0 10px 0 #4a8753}.item[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-top:8px;padding:10px;border-bottom:2px solid #6ce68b}.item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{border-radius:5px}"]}),t})();function za(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",3),r.Rb(1,"div",4),r.Rb(2,"span",5),r.zc(3),r.ec(4,"date"),r.Qb(),r.Nb(5,"br"),r.Rb(6,"span",5),r.zc(7),r.ec(8,"date"),r.Qb(),r.Nb(9,"br"),r.Rb(10,"span",5),r.zc(11),r.Qb(),r.Qb(),r.Rb(12,"button",6),r.bc("click",function(){r.tc(t);const n=e.$implicit;return r.dc().deleteVisit(n.key)}),r.zc(13,"Delete"),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=r.dc();r.Ab(3),r.Bc("Data rozpocz\u0119cie wizyty: ",r.gc(4,3,t.startDate,"HH:mm dd/MM/yyyy"),""),r.Ab(4),r.Bc("Data zako\u0144czenia wizyty: ",r.gc(8,6,t.endDate,"HH:mm dd/MM/yyyy"),""),r.Ab(4),r.Bc("Lekarz: dr. ",n.findDoctorName(t.doctorKey)," ")}}const qa=[{path:"home",component:ja},{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"visits",component:(()=>{class t{constructor(t,e){this.visitService=t,this.doctorService=e,this.visits=[],this.doctors=new Map,this.patientKey="-MZKMRbirtB-S8UUiWZe"}ngOnInit(){this.getVisits(),this.getDoctors()}getVisits(){this.visitService.getPatientVisits(this.patientKey).pipe(Object(ge.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{this.visits=t,console.log(this.visits)})}getDoctors(){this.doctorService.getDoctors().pipe(Object(ge.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{t.forEach(t=>{this.doctors.set(t.key,t.firstname+" "+t.lastname)}),console.log(this.doctors)})}findDoctorName(t){return this.doctors.get(t)}deleteVisit(t){this.visitService.deletePatientFromVisit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(aa),r.Mb(oa))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-visits"]],decls:4,vars:1,consts:[[2,"margin-top","52px"],[1,"d-flex","flex-column","justify-content-center","items","border","m-3","p-2"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"name","col-8"],[2,"font-weight","bold"],[1,"btn","btn-danger","col-3",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"p",0),r.Pb(1),r.Rb(2,"div",1),r.xc(3,za,14,9,"div",2),r.Qb(),r.Ob()),2&t&&(r.Ab(3),r.kc("ngForOf",e.visits))},directives:[at],pipes:[dt],styles:[""]}),t})()},{path:"workHours",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-work-hours"]],decls:2,vars:0,consts:[[2,"margin-top","52px"]],template:function(t,e){1&t&&(r.Rb(0,"p",0),r.zc(1,"work-hours works!"),r.Qb())},styles:[""]}),t})()},{path:"patients",component:Da},{path:"admin-panel",component:ya},{path:"sign-in",component:Pa},{path:"register",component:Ha},{path:"active-account",component:ia},{path:"book-visit",component:wa},{path:"create-prescription",component:Ea},{path:"prescription-list",component:Va}];let Qa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[Mi.forRoot(qa)],Mi]}),t})();var Ba=n("n6bG");function Wa(t,e,n,r){return Object(Ba.a)(n)&&(r=n,n=void 0),r?Wa(t,e,n).pipe(Object(ge.a)(t=>Object(Jt.a)(t)?r(...t):r(t))):new re.a(r=>{$a(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function $a(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)$a(t[o],e,n,r,i)}r.add(o)}var Ya=n("Y7HM");function Ga(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class Ka{call(t,e){return e.subscribe(new Za(t))}}class Za extends te{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=ie(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var Ja=n("Lhse");function Xa(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(oe.a)(t,void 0).lift(new tc(e))}class tc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ec(t,this.resultSelector))}}class ec extends Xt.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(Jt.a)(t)?e.push(new rc(t)):e.push("function"==typeof t[Ja.a]?new nc(t[Ja.a]()):new ic(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class nc{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class rc{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Ja.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ic extends me.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Ja.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(me.c)(this.observable,new me.a(this))}}function oc(t){return e=>e.lift(new sc(t))}class sc{constructor(t){this.notifier=t}call(t,e){const n=new ac(t),r=Object(me.c)(this.notifier,new me.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class ac extends me.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}n("WMd4");const cc=["*"],lc=["dialog"];function uc(t){return null!=t}function hc(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const dc={animation:!0,transitionTimerDelayMs:5};let pc=(()=>{class t{constructor(){this.animation=dc.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const fc=()=>{},{transitionTimerDelayMs:gc}=dc,mc=new Map,bc=(t,e,n,r)=>{let i=r.context||{};const o=mc.get(e);if(o)switch(r.runningTransition){case"continue":return de.a;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),mc.delete(e)}const s=n(e,r.animation,i)||fc;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),Object($t.a)(void 0).pipe(function(t){return e=>new re.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new Yt.a,c=new Yt.a,l=a.pipe(function(...t){return e=>he(e,Object($t.a)(...t))}(!0));mc.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const u=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=Wa(e,"transitionend").pipe(oc(l),ke(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(Jt.a)(t[0]))return t[0];t=t[0]}return Object(oe.a)(t,void 0).lift(new Ka)})(function(t=0,e,n){let r=-1;return Object(Ya.a)(e)?r=Number(e)<1?1:Number(e):Object(Zt.a)(e)&&(n=e),Object(Zt.a)(n)||(n=co.a),new re.a(e=>{const i=Object(Ya.a)(t)?t:+t-n.now();return n.schedule(Ga,i,{index:0,period:r,subscriber:e})})}(u+gc).pipe(oc(l)),n,c).pipe(oc(l)).subscribe(()=>{mc.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let yc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})(),_c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})(),vc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),wc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})(),Cc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();var Oc=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Sc=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function xc(t){const e=Array.from(t.querySelectorAll(Sc)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),c=parseFloat(a.marginTop),l=parseFloat(a.marginBottom),u=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,p=0;switch(i){case"top":d=s.top-(e.offsetHeight+c+l);break;case"bottom":d=s.top+s.height;break;case"left":p=s.left-(e.offsetWidth+u+h);break;case"right":p=s.left+s.width}switch(o){case"top":d=s.top;break;case"bottom":d=s.top+s.height-e.offsetHeight;break;case"left":p=s.left;break;case"right":p=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?p=s.left+s.width/2-e.offsetWidth/2:d=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,b=window.innerWidth||g.clientWidth;return f.left>=0&&f.top>=0&&f.right<=b&&f.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let Ec=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt,ta]]}),t})(),kc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["",8,"navbar"]]}),t})(),Tc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),Ic=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(pc))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(pc))},token:t,providedIn:"root"}),t})();class Ac{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const jc=()=>{};let Rc=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):jc}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(s))},token:t,providedIn:"root"}),t})(),Pc=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(we(1)).subscribe(()=>{bc(this._zone,this._el.nativeElement,(t,e)=>{e&&hc(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return bc(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Cb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Eb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Dc{close(t){}dismiss(t){}}class Nc{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Yt.a,this._dismissed=new Yt.a,this._hidden=new Yt.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(oc(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(oc(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object($t.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Xa(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Mc=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Vc=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Yt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new Yt.a,this.hidden=new Yt.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Xa(bc(this._zone,t,()=>t.classList.remove("show"),e),bc(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};Xa(bc(this._zone,this._elRef.nativeElement,(t,e)=>{e&&hc(t),t.classList.add("show")},t),bc(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Wa(t,"keydown").pipe(oc(this._closed$),ke(t=>t.which===Oc.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Mc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Wa(this._dialogEl.nativeElement,"mousedown").pipe(oc(this._closed$),Object($e.a)(()=>e=!1),be(()=>Wa(t,"mouseup").pipe(oc(this._closed$),we(1))),ke(({target:e})=>t===e)).subscribe(()=>{e=!0}),Wa(t,"click").pipe(oc(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(Mc.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=xc(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&bc(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(s),r.Mb(r.l),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Dc(lc,3),2&t){let t;r.rc(t=r.cc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Bb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Cb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Eb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:cc,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.jc(),r.Rb(0,"div",0,1),r.Rb(2,"div",2),r.ic(3),r.Qb(),r.Qb()),2&t&&r.Cb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Fc=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new Yt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Wa(e,"focusin").pipe(oc(n),Object(ge.a)(t=>t.target));Wa(e,"keydown").pipe(oc(n),ke(t=>t.which===Oc.Tab),po(t)).subscribe(([t,n])=>{const[r,i]=xc(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Wa(e,"click").pipe(oc(n),po(t),Object(ge.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:uc(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const c=new Dc,l=this._getContentRef(t,r.injector||e,n,c,r);let u=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,l),d=new Nc(h,l,u,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),u&&u.instance&&this._applyBackdropOptions(u.instance,r),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(Pc).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(Vc).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{uc(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{uc(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.L?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new Ac([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Ac([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new Ac([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.s.create({providers:[{provide:Dc,useValue:i}],parent:e}),c=s.create(a),l=c.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Ac([[l]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.g),r.Yb(r.s),r.Yb(s),r.Yb(Rc),r.Yb(r.F),r.Yb(r.A))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(r.g),Object(r.Yb)(r.o),Object(r.Yb)(s),Object(r.Yb)(Rc),Object(r.Yb)(r.F),Object(r.Yb)(r.A))},token:t,providedIn:"root"}),t})(),Lc=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.j),r.Yb(r.s),r.Yb(Fc),r.Yb(Ic))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Yb)(r.j),Object(r.Yb)(r.o),Object(r.Yb)(Fc),Object(r.Yb)(Ic))},token:t,providedIn:"root"}),t})(),Uc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Lc]}),t})(),Hc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})(),zc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})(),qc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})(),Qc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})(),Bc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})(),Wc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})(),$c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})(),Yc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();new r.r("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Gc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[pt]]}),t})();const Kc=[yc,_c,vc,wc,Cc,Ec,Tc,Uc,Hc,zc,qc,Qc,Bc,Wc,$c,Yc,Gc];let Zc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Kc,yc,_c,vc,wc,Cc,Ec,Tc,Uc,Hc,zc,qc,Qc,Bc,Wc,$c,Yc,Gc]}),t})();function Jc(t,e){1&t&&(r.Rb(0,"ul",9),r.Rb(1,"li",10),r.Rb(2,"a",11),r.zc(3,"Home"),r.Qb(),r.Qb(),r.Rb(4,"li",10),r.Rb(5,"a",12),r.zc(6,"Visits"),r.Qb(),r.Qb(),r.Rb(7,"li",10),r.Rb(8,"a",13),r.zc(9,"Patients"),r.Qb(),r.Qb(),r.Rb(10,"li",10),r.Rb(11,"a",14),r.zc(12,"Work Hours"),r.Qb(),r.Qb(),r.Qb())}function Xc(t,e){1&t&&(r.Rb(0,"ul",9),r.Rb(1,"li",10),r.Rb(2,"a",11),r.zc(3,"Home"),r.Qb(),r.Qb(),r.Rb(4,"li",10),r.Rb(5,"a",12),r.zc(6,"Visits"),r.Qb(),r.Qb(),r.Rb(7,"li",10),r.Rb(8,"a",13),r.zc(9,"Prescriptions"),r.Qb(),r.Qb(),r.Qb())}function tl(t,e){1&t&&(r.Rb(0,"ul",9),r.Rb(1,"li",10),r.Rb(2,"a",15),r.zc(3,"Admin Panel"),r.Qb(),r.Qb(),r.Qb())}const el=function(t){return{logout:t}};function nl(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",16),r.bc("click",function(){return r.tc(t),r.dc(2).logOut()}),r.zc(1,"Log Out"),r.Qb()}if(2&t){const t=r.dc(2);r.kc("ngClass",r.oc(1,el,t.collapsed))}}const rl=function(t){return{collapse:t,"navbar-collapse":!0}};function il(t,e){if(1&t&&(r.Rb(0,"div",6),r.xc(1,Jc,13,0,"ul",7),r.xc(2,Xc,10,0,"ul",7),r.xc(3,tl,4,0,"ul",7),r.xc(4,nl,2,3,"button",8),r.Qb()),2&t){const t=r.dc();r.kc("ngClass",r.oc(5,rl,t.collapsed)),r.Ab(1),r.kc("ngIf",t.isDoctor),r.Ab(1),r.kc("ngIf",t.isPatient),r.Ab(1),r.kc("ngIf",t.isAdmin),r.Ab(1),r.kc("ngIf",t.loginState)}}function ol(t,e){if(1&t&&(r.Rb(0,"div",6),r.Rb(1,"ul",9),r.Rb(2,"li",10),r.Rb(3,"a",17),r.zc(4,"Sign In"),r.Qb(),r.Qb(),r.Qb(),r.Rb(5,"ul",9),r.Rb(6,"li",10),r.Rb(7,"a",18),r.zc(8,"Sign Up"),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.dc();r.kc("ngClass",r.oc(1,rl,t.collapsed))}}let sl=(()=>{class t{constructor(t,e){this.auth=t,this.queryService=e,this.collapsed=!0,this.loginState=null,this.isAdmin=!1,this.isDoctor=!1,this.isPatient=!1}ngOnInit(){this.loginState=this.auth.getState().subscribe(t=>{t?(this.loginState=!0,"admin@admin.com"===t.email?this.isAdmin=!0:(this.queryService.findDoctorByEmail(t.email,"value").subscribe(t=>{t.length>0&&(this.isDoctor=!0)}),this.queryService.findPatientByEmail(t.email,"value").subscribe(t=>{t.length>0&&(this.isPatient=!0)}))):(this.loginState=!1,this.isAdmin=!1,this.isPatient=!1,this.isDoctor=!1)})}toggleCollapsed(){this.collapsed=!this.collapsed}logOut(){this.auth.logOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Mo),r.Mb(No))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:9,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-success","fixed-top"],[1,"container-fluid"],[1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",3,"ngClass",4,"ngIf"],["id","navbarSupportedContent",3,"ngClass"],["class","navbar-nav me-auto mb-2 mb-lg-0",4,"ngIf"],["class","btn btn-success",3,"ngClass","click",4,"ngIf"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","home",1,"nav-link"],["routerLink","visits",1,"nav-link"],["routerLink","patients",1,"nav-link"],["routerLink","workHours",1,"nav-link"],["aria-current","page","routerLink","admin-panel",1,"nav-link"],[1,"btn","btn-success",3,"ngClass","click"],["aria-current","page","routerLink","sign-in",1,"nav-link"],["aria-current","page","routerLink","register",1,"nav-link"]],template:function(t,e){1&t&&(r.Rb(0,"nav",0),r.Rb(1,"div",1),r.Rb(2,"a",2),r.zc(3,"Clinic"),r.Qb(),r.Rb(4,"button",3),r.bc("click",function(){return e.toggleCollapsed()}),r.Nb(5,"span",4),r.Qb(),r.xc(6,il,5,7,"div",5),r.xc(7,ol,9,3,"div",5),r.Qb(),r.Qb(),r.Nb(8,"router-outlet")),2&t&&(r.Ab(6),r.kc("ngIf",e.loginState),r.Ab(1),r.kc("ngIf",!e.loginState))},directives:[kc,lt,Ei,ot,Si],styles:[".logout[_ngcontent-%COMP%]{position:fixed;right:5px}"]}),t})();const al={apiKey:"AIzaSyAU4rSiQiP2zP5jMMm0_MZvCJ9oM9JF3WA",authDomain:"medical-clini.firebaseapp.com",projectId:"medical-clini",storageBucket:"medical-clini.appspot.com",messagingSenderId:"973158807649",appId:"1:973158807649:web:e1e80023e133448338d220",measurementId:"G-BDEYJHB8YY"};let cl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[sl]}),t.\u0275inj=r.Jb({providers:[],imports:[[Bt,Qa,to.a.initializeApp(al),Do,Zc,ta,ea]]}),t})();Object(r.T)(),qt().bootstrapModule(cl).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);